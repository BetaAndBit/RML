/* !
 * 
 * VERSION: 0.2.9
 * DATE: 2019-4-12 17:18:23
 * UPDATES AND DOCS AT: http://www.fliphtml5.com
 * 
 * @license Copyright (c) 2012-2019 FlipHTML5 Software Co., Ltd. All rights reserved.
 * @author: Terence Z., Q.Y.B., support@fliphtml5.com.
 *
 */
!function(a,b,c){function d(a,b,c){Object.defineProperty(a,b,c)}function e(a,b){var c={};if("string"==typeof a&&(a=a.split(" ")),null==b&&(b=!0),"function"==typeof b)for(var d=-1,e=a.length;++d<e;)c[a[d]]=b(a[d],d,a);else for(var d=-1,e=a.length;++d<e;)c[a[d]]=b;return c}function f(){return++Jc}function g(a){return function(b){return 1-a(1-b)}}function h(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function i(a,b){return a&&b?a.startTime-b.startTime||a._arrival-b._arrival:-1}function j(a,b){return a&&b?b.startTime-a.startTime||b._arrival-a._arrival:-1}function k(a,b,c){if(a)if(c=c||a,Array.isArray(a))a.forEach(function(){b.apply(c,Array.prototype.slice.call(arguments))});else for(var d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function l(a,b,c,d,f){var g=b.split(" "),h=g.length-(c?1:0)-(d?1:0),i=d?e(d):null;Zc[3][a]={_default:b,normalize:function(a,d,e){null!=d&&""!==d&&"auto"!==d&&"none"!==d||(d=b);var f;return f=c?fc((d+"").replace(/\s*,\s*/g,","),","):(d+"").split(/\s*,\s*/),o(a,f.map(function(a){for(var b=a.split(" "),c=g.concat(),d=i?c.length-2:c.length-1,e=0,f=h,j=-1,k=Math.min(c.length,b.length);++j<k;){var l=b[j];i&&l in i?c[c.length-1]=l:isFinite(parseInt(l,10))?e<f&&(c[e++]=l):c[d]=l}return c}),e,3)},getInterpolater:function(a,b){var c=r(a,b);return function(a){for(var b=c.call(this,a,!0),d=[],e=-1,f=b.length;++e<f;)d[e]=b[e].join(" ");return d+""}}},f&&pb(Zc[3][a],f)}function m(a,b,d,e,f){var g,h,i,j,k=0,l=0,m=c,s=o,t=Zc[f],u=null;t&&(u=t[b])&&(u.normalize&&(s=u.normalize),u.get&&(e=u.get)),Array.isArray(d)||(g=d.from,h=d.to,k=d.operator||0,l=d.constant||0,j=d.template);var v=e(a,b),w=0;if(h===m&&g===m)return null;h===m?(h=v,w=2):g===m&&(g=v,w=1);var x=0;"string"==typeof g&&(i=g.substr(0,2))in $c&&(g=g.substr(2),x=$c[i]);var A=0;"string"==typeof h&&(i=h.substr(0,2))in $c&&(h=h.substr(2),A=$c[i]);var B=s(a,g,b,f),C=s(a,h,b,f),D=1===w?B:2===w?C:s(a,v,b,f),E=B[2],F=B[1];B=B[0];var G=C[2],H=C[1];C=C[0];var I=D[2],J=D[1];D=D[0],E===I&&E===G&&(3===f||J===F&&F===H)||(E=G=I=1,F=H=J=null,x=A=0,B=g,C=h,D=v);var K=p;x&&(5===E&&B.length!==D.length&&n(a,b,D,B,f),B=K(a,b,x,D,B,E,J,F,f)),A&&(5===G&&D.length!==C.length&&n(a,b,D,C,f),C=K(a,b,A,D,C,G,J,H,f)),3===f&&F!==H&&(B=rb(a,b,B,F,H),F=H),5===G&&B.length!==C.length&&n(a,b,B,C,f),i=q(k,B,C,G),2===G&&(d.round||!1!==d.round&&"px"===H?G=3:d.floor&&(G=30));var L=u&&u.getInterpolater&&u.getInterpolater(G,i)||r(G,i),M={n:b,f:i.f,t:i.t,b:i.b,u:H,i:L,s:d.sign,fn:d.final===c?d.freeze?c:v:d.final,r:null};return!l||1===G&&1===l||(M.i=y(M.i,l)),null!=j&&(M.i=z(M.i,j,G)),M}function n(a,b,c,d,e){var f=Zc[e],g=f?f[b]:null,h=g&&g.normalize||o;if(g){for(var i=g._default,j=d.length-1,k=c.length;++j<k;)d.push(h(a,i,b,e)[0][0]);for(j=c.length-1,k=d.length;++j<k;)c.push(h(a,i,b,e)[0][0])}else{for(var i=c[c.length-1],j=d.length-1,k=c.length;++j<k;)d.push(h(a,cc(i,!0),b,e));for(i=d[d.length-1],j=c.length-1,k=d.length;++j<k;)c.push(h(a,cc(i,!0),b,e))}}function o(a,b,c,d){var e=typeof b,f=3===d;if("number"===e)return[b,f&&!Qh[c]?"px":null,2];if("string"===e){var g=parseFloat(b);if(0===g||g){var h=b.substr((g+"").length);if(!~h.search(ad))return[g,h||(f&&!Qh[c]?"px":null),2]}if(b=b.trim(),Ee.table[b]||_c.test(b)){var i=b.indexOf(")");if(i<0||i===b.length-1&&b.indexOf(")",i+1)<0)return[Ee.parse(b),null,4]}return!f||b&&"auto"!==b?[f&&"@"===b?"":b,null,1]:[0,Qh[c]?null:"px",2]}if(b instanceof Ee)return[Ee.parse(b),null,4];if(Array.isArray(b)){for(var j=[],k=-1,l=b.length;++k<l;)j[k]=o(a,b[k],c+k,d);return[j,null,5]}return[b,null,1]}function p(a,b,c,d,e,f,g,h,i){if(3===i&&f>1&&g!==h&&(d=rb(a,b,d,g,h)),2===f){if(1===c)return d+e;if(2===c)return d-e}if(4===f){if(1===c)return[d[0]+e[0],d[1]+e[1],d[2]+e[2],d[3]+e[3]];if(2===c)return[d[0]-e[0],d[1]-e[1],d[2]-e[2],d[3]-e[3]]}return e}function q(a,b,c,d){var e=null;if(2===d)0===a?e=c-b:1===a?(e=c,c=b+e):2===a&&(e=-c,c=b+e);else if(4===d)0===a?e=[c[0]-b[0],c[1]-b[1],c[2]-b[2],c[3]-b[3]]:1===a?(e=c,c=[e[0]+b[0],e[1]+b[1],e[2]+b[2],e[3]+b[3]]):2===a&&(e=c,c=[(e[0]*=-1)+b[0],(e[1]*=-1)+b[1],(e[2]*=-1)+b[2],(e[3]*=-1)+b[3]]);else if(5===d){for(var f=[],g=-1,h=c.length;++g<h;)f[g]=q(a,b[g][0],c[g][0],c[g][2]);return{f:b,t:c,b:f}}return{f:b,t:c,b:e}}function r(a,b){if(2===a)return s;if(3===a)return t;if(1===a)return v;if(4===a)return w;if(5===a){for(var c=b.b,d=b.t,e=-1,f=d.length;++e<f;){var g=c[e];g.u=d[e][1],g.i=r(d[e][2],g)}return b.t=b.f=null,x}return 30===a?u:void 0}function s(a){var b=bc(this.f+this.b*a);return null==this.u?b:b+this.u}function t(a){var b=~~(this.f+this.b*a+.5);return null==this.u?b:b+this.u}function u(a){var b=~~(this.f+this.b*a);return null==this.u?b:b+this.u}function v(a){return a>0?this.t:this.f}function w(a){var b=this.f,c=this.b;return"rgba("+Math.max(0,Math.min(255,~~(b[0]+a*c[0])))+","+Math.max(0,Math.min(255,~~(b[1]+a*c[1])))+","+Math.max(0,Math.min(255,~~(b[2]+a*c[2])))+","+Math.max(0,Math.min(1,b[3]+a*c[3]))+")"}function x(a){for(var b=[],c=this.b,d=-1,e=c.length;++d<e;)b[d]=c[d].i(a);return b}function y(a,b){return 1===b?function(b){return b<=0?a.call(this,0):a.call(this,1)}:function(b){return b<1?a.call(this,0):a.call(this,1)}}function z(a,b,c){var d=bd;d.lastIndex=0;for(var e,f=[],g=[],h=0;e=d.exec(b);)h!==e.index&&(f.push(b.substring(h,e.index)),g.push([f.push(null)-1,+e[1]])),h=d.lastIndex;return h<b.length&&f.push(b.substr(h)),5===c?function(b){for(var c=a.call(this,b),d=-1,e=g.length;++d<e;)f[g[d][0]]=c[g[d][1]];return f+""}:function(b){var c=a.call(this,b);return f[g[0][0]]=c,f.join("")}}function A(a,b){var c=m(a,b.name,b,E,1);return c&&(c.r=B),c}function B(a,b,c){a[c]=b}function C(a,b,c){a.setAttribute(c,b)}function D(a,b,c){We(a,c,b)}function E(a,b){return a[b]}function F(a,b){return a.getAttribute(b)}function G(a,b){if(!dd[b]&&!$g.KEYWORDS[b]){var c;if((c=a.style[b])&&"initial"!==c&&"inherit"!==c)return c}return Xe(a,b)}function H(a,b){a.r=1===b?fd.dom1:2===b?function(a){return function(b,c){a.call(b._dom,c)}}(a.r):fd.dom0}function I(a,b){return(hd[a]||(hd[a]=++gd<<4))+b}function J(a){function b(b,d){var e=0;"number"==typeof d&&(e=d);var f=b["offset"+a];switch(e){case 0:f-=Xe(b,"padding"+c[0],!0)+Xe(b,"padding"+c[1],!0);case 1:f-=Xe(b,"border"+c[0]+"Width",!0)+Xe(b,"border"+c[1]+"Width",!0);case 2:return f;case 3:return f+Xe(b,"margin"+c[0],!0)+Xe(b,"margin"+c[1],!0)}return f}var c=(a.toLowerCase(),"Width"===a?["Left","Right"]:["Top","Bottom"]);return function(a,c){var d=[];K(a,d);for(var e,f,g,h=b(a,c),i=0;e=d[i];++i){a=e.el,g=a.style;for(f in e)"string"==typeof e[f]&&(g[f]=e[f])}return h}}function K(a,b){if(a.offsetWidth<=0){if(qd.test(Nh(a,null).display)){var c={el:a},d=a.style;for(var e in pd)c[e]=d[e],d[e]=pd[e];b.push(c)}var f=a.parentNode;f&&1===f.nodeType&&K(f,b)}}function L(a,b,d,e){void 0===d&&(d={}),["In","Out"].forEach(function(f,g){Rc.registerAnimationFactory("TA"+a+f,function(a,h,i){void 0===i&&(i={});var j=1===g,k=a instanceof Ie,l=k?a.dom:a,m=kb(l,!0);if(null===m)return Rc.getAnimation(a,"Fade"+f,h,i);var n=m.el;n.className+=" leo-splitText-el leo-animation-unnecessary",fb(n),l.parentNode.insertBefore(n,l),Dc(l.childNodes).forEach(function(a){1===a.nodeType&&Ye(a,"transformStyle","preserve-3d")});var o=m.chars,p=m.chars.length,q=Bd.getSequenceTable("random",1,p),r=!(i.random!==c?!i.random:!d.random)&&q.pop(),s=0,t=d.interval,u=Dd(h*(1-(null==i.interval?null==t?.5:t:i.interval))),v=(h-u)/(r||p-1),w=cc(b),x=Tc.create(i);if(j)var y=w.pop();else y=w.shift();var z=w.length;e||(e=[]),w.forEach(function(a,b){j&&(b=z-b-1,a=w[b]);var c=e[b],f=Dd(u*(c||1/z))||1,g=i.easing||d.easing||"linear";o.forEach(function(b,c){var d,e={};for(var h in a)d=a[h],e[h]="function"==typeof d?{to:d(b,c)}:{to:d};var i=Xc.create(b,f,{delay:Ed(v*(r?q[c]:c)+s),easing:g});i.addEventListener("init",function(){i.apply(e),Ye(b,"visibility","visible")},null),i.addEventListener("end",function(){j&&Ye(b,"visibility","hidden")},null),x.add(i)}),s+=f});var A=d.transformOrigin,B="function"==typeof A,C="string"==typeof A,D=B||C;return o.forEach(function(a,b){D&&Ye(a,"transformOrigin",B?A(a,b):A),j||Ye(a,"visibility","hidden");for(var c in y){var d=y[c];"function"==typeof d?Ye(a,c,d(a,b)):Ye(a,c,d)}}),x.addEventListener("update",function(){1===x._ratio?(j||(k?a.visible=!0:eb(l)),fb(n)):(k?a.visible=!1:fb(l),eb(n))},null),x.addEventListener("destroy",function(){l.parentNode.removeChild(n),m=null,l=null},null),x})})}function M(a){k(["Right","Left","Bottom","Top"],a)}function N(a,c,d){return function(e,f,g){void 0===g&&(g={});var h=pb("function"==typeof d?d(c):d,g.params);h.easing=g.easing;var i=Tc.create(g);return i.addEventListener("init",function(){var d,g=e instanceof Ie,j={opacity:{to:0,freeze:!1,constant:1}};g?j.visible={to:!c,constant:c?2:0}:j.display={to:c?"none":"",constant:c?2:0},d=Xc.create(e,f),d.apply(j),i.add(d,0),e=e instanceof Ie?e.dom:e,c||eb(e);for(var k=W(e,h,c),l=k.length,m=1===l?0:(h&&h.interval||.6)*f/(l-1),n=f-(l-1)*m,o="string"==typeof a,p=b.createDocumentFragment();l-- >0;){var q=k[l];if(q)for(var r=q.length;r-- >0;){var s=q[r];p.appendChild(s.div),d=o?Rc.getAnimation(s.div,a,n,h):O(s,a,n,h,c),i.add(d,m*l)}}var t=Ad("div");t.className="leo-animation-container leo-animation-unnecessary",Ye(t,{left:e.offsetLeft,top:e.offsetTop,width:ld(e),height:od(e),transform:Ye(e,"transform"),zIndex:Ye(e,"zIndex"),overflow:h.overflow||"visible"}),c||fb(e),t.appendChild(p),e.parentNode&&e.parentNode.insertBefore(t,e),d=Xc.create(t,f),d.apply({display:{to:"",constant:1,freeze:!1}}),i.add(d,0),fb(t),i.addEventListener("destroy",function(){t.parentNode&&t.parentNode.removeChild(t)},null)},null),i}}function O(a,b,c,d,e){function f(){j.removeEventListener("init",f,null),j.apply(h)}var g=e?"to":"from",h={};h.display={to:e?"none":""},e&&(h.display.constant=2);var i=b;"function"==typeof b&&(i=b(a,c));var j;if("string"==typeof i)j=Rc.getAnimation(a.div,i,c,d);else if(i instanceof Xc||i instanceof Rc||i instanceof Tc)j=i;else{for(var k in i){var l=i[k],m=h[k]={};if("object"==typeof l)for(var n in l)m[n]=l[n];else m[g]=l,m.freeze=!e}j=Xc.create(a.div,c,d),j.addEventListener("init",f,null)}return j}function P(a,b,c,d,e){var f,g;"string"==typeof c?(f=c+"In"+(d?"From"+d:""),g=c+"Out"+(d?"To"+d:"")):(f=c(!1),g=c(!0)),Rc.registerAnimationFactory(a+"In"+(b?"From"+b:""),N(f,!1,e)),Rc.registerAnimationFactory(a+"Out"+(b?"To"+b:""),N(g,!0,e))}function Q(a,b,c){k(["In","Out"],function(d){var e="Out"===d;Rc.registerAnimationFactory(a+d+(b||""),function(a,b,f){var g=a;a=g instanceof Ie?g.dom:g;var h,i=a.querySelectorAll("img,canvas")[0];if(!i||!(h=R(a,e)))return Rc.getAnimation(g,"Fade"+d,b,f);var j,k=Tc.create(f);return k.addEventListener("init",function(){j=Xc.create(g,b);var d={};g instanceof Ie?d.visible={to:!e,constant:e?2:0}:d.display={to:e?"none":"",constant:e?2:0},j.apply(d),k.add(j),j=Xc.create(h,b),j.apply({display:{to:"",freeze:!1}}),k.add(j);var l=a.childNodes;l.length&&Dc(l).forEach(function(c){if(!ui(c).hasClass("leo-animation-container")){var d;"#text"===c.nodeName.toLowerCase()&&""!==c.wholeText.replace(/\s+/g,"")&&(d=Ad("div"),Ye(d,"display","inline-block"),a.insertBefore(d,c),d.appendChild(c),c=d);var e=Xc.create(c,b);e.apply({opacity:{to:0,freeze:!1,constant:1}}),k.add(e)}});var m=a.nodeName.toLowerCase();"img"===m||"canvas"===m?(Ye(h,{transform:Ye(a,"transform"),left:a.offsetLeft,top:a.offsetTop}),a.parentNode.appendChild(h)):a.appendChild(h),j=c(i,h,b,e,f.params),k.add(j),k.addEventListener("destroy",function(){h.parentNode&&h.parentNode.removeChild(h)},null)},null),k})})}function R(a,b){var c=Ad("canvas");if(c.getContext("2d")){var d=jd(a),e=md(a);return c.className="leo-animation-canvas",c.width=d,c.height=e,Ye(c,{width:d,height:e,zIndex:Ye(a,"zIndex")}),c}return null}function S(a,b){a=a||{};var c=Object.keys(a);return function(d,e,f){var g=d instanceof Ie,h=b?"to":"from",i={opacity:b?{to:0,freeze:!1}:{from:0}};return g?(i.visible={to:!b},b&&(i.visible.constant=2)):(i.display={to:b?"none":""},b&&(i.display.constant=2)),T(Xc.create(d,e,f),function(){for(var e=-1,f=c.length;++e<f;){var j=c[e],k=a[j],l=j;g&&(l=Ge.get(d.componentType,j)||"dom."+j);var m=i[l]={};if("object"==typeof k){for(var n in k)m[n]=k[n];null!=m.value&&(m[h]=m.value,m.value=null)}else m[h]="function"==typeof k?k(d,g,j):k,m.freeze=!b}return i})}}function T(a,b){function c(){a.removeEventListener("init",c,null),a.apply(b()),b=null}return a.addEventListener("init",c,null),a}function U(a,b,c){Rc.registerAnimationFactory(a+"In"+(b?"From"+b:""),S(c,!1)),Rc.registerAnimationFactory(a+"Out"+(b?"To"+b:""),S(c,!0))}function V(a){var c,d,e=a.toLowerCase();b.getElementById("#leo-"+e)||(c=Ad("style"),c.id="leo-"+e,d="blur"===e?".leo-"+e+'{-webkit-filter:blur(10px);-moz-filter:blur(10px);-o-filter:blur(10px);-ms-filter:blur(10px);filter:blur(10px);filter:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="blur"><feGaussianBlur stdDeviation="10"/></filter></svg>#blur\');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=\'10\')progid:DXImageTransform.Microsoft.BasicImage(opacity=1);}':".leo-"+e+"{-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);filter:grayscale(100%);filter:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'><filter id='grayscale'><feColorMatrix type='matrix' values='0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0'/></filter></svg>#grayscale\");filter:progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);}",c.styleSheet?c.styleSheet.cssText=d:c.appendChild(b.createTextNode(d)),b.getElementsByTagName("head")[0].appendChild(c)),P(a,null,function(a){return function(b,c){var d=b.div,f=ui(d).select(".leo-"+e)[0],g=d.childNodes[0];f||(f=g.cloneNode(!0),ui(f).addClass("leo-"+e),d.insertBefore(f,g));var h,i=Tc.create();h=Xc.create(d,c);var j={};return j.display={to:a?"none":""},a&&(j.display.constant=2),h.apply(j),i.add(h),h=Xc.create(g,c/2),h.apply({opacity:a?{to:0}:{from:0}}),i.add(h,a?0:c/2),a||(h=Xc.create(g,c/2),h.apply({opacity:{to:0,constant:1,freeze:!1}}),i.add(h)),h=Xc.create(f,c/2),h.apply({opacity:a?{to:0}:{from:0}}),i.add(h,a?c/2:0),i}},null,{sequence:"together",row:1,col:1})}function W(a,b,c){void 0===b&&(b={});var d=ld(a),e=od(a),f=b.row||5,g=b.col||5;f<0&&(f=5),g<0&&(g=5);var h=Math.floor(d/g),i=g-d%g,j=Math.floor(e/f),k=f-e%f,l=Ad("div");l.className="leo-animation-block",Ye(l,{display:c?"block":"none",width:h,height:j});var m=a.cloneNode(!0);ui(m).addClass("leo-animation-clone").select("iframe,video,audio,canvas,.leo-animation-unnecessary").remove(),Ye(m,{width:kd(a),height:nd(a)}),l.appendChild(m);var n,o,p,q,r=0,s=h,t=j,u=Bd.getSequenceTable(b.sequence,f,g,b.originX&&"right"===b.originX.toLowerCase(),b.originY&&"bottom"===b.originY.toLowerCase(),b.log),v=new Array(u.pop());do{q=0,j=t,Ye(l,"height",t),r===i&&(h+=1,Ye(l,"width",h));do{l.id="_"+r+"_"+q+"_",n=r*s+Math.max(r-i,0),o=q*t+Math.max(q-k,0),q===k&&(j+=1,Ye(l,"height",j)),Ye(l,{left:n,top:o}),Ye(l.childNodes[0],{left:-n,top:-o}),p=u[q*g+r],v[p]||(v[p]=[]),v[p].push({ClientRect:{width:h,height:j,left:n,top:o},div:l,index:{i:r,j:q}})}while((l=l.cloneNode(!0))&&++q<f)}while(++r<g);return v}function X(a,b,c){if(c){var d=Ge.get(a.componentType,b);return d?a.getProperty(d):Xe(a.dom,b)}return Xe(a,b,!0)}function Y(a,b,c){Rc.registerTransitionFactory(a,function(a,d,e,f){var g=Tc.create(f),h={easing:g.easing};return d instanceof Ie?d.visible=!1:Ve(d,"display","none"),g.add(Rc.getAnimation(d,b,e,h)),g.add(Rc.getAnimation(a,c,e,h)),g})}function Z(a,b,c){return function(d,e){b&&(d.options={duration:c||+d.params.duration||0});var f=d.params,g={};for(var h in a)f.hasOwnProperty(h)&&(g[h]=f[h]);if(d.params=Ma(g,e.type),!dc(d.params))return b?Ba:za}}function $(a){var b=a.params,c=parseInt(b.direction,10);c===c&&(c=90===c?"top":0===c?"right":270===c?"bottom":"left",this.direction=c);var d=parseInt(b.speed,10);d===d&&(this.speed=d)}function _(a){var b=a.params,c=parseInt(b.direction,10);c===c&&(this.direction=c);var d=parseInt(b.spin,10);d===d&&(this.spin=d);var e=parseInt(b.speed,10);e===e&&(this.speed=e);var f=b.mode;f&&(this.mode=f.toLowerCase())}function aa(){var a=this.stage.context;this.zIndex=a.getVariable("maxZIndex")}function ba(a){Kd.showHide(this,!!a.params.visible,a.params.duration)}function ca(a){Ud||(Ud=Ad("a"),Ud.style.display="none",Ud.style.visibility="hidden",b.body.appendChild(Ud)),Ud.setAttribute("href","mailto:"+a.content),Ud.setAttribute("target","_blank"),Ud.textContent="mailto:"+a.content,Ud.click()}function da(a){this.src=a.params.content,this.natualWidth=a.params.swfWidth,this.natualHeigth=a.params.swfHeight}function ea(a){var b=this.stage.context.getInnerVariable("__app__").options;b.apis&&b.apis.gotoPageFun&&b.apis.gotoPageFun(a.params.target)}function fa(a){this.embedCode=a.params.content}function ga(a,b){this.url=this.__url=a.params.content}function ha(a){var b=this.stage.context.getInnerVariable("__app__").options;b.apis&&b.apis.focusOnFunc&&b.apis.focusOnFunc(a.params)}function ia(b){var c=b.content,d=b.params.target;"popup"===d?qa(b):(d="_"+d,a.open(c,d,""))}function ja(a){ce||(ce=new be),___lightbox.audio=a.audio,___lightbox.show(ce.config(a))}function ka(a,b){de||(de=new he),de.config(a,b),de.show()}function la(a){fe||(fe=new ee),___lightbox.audio=a.audio,___lightbox.show(fe.config(a))}function ma(a,b){ge||(ge=new ie),ge.config(a,b),ge.show()}function na(a,b){new Wd(a,b.target)}function oa(a){ke||(ke=new je),___lightbox.show(ke.config(a))}function pa(a){me||(me=new le),___lightbox.show(me.config(a))}function qa(a){ne||(ne=new pe),___lightbox.show(ne.config(a))}function ra(a){oe||(oe=new qe),___lightbox.audio=a.audio,___lightbox.show(oe.config(a))}function sa(a){se||(se=new re),___lightbox.audio=a.audio,___lightbox.show(se.config(a))}function ta(a){te||(te=new ue),___lightbox.audio=a.audio,___lightbox.show(te.config(a))}function ua(a,b){var c=this.stage.context.getInnerVariable("__app__").options;c.apis&&c.apis.resetFocusFunc&&c.apis.resetFocusFunc(a.params.duration)}function va(a,c,d){var e=a.dialog;e?e.dialogTarget!==d&&(wa(a),e.destroy(),e=xa(a,c,d)):e=xa(a,c,d),e.dialogTarget=d,a.dialog=e,a.handler||fh(b,"tap",a.handler=function(b){var c=b.target,d=a.dialog.dialogTarget;ch(d.dom,c)||ch(a.dialog.dom,c)||wa(a)}),a.animation&&a.animation.destroy();var f={left:"right",right:"left",top:"bottom",bottom:"top"};a.animation=Rc.animate(a.dialog,a.inAnimation||"moveinfrom"+f[a.located],200)}function wa(a){a.handler&&(ih(b,"tap",a.handler),a.handler=null),a.animation&&a.animation.destroy(),a.animation=Rc.animate(a.dialog,a.outAnimation||"extendouttover",200)}function xa(a,b,c){var d=Na(a.content,0),e=a.params,f=a.located=e.direction;e=Ma(a.params,"bubbledialogbox");var g=e.width,h=e.height,i=new dg;return i.borderRadius=e.borderRadius,i.actualWidth=g,i.actualHeight=h,i.strokeColor=e.strokeColor,i.strokeWidth=e.strokeWidth,i.zIndex=9999999,i.visible=!1,i.gradient=e.gradient||e.backgroundColor,i.shadow="4px 4px 4px #000",i.located=f,i.textContent=d,i._stage=c.stage,c.node.parent().append(i.node),ya(i,c,f),c.watch("x y actualWidth actualHeight",function(){ya(i,c,f)},null),c.addEventListener("destroy",function(){a.animation&&(a.animation.destroy(),a.animation=null),i.destroy()},null),c.watch("visible",function(){this.visible||wa(a)},c),i}function ya(a,b,c){var d,e,f=a.actualWidth,g=a.actualHeight,h=b.x,i=b.y,j=b.actualWidth,k=b.actualHeight,l=15;switch(c){case"left":d=h+j+l,e=i+(k-g)/2;break;case"top":d=h+(j-f)/2,e=i+k+l;break;case"right":d=h-f-l,e=i+(k-g)/2;break;default:d=h+(j-f)/2,e=i-g-l}a.x=d,a.y=e}function za(a){var b=a.params,c=b;this.setProperty(c),(this instanceof kf||this instanceof jf&&c.src===this.src)&&this.audio.replay()}function Aa(a){Rc.destroyAnimationsOfTarget(this),za.call(this,a)}function Ba(a){var b=a.params,c=b;Kd.tween(this,c,a.options)}function Ca(a,b){Ae.actionsCandicates.push([a,b])}function Da(a,b){var c=a.target?b.stage.context.components.queryByName(a.target):b;return c||Ii.warning("event target missed","cannot find the event target '"+a.target+"' in current context '"+b.stage.name+"'"),c}function Ea(a,b){for(var c=-1,d=a.length;++c<d;){var e=a[c],f=e[0],g=e[1],h=b[f],i=g.action,j=h.events=[],k=we,l=Rd;if(!Array.isArray(i)){var m=i.advancedEvents;i=[i],m&&m.length>0&&(i=i.concat(m),delete i[0].advancedEvents)}for(var n=0,o=-1,p=i.length;++o<p;){var q=i[o],r=(q.when||"click").toLowerCase(),s=q.action||q.type,t=q.target;if("none"!==s&&(!t||b[t])){"o"===r[0]&&"n"===r[1]&&(r=r.substr(2));var u={trigger:xe[r]||r,target:t||f,params:q.params};for(var v in q)k[v]||(u[v]=q[v]);if(u.action=l[s]&&l[s](u,t&&b[t]||h,q,h),u.action){if(u.hint)u.hint;else if("tap"===u.trigger){switch(s){case"changeHtmlCaption":s="changeText"}$b(s)}j.push(u),"timer"===u.trigger&&++n}}}j.length?j.length>n&&(h["node.addClass"]="leo-action-trigger hi-action"):h.events=null}}function Fa(a,b){if(a&&(a.animation||a.name)){var c=cc(a);a.animation&&(c.name=a.animation,delete c.animation),null!=a.start&&(c.delay=(c.delay||0)+a.start,delete c.start),c.repeat&&-1!==c.repeat&&--c.repeat;var d=c.name.toLowerCase();if("sound"===b&&("fadein"===d?c.name="SoundFadeIn":"fadeout"===d&&(c.name="SoundFadeOut")),ye[d])ye[d](c,b);else if(+c.userDefined&&"sprite"===b){var e=c.params;c.params={action:c.name,sound:e.sound,text:e.text},delete e.sound,delete e.text,c.params.motion=Ma(pb({scaleX:1,scaleY:1},e),b),c.name="SpriteMotion"}return c}return null}function Ga(a,b,c){if(b&&b.length){var d,e=Fa,f=[],g=0;a.animations=null;for(var h=-1,i=b.length;++h<i;){var j=b[h],k=(j.animation||j.name||"").toLowerCase(),l=(j.showType||"").toLowerCase();if(k)if("alwaysdisplay"!==k){if("none"===k)if("in"===l)j.animation="sound"===c.toLowerCase()?"SoundShow":"Show";else{if("out"!==l)continue;j.animation="sound"===c.toLowerCase()?"SoundHide":"Hide"}var m=e(j,c);m&&(f.push(m),delete m.showType,"in"===l?a.enter=cc(m):"out"===l?a.leave=cc(m):d=m,"none"!==k&&!0,g=Math.max(m.delay,g))}else"out"===l&&(g=Math.max(j.start,g))}d&&d.delay+d.duration>=g&&!a.leave&&(d.repeat=-1),a.enter||a.manual||(a.defaultProps.visible=!0),f.length&&(a.animations=f.sort(function(a,b){return a.delay-b.delay}))}else a.manual||(a.defaultProps.visible=!0)}function Ha(a){var b=a.template.type.toLowerCase(),c={type:b,reset:!0,name:a.template.name,manual:!a.template.visible,defaultProps:Ma(a.style,b,cc(ze)),events:null,hint:a.template.hint};Ae.components[c.name]=c,Ga(c,a.animations,b);var d=He.getClass(b),e=d&&d.textType;return e&&(c.textContent=a.template.content),De[b]&&De[b](c,a),e&&c.textContent&&(c.textContent=c.defaultProps.textContent=Na(c.textContent,e)),a.action&&Ca(c.name,a),a.elements&&a.elements.length>0&&(c.children=Ja(a.elements)),c}function Ia(a){if(a)for(var b=-1,c=a.length;++b<c;){var d=a[b],e=(d.showType||"").toLowerCase();if("out"===e){var f=(d.animation||"").toLowerCase();return f&&"alwaysdisplay"!==f?+d.duration:-1}}return-1}function Ja(a){for(var b,c=[],d=Ha,e=ve,f=-1;++f<a.length;){var g=a[f];if(b=e[g.template.type.toLowerCase()])b(g,a,c);else{var h=d(g);h&&c.push(h)}}return c}function Ka(a){var b=Ae;Ae=La(a);var c=Ae.components[a.info.name]={name:a.info.name,type:(a.info.type||"scene").toLowerCase(),reset:!0,manual:!1,transition:null,defaultProps:{width:a.info.width,height:a.info.height},events:null};return c.transition=Fa(a.transition,c.type)||{name:"None"},Ae.scene=c,c.children=Ja(a.elements),a.action&&Ca(c.name,a),Ea(Ae.actionsCandicates,Ae.components),Ae=b,c}function La(a){return{scene:null,option:a,actionsCandicates:[],components:{}}}function Ma(a,b,c){var d=Ge,e=Be;c=c||{};for(var f in a){var g=a[f];if("string"==typeof g&&("color"===f||f.indexOf("Color")>=0)&&g.indexOf(";")<0&&(g=Ee.parseToString(g)),e[f])e[f](g,b,c,d);else{var h=d.get(b,f);h&&"!"!==h&&(c[h]=g)}}return c}function Na(a,b){if(a){if(1===b)return Wb(a).replace(/\/\^r\$\//g,"<br>");return Oa(Hh(a,!0))}return""}function Oa(a){if(1!==a.nodeType&&11!==a.nodeType)return a.textContent||"";for(var b="",c=a.childNodes,d=Pa,e=-1,f=c.length;++e<f;){var g=c[e];1===g.nodeType?b+=d(g):b+=g.textContent||""}return b}function Pa(a){function b(a,b){var f=c(a),g=d(a),h=e(a),i=Ce[f];return"function"==typeof i?i(g,b):(i[0]+1)*g+(i[1]||0)+(b&&i[2]||0)+h}function c(a){if(!a||!a.getAttribute)return"arial";var b=a.getAttribute("face");return b?b.toLowerCase():c(a.parentNode)}function d(a){if(!a||!a.getAttribute)return 50;var b=a.getAttribute("size");return b?+b:d(a.parentNode)}function e(a){if(!a||!a.getAttribute)return 0;var b=a.getAttribute("leading");return b?+b:e(a.parentNode)}function f(){var c=a.getElementsByTagName("font")[0],d="";if(c){var e=+c.getAttribute("size");e&&(d+="font-size:"+e+"px;");var f=c.getAttribute("face")||"";f&&(d+="font-family:"+f+";"),d+="line-height:"+b(c,!1)+"px;"}return d?'<br style="'+d+'"/>':"<br/>"}var g,h=a.nodeName.toLocaleLowerCase(),i=a.parentNode,j="",k="span";switch(h){case"textformat":return Oa(a);case"p":if(!a.textContent&&a.getAttribute)return f();(g=a.getAttribute("align"))&&(j="text-align:"+g.toLowerCase()+";"),i&&"textformat"===i.nodeName.toLowerCase()&&((g=i.getAttribute("leftmargin"))&&(j+="padding-left:"+g+"px;"),(g=i.getAttribute("leading"))&&a.setAttribute("leading",g)),k="p";break;case"font":(g=a.getAttribute("face"))&&(j+="font-family:"+g+";"),(g=a.getAttribute("size"))&&(j+="font-size:"+g+"px;"),j+="line-height:"+b(a,!1)+"px;",(g=a.getAttribute("color"))&&(j+="color:"+g+";"),(g=a.getAttribute("letterspacing"))&&(j+="letter-spacing:"+g+"px;");break;case"i":j="font-style:italic;";break;case"b":j="line-height:"+b(a,!0)+"px;",k="b";break;default:k=h}return"<"+k+(j?' style="'+j+'"':"")+">"+Oa(a)+"</"+k+">"}function Qa(a,b,c){return a=a<0?a+1:a>1?a-1:a,~~(255*(6*a<1?b+(c-b)*a*6:a<.5?c:3*a<2?b+(c-b)*(2/3-a)*6:b)+.5)}function Ra(a,b){Ta(a,b)}function Sa(a,b){if(b){var c;for(var d in b)(c=b[d])&&(a["_"+d]=c)}}function Ta(a,b){for(var c in b)b.hasOwnProperty(c)&&(a["_"+c]=b[c],Ua(a,c))}function Ua(a,b){var c="_"+b;d(a,b,{get:function(){return this[c]},set:function(a){var d=this[c];if(a!==d){this[c]=a;var e="_on"+ic(b)+"Change";this[e]&&this[e](),this.notifyPropertyChange(b,d)}}})}function Va(a){return a.textContent="",a}function Wa(a,b){var c=a[0]||1,d=a[1]||0,e=a[2]||0,f=a[3]||1,g=[c,d],h=[e,f];b._tx=a[4]||0,b._ty=a[5]||0;var i=b._scaleX=Math.sqrt(g[0]*g[0]+g[1]*g[1]);g[0]/=i,g[1]/=i;var j=g[0]*h[0]+g[1]*h[1];h[0]-=j*g[0],h[1]-=j*g[1],i=b._scaleY=Math.sqrt(h[0]*h[0]+h[1]*h[1]),h[0]/=i,h[1]/=i,b._skewX=j/i,c*f-d*e<0&&(c<f?b._scaleX*=-1:b._scaleY*=-1),(c||d)&&(b._rotation=Math.atan2(d,c)*Oc),b._skewX=Math.atan2(b._skewX,1)*Oc}function Xa(a,b){if(0!==a[15]){if(1!==a[15]){for(var c=-1;++c<4;)for(var d=-1;++d<4;)a[4*c+d]/=a[15];a[15]=1}if(0!==a[3]||0!==a[7]||0!==a[11]){var e=[a[3],a[7],a[11],1];a[3]=a[7]=a[11]=0;var f=wb(a),g=xb(e,f);b._p=-1/g[2];var h=g[3];if(1!==h)for(c=-1;++c<4;)for(d=-1;++d<4;)a[4*c+d]/=h}else b._p=0;b._tx=a[12],b._ty=a[13],b._tz=a[14];var i=[],j=[],k=[];for(c=-1;++c<3;)i[c]=a[c],j[c]=a[4+c],k[c]=a[8+c];Ab(i,b._scaleX=yb(i)),j=Bb(j,i,1,-(b._skewX=zb(i,j))),Ab(j,b._scaleY=yb(j)),b.skewX/=b.scaleY,k=Bb(k,i,1,-zb(i,k)),k=Bb(k,j,1,-zb(i,j)),Ab(k,b._scaleZ=yb(k));if(zb(i,Cb(j,k))<0)for(b._scaleX*=-1,b._scaleY*=-1,b._scaleZ*=-1,c=-1;++c<3;)i[c]*=-1,j[c]*=-1,k[c]*=-1;b._rotationX=Math.atan2(j[2],k[2]),b._rotation=Math.atan2(i[1],i[0])*Oc,b._rotationY=Math.atan2(-i[2],k[2]/Math.cos(b._rotationX))*Oc,b._rotationX*=Oc,b._skewX=Math.atan2(b._skewX,1)*Oc}}function Ya(a){var b=a.cloneNode(!0);if(a[_g]){new $g(this._dom).clone(a[_g])}return b}function Za(a){return a[lh]||(a[lh]=kh++)}function $a(a,b){var c=b._originalEvent;if(c.touches&&c.touches.length){var d=c.touches;b.pageX=d[0].pageX,b.pageY=d[0].pageY}return b}function _a(a,b,c,d){fh(a,b,nh[c]=function(b){d.call(a,$a(a,b))},!0)}function ab(a,b,c){nh[c]&&(ih(a,b,nh[c],!0),delete nh[c])}function bb(a){return"none"===Xe(a,"display")||!ch(a.ownerDocument,a)}function cb(a,b){var c=b.parentNode;return c&&c.insertBefore(a,b.nextSibling),a}function db(a){a.parentNode&&a.parentNode.removeChild(a)}function eb(a){return gb(a,!0)}function fb(a){return gb(a,!1)}function gb(a,b){var c,d,e,f="data-old-display",g=a.style;g&&(e=a.getAttribute(f),c=g.display,b?(e||"none"!==c||(g.display=""),""===g.display&&bb(a)&&(e=jb(a.nodeName),a.setAttribute(f,e))):e||(d=bb(a),(c&&"none"!==c||!d)&&a.setAttribute(f,d?c:Xe(a,"display"))),b&&"none"!==g.display&&""!==g.display||(g.display=b?e||"":"none"))}function hb(a,b){var c=b.createElement(a);b.body.appendChild(c);var d=Xe(c,"display");return b.body.removeChild(c),d}function ib(){Gh||(Gh=tc(function(){qc.removeChild(Fh),Fh=null,Gh=null},6e4))}function jb(a){var c=b,d=Jh[a];return d||(d=hb(a,c),"none"!==d&&d||(Fh||(Fh=c.createElement("iframe"),Fh.setAttribute("frameborder","0"),Fh.setAttribute("width","0"),Fh.setAttribute("height","0"),Fh.style.cssText="display:block !important"),qc.appendChild(Fh),c=(Fh.contentWindow||Fh.contentDocument).document,c.write("<!doctype html><html><body>"),c.close(),d=hb(a,c),ib()),Jh[a]=d),d}function kb(a,b){if(a){var c="SPAN",d="<SPAN>";1===a.nodeType&&(c=a.tagName,d=mb(a));var e=nb(a);if(e){var f=Hh(d+e+"</"+c+">",!0).firstChild;return{el:f,chars:Dc(lb(f,b))}}}return null}function lb(a,c){var d=a.style.position;a.style.position="relative",ui(a).addClass("leo-temp-show");var e=Dc(a.querySelectorAll(".leo-char"));if(!c)return a.style.position=d,ui(a).removeClass("leo-temp-show"),e;b.body.appendChild(a);var f=[];return e.forEach(function(a){var b=Ih(a);b.lineHeight=md(a)+"px",b.position="absolute",f.push(b)}),f.forEach(function(a,b){var c=e[b];Ye(c,a)}),b.body.removeChild(a),a.style.position=d,ui(a).removeClass("leo-temp-show"),e}function mb(a){for(var b="<"+a.tagName,c=a.attributes,d=-1,e=c.length;++d<e;){var f=c[d];f&&(b+=" "+f.name+'="'+f.value.replace(/"/g,'\\"')+'"')}return b+">"}function nb(a){var b=a.nodeType,c="";if(3===b)for(var d=a.textContent,e=Mh,f=-1,g=d.length;++f<g;){var h=d[f];e.test(h)?c+=h:c+="<SPAN class='leo-char'>"+Xb(h)+"</SPAN>"}else if(1===b)for(var i=a.childNodes,f=-1,g=i.length;++f<g;){var j=i[f];if(1===j.nodeType){var k=j.tagName,l=k.toLowerCase();if(!Kh[l]){if(Lh[l]){c+="<"+k+"/>";continue}var m=mb(j),n=nb(j);c+=m+n+"</"+k+">"}}else c+=nb(j)}return c}function ob(a,b){var c,d=Nh(a,null);return d&&(null!=(c=d[b])&&""!==c||(c=a.style[b]||"")),c}function pb(){var a=arguments[0],b=!1,c=0,d=arguments.length;for("boolean"==typeof a&&(b=a,a=arguments[1],c=1),1===d&&(a=this,c--),a=a||{};++c<d;){var e=arguments[c];if(null!=e&&e!==a)for(var f in e)!b&&a.hasOwnProperty(a,f)||(a[f]=e[f])}return a}function qb(a,b,c,d){var e,f,g={},h=a.style;for(f in b)g[f]=h[f],h[f]=b[f];e=c.apply(a,d||[]);for(f in b)h[f]=g[f];return e}function rb(a,b,c,d,e){var f,g,h=20,i=a.style,j=1,k=uf(b),l=!1;return k in i?g=Xe(a,b,!1):(g=i.left,b=k="left"),l=bb(a),l&&gb(a,!0),Ve(a,b,c+d),0===(f=Xe(a,b,!0))?0:(qb(a,pd,function(){do{c/=j,Ve(a,b,c+e)}while(j!==(j=Xe(a,b,!0)/f)&&1!==j&&--h)}),i[k]=g,l&&gb(a,!1),c)}function sb(a,b){for(var c=b.nodeType?b:Hh(b),d=c;d.firstChild&&1===d.firstChild.nodeType;)d=d.firstChild;return a.parentNode&&a.parentNode.insertBefore(c,a),d.appendChild(a),a}function tb(a,b,c,d){var e=0,f=0;if(a)if(b){var g=b/a;e=c*d/Math.sqrt(d*d+g*g*c*c)||0,a<0&&(e*=-1),f=g*e}else e=a<0?-c:c;else f=b<0?-d:d;return[e,f]}function ub(a){for(var b=[],c=-1;++c<16;)b[c]=a[c];for(c=-1;++c<3;)for(var d=c;++d<4;){var e=4*d+c,f=b[e]/=b[4*c+c];for(e=c;++e<4;)b[4*d+e]-=f*b[4*c+e]}return b}function vb(a,b){for(var c=[b[0]],d=[],e=0;++e<4;){for(var f=0,g=-1;++g<e;)f+=a[4*e+g]*c[g];c[e]=b[e]-f}for(d[3]=c[3]/a[15],e=15;--e>=0;){for(f=0,g=4;--g>e;)f+=a[4*e+g]*d[g];d[e]=(c[e]-f)/a[4*e+e]}return d}function wb(a){for(var b=[],c=-1;++c<4;)b[c]=0;var d=[],e=d.push;for(c=-1;++c<4;)b[c]=1,e.apply(d,vb(ub(a),b)),b[c]=0;return d}function xb(a,b){return[a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12],a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13],a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14],a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15]]}function yb(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])}
function zb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Ab(a,b){a[0]/=b,a[1]/=b,a[2]/=b}function Bb(a,b,c,d){return[c*a[0]+d*b[0],c*a[1]+d*b[1],c*a[2]+d*b[2]]}function Cb(a,b){return[a[1]*b[2]-b[1]*a[2],a[2]*b[0]-b[2]*a[0],a[0]*b[1]-b[0]*a[1]]}function Db(a,b){var c=zd(a),d=!!c.space;return null==b?d?function(){this.removeAttributeNS(c.space,c.local)}:function(){this.removeAttribute(a)}:"function"==typeof b?d?function(a){var d=b.call(this,a);null==d?this.removeAttributeNS(c.space,c.local):this.setAttributeNS(c.space,c.local,d)}:function(c){var d=b.call(this,c);null==d?this.removeAttribute(a):this.setAttribute(a,d)}:d?function(){this.setAttributeNS(c.space,c.local,b)}:function(){this.setAttribute(a,b)}}function Eb(a,b){var c=(""+a).split(/\s+/).map(Fb),d=c.length;return"function"==typeof b?function(a){var e=b.call(this,a);for(a=-1;++a<d;)c[a](this,+e)}:function(){for(var a=-1;++a<d;)c[a](this,+b)}}function Fb(a){var b=" "+a+" ";return function(c,d){var e=c.classList;if(e)!d||2===d&&e.contains(a)?e.remove(a):e.add(a);else{var f=" "+c.className+" ";!d||2===d&&f.indexOf(b)>=0?c.className=f.replace(b," ").trim():f.indexOf(b)<0&&(c.className=(f+a).trim())}}}function Gb(a){return"function"==typeof a?a:function(){return Ad(a,this.namespaceURI)}}function Hb(a,b){return"function"==typeof b?function(c){this[a]=b.call(this,c)}:function(){this[a]=b}}function Ib(a,b){var c,d=!!Qh[a],e=Rh[a];return e&&e.set?c=e.set:(a=uf(a),c=function(b,c){null==c?b.style[a]="":We(b,a,c)}),null==b?function(){c(this,null)}:"function"==typeof b?function(a){var e=b.call(this,a)+"";isFinite(+e)&&!d&&(e+="px"),c(this,e)}:(isFinite(+b)&&!d&&(b+="px"),function(){c(this,b)})}function Jb(a){Gc.log.apply(Gc,a)}function Kb(a){Gc.warn.apply(Gc,a)}function Lb(a){Gc.error.apply(Gc,a)}function Mb(a){return function(b){return b[0]="["+(new Date).toLocaleString()+"]"+b[0],a(b)}}function Nb(a,b){return function(c){return c[0]="["+b+"]"+c[0],a(c)}}function Ob(a){return function(b,c,d){return b?d.unshift(b+": "+(c||"")):d.unshift(c),a(d)}}function Pb(a){return function(b,c){for(var d=[],e=0;e<arguments.length-2;e++)d[e]=arguments[e+2];return a(b,c,d)}}function Qb(a,b,c){return function(d){return c()?a(d):b(d)}}function Rb(){return Ii.timeStampEnabled}function Sb(a,b){return"linear-gradient("+(/deg$/.test(a)?a:"to "+a)+","+b.join(",")+")"}function Tb(a,b){return a=a.split(" ").map(function(a){return"left"===a?"right":"right"===a?"left":"top"===a?"bottom":"bottom"===a?"top":a}).join(" "),If+"linear-gradient("+a+","+b.join(",")+")"}function Ub(a,b){return Gf?Sb(a,b):Hf?Tb(a,b):"transparent"}function Vb(a,b,c,d,e,f){var g=a+"px "+b+"px ";return null!=c&&(g+=c+"px "),e&&(g+=e+"px "),d&&(g+=d),f?"inset "+g:g}function Wb(a){return xi||(xi=Ad("div")),xi.textContent=a,xi.innerHTML}function Xb(a){return Ki[a]?"&"+Ki[a]+";":a}function Yb(a,b){b||(b=Zb);for(var c=0,d=a.length;++c<d;){for(var e=a[c],f=a[c-1],g=c;--g>=0&&b(e,f)<0;)a[g+1]=a[g],f=a[g-1];a[g+1]=e}}function Zb(a,b){return a-b}function $b(a){return a.replace(/\s+/g,"").replace(/[A-Z]/g,function(a,b){return 0!==b?" "+a.toLowerCase():a}).replace(/^[a-z]/,function(a){return a.toUpperCase()})}function _b(a,b,c){return a<b&&(a=b),a>c&&(a=c),a}function ac(a,b,c){arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0));for(var d=[],e=1;c*e%1;)e*=10;var f,g=-1;if(a*=e,b*=e,(c*=e)<0)for(;(f=a+c*++g)>b;)d.push(f/e);else for(;(f=a+c*++g)<b;)d.push(f/e);return d}function bc(a){return a>-1e-7&&a<1e-7?0:a}function cc(a,b){var c=Array.isArray(a)?[]:{};for(var d in a)a.hasOwnProperty(d)&&(c[d]=b?cc(a[d],!0):a[d]);return c}function dc(a){for(var b in a)return!1;return!0}function ec(a){var b=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),c=a.match(b);return{scheme:c[2],authority:c[4],path:c[5],query:c[7],fragment:c[9]}}function fc(a,b,c){for(var d="",e=[],f=0,g=-1,h=a.length;++g<h;){var i=a[g],j=!1;"("===i?(f++,d+=i):")"===i?(f--,d+=i,0===f&&c&&(j=!0)):i===b&&0===f?j=!0:d+=i,j&&(d.trim(),d&&e.push(d),d="")}return i!==b&&d&&e.push(d.trim()),0!==f&&(e=[a]),e}function gc(a,b,c){var d=c;return b.replace(Oi,function(a,b,c,e,f){if(b=b||e,d){var g;b in d&&(g=d[b]),d=f&&"object"==typeof g?g():g}}),(null==d||d==c?a:d)+""}function hc(a,b){return a.replace(Ni,function(a,c){return gc(a,c,b)})}function ic(a){var b=Qi(a);return b.charAt(0).toUpperCase()+b.substring(1)}function jc(a){var b=kc(a);return b&&(b.scenes[0].children.length||b.scenes[0].events)?new Ri(b):new mc}function kc(b){var c="__leo_parsedData__",d=b.slide[c];return b&&b.slide?(d||(d=Ka(b.slide),b.slide[c]=d),{initialWidth:b.initialWidth||0,initialHeight:b.initialHeight||0,stageWidth:b.slide.info.width,stageHeight:b.slide.info.height,scenes:[d],preloadType:1,container:b.container,plugins:b.plugins||[{name:"progressBar"}],apis:{focusOnFunc:b.focusOnFunc,resetFocusFunc:b.resetFocusFunc,gotoPageFun:a.gotoPageFun||b.gotoPageFun}}):null}var lc=a.leopard={version:"0.2.9",author:"Terence Z., Q.Y.B.",buildDate:"2019-4-12 17:18:23"},mc=function(){function a(){}var b=a.prototype;return b.play=b.pause=b.reset=b.replay=b.destroy=b.resize=function(){return this},a}();if(function(){function a(a){if(!arguments.length)return b._test;b._test=a}try{var b={};return d(b,"test",{get:a,set:a}),b.test=2,b.test<<2!=8}catch(c){return!0}}())a.hiSliderFactory=function(a){return new mc};else{var nc=function(){function a(){this._hashCode=a.hashCount++}return d(a.prototype,"hashCode",{get:function(){return this._hashCode},enumerable:!0,configurable:!0}),a.hashCount=1,a}(),oc=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},pc=function(a){function b(b){a.call(this),this._eventsMap=null,this._eventTarget=b||this}return oc(b,a),b.prototype.addEventListener=function(a,b,c,d){void 0===d&&(d=0);var e=this._eventsMap;e||(e=this._eventsMap={});var f=e[a];f||(f=e[a]=[]),this._insertEventBin(f,b,c,d)},b.prototype._insertEventBin=function(a,b,c,d){for(var e=-1,f=-1,g=a.length;++f<g;){var h=a[f];if(h.fn===b&&h.ctx===c)return!1;-1===e&&h.pr<d&&(e=f)}var h={fn:b,ctx:c,pr:d};return-1!==e?a.splice(e,0,h):a.push(h),!0},b.prototype.removeEventListener=function(a,b,c){var d=this._eventsMap;if(d){var e=d[a];e&&(this._removeEventBin(e,b,c),0===e.length&&delete d[a])}},b.prototype._removeEventBin=function(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d];if(f.fn===b&&f.ctx===c)return a.splice(d,1),!0}return!1},b.prototype.removeAllEventListeners=function(a){this._eventsMap&&(a?delete this._eventsMap[a]:this._eventsMap=null)},b.prototype.destroy=function(){this.removeAllEventListeners(),this._eventTarget=null},b.prototype.hasEventListener=function(a){return!(!this._eventsMap||!this._eventsMap[a])},b.prototype.dispatchEvent=function(a){return a._setCurrentTarget(a._target=this._eventTarget),this._notifyListener(a)},b.prototype._notifyListener=function(a){var b=this._eventsMap;if(!b)return!0;var c=b[a._type];if(!c)return!0;c=c.concat();for(var d=-1,e=c.length;++d<e;){var f=c[d];if(f.ctx?f.fn.call(f.ctx,a):f.fn(a),a._isImmediatePropagationStopped)break}return!a._defaultPrevented},b.prototype.dispatchEventWith=function(a,b,c){void 0===b&&(b=!1),(b||this.hasEventListener(a))&&Sh.dispatchEvent(this,a,b,c)},b.prototype.dispatchSimpleEvent=function(a,b){if(this.hasEventListener(a)){var c=Sh.getEventInstance(Sh,a,!1,!1,b);c._setCurrentTarget(c._target=this),this._notifyListener(c),Sh.recycle(c)}},b.prototype.notifyPropertyChange=function(a,b){if(this.hasEventListener(a+="Change")){var c=Zh.getInstance(a,b);c._setCurrentTarget(c._target=this),this._notifyListener(c),Zh.recycle(c)}},b.prototype.watch=function(a,b,c,d){void 0===d&&(d=0),a=Qi(a).split(/\s+/);var e=a.length;if(e>1)for(;e;)this._watch(a[--e],b,c,d);else this._watch(a[0],b,c,d)},b.prototype._watch=function(a,b,c,d){void 0===d&&(d=0),this.addEventListener(a+"Change",b,c,d)},b.prototype.unwatch=function(a,b,c){a=Qi(a).split(/\s+/);var d=a.length;if(d>1)for(;d;)this._unwatch(a[--d],b,c);else this._unwatch(a[0],b,c)},b.prototype._unwatch=function(a,b,c){a+="Change",b?this.removeEventListener(a,b,c):this.removeAllEventListeners(a)},b}(nc),qc=b.documentElement,rc="webkit o O ms moz Moz".split(" "),sc="-webkit- -o- -ms- -moz-".split(" "),tc=a.setTimeout,uc=a.clearTimeout,vc=a.setInterval,wc=a.clearInterval,xc="function"==typeof a.setImmediate&&"function"==typeof a.clearImmediate,yc=function(b,c){return xc?a.setImmediate(function(){b.call(c)}):tc(function(){b.call(c)},0)},zc=function(b){xc?a.clearImmediate(b):uc(b)},Ac="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Bc=b.getElementById("bookContainer")||b,Cc=Array.prototype.slice,Dc=(Object.prototype.toString,Object.prototype.hasOwnProperty,function(a){return Cc.call(a)}),Ec=function(){},Fc=function(a){return a},Gc=a.console||{log:function(){},warn:function(){},error:function(){throw new Error}},Hc="__leo_expando__",Ic="__leo_guid__",Jc=0,Kc=Math.PI,Lc=Kc/2,Mc=2*Kc,Nc=Kc/180,Oc=180/Kc,Pc=1e-7,Qc={factory:{},eases:{linear:Fc,swing:function(a){return.5-.5*Math.cos(a*Kc)},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-a*(a-2)},easeInOutQuad:function(a){return(a*=2)<1?a*a/2:-(--a*(a-2)-1)/2},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return(a-=1)*a*a+1},easeInOutCubic:function(a){return(a*=2)<1?a*a*a/2:((a-=2)*a*a+2)/2},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1-(a-=1)*a*a*a},easeInOutQuart:function(a){return(a*=2)<1?a*a*a*a/2:1-(a-=2)*a*a*a/2},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return(a-=1)*a*a*a*a+1},easeInOutQuint:function(a){return(a*=2)<1?a*a*a*a*a/2:((a-=2)*a*a*a*a+2)/2},easeInSine:function(a){return~~(1e5*(1-Math.cos(a*Lc))+.5)/1e5},easeOutSine:function(a){return Math.sin(a*Lc)},easeInOutSine:function(a){return-(Math.cos(Kc*a)-1)/2},easeInExpo:function(a){return a?Math.pow(2,10*(a-1)):0},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return a?1===a?1:(a*=2)<1?Math.pow(2,10*(a-1))/2:1-Math.pow(2,-10*--a)/2:0},easeInCirc:function(a){return 1-Math.sqrt(1-a*a)},easeOutCirc:function(a){return Math.sqrt(1-(a-=1)*a)},easeInOutCirc:function(a){return(a*=2)<1?-(Math.sqrt(1-a*a)-1)/2:(Math.sqrt(1-(a-=2)*a)+1)/2}},get:function(a){if("@"===a.charAt(0)&&(a=a.substr(1),/^(.*)\((.*)\)$/.test(a))){a=RegExp.$1;var b=RegExp.$2.split(/\s*,\s*/).map(parseFloat);return Qc.factory[a].apply(null,b)}return Qc.eases[a]}},Rc=function(a){function b(c){a.call(this),this.__leo_guid__=f(),this.startTime=0,this._duration=1e3,this._currentTime=0,this._totalDurationDirty=!1,this._totalDuration=1e3,this._currentTotalTime=0,this._delay=0,this._timeScale=1,this._repeat=0,this._repeatDelay=0,this._isEnd=!1,this._yoyo=!1,this._reverse=!1,this._timeline=null,this._target=null,this._paused=!1,this._initialized=!1,this._ratio=0,this._cycle=0,this._rawTotalTime=0,this._arrival=0,this._prevTime=0,this._forced=!1,c&&b.addTargetAnimation(c,this),this._target=c,this.setEasing("easeInOutQuad")}return oc(b,a),d(b.prototype,"duration",{get:function(){return this._duration},set:function(a){if(this._duration!==a){var b=this._duration;this._duration=a,this._setTotalDurationDirty(),this.notifyPropertyChange("duration",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"currentTime",{get:function(){return this._currentTime},set:function(a){this._currentTime===a&&this.duration||(this.currentTotalTime=a+this._cycle*(this.duration+this._repeatDelay))},enumerable:!0,configurable:!0}),d(b.prototype,"totalDuration",{get:function(){if(this._totalDurationDirty){this._totalDurationDirty=!1;var a=this._totalDuration,b=this._totalDuration=this.duration;b!==1/0&&(this._totalDuration=b+this._repeat*(b+this._repeatDelay)),this._rawTotalTime>=a&&(this._totalDuration>a&&(this._isEnd=!1),this._rawTotalTime=Math.min(this._rawTotalTime,this._totalDuration,a))}return this._totalDuration},enumerable:!0,configurable:!0}),b.prototype._setTotalDurationDirty=function(){this._totalDurationDirty||(this._totalDurationDirty=!0,this._timeline&&this._timeline._setChildDirty(this,this.startTime,!1))},d(b.prototype,"currentTotalTime",{get:function(){return this._currentTotalTime},set:function(a){if(this._currentTotalTime!==a||!this.duration){this._isEnd=!1;var b=this.startTime;this.update(this._reverse?this.totalDuration-a:a,!0),this._timeline&&(this.startTime=this._timeline._currentTime-(this._rawTotalTime?this._rawTotalTime/this._timeScale:0),this._timeline._setChildDirty(this,this.startTime,this.startTime!==b))}},enumerable:!0,configurable:!0}),d(b.prototype,"delay",{get:function(){return this._delay},set:function(a){if(this._delay!==a){var b=this._delay;if(this._delay=a,this._timeline){var c=this._timeline._currentTime,d=this.startTime;this.startTime+=a-b,d<c&&this.startTime>c&&this.update(0),this._timeline._setChildDirty(this,this.startTime,!0)}this.notifyPropertyChange("delay",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"timeScale",{get:function(){return this._timeScale},set:function(a){if(this._timeScale!==a){var b=this._timeScale;this._timeScale=a,this._timeline&&this._timeline._setChildDirty(this,this.startTime,!1),this.notifyPropertyChange("timeScale",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"repeat",{get:function(){return this._repeat},set:function(a){if(-1===a&&(a=this._foreverRepeat),this._repeat!==a){var b=this._repeat;this._repeat=a,this._setTotalDurationDirty(),this.notifyPropertyChange("repeat",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"_foreverRepeat",{get:function(){var a=this.duration+this._repeatDelay;return a?(6048e5-this._duration)/a:1e6},enumerable:!0,configurable:!0}),d(b.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(a){if(this._repeatDelay!==a){var b=this._repeatDelay;this._repeatDelay=a,this._setTotalDurationDirty(),this.notifyPropertyChange("repeatDelay",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"easing",{get:function(){return this._easing},set:function(a){if(this._easing!==a){var b=this._easing;this._easing=a,this.notifyPropertyChange("easing",b)}},enumerable:!0,configurable:!0}),b.prototype.setEasing=function(a){var b=typeof a;"string"===b?this.easing=Qc.get(a):"function"===b&&(this.easing=a)},d(b.prototype,"isEnd",{get:function(){return this._totalDurationDirty&&this.totalDuration,this._isEnd},enumerable:!0,configurable:!0}),d(b.prototype,"yoyo",{get:function(){return this._yoyo},set:function(a){this._yoyo!==a&&(this._yoyo=a,this.notifyPropertyChange("yoyo",!a))},enumerable:!0,configurable:!0}),d(b.prototype,"reverse",{get:function(){return this._reverse},set:function(a){if(this._reverse!==a){if(this._reverse=a,this.isEnd&&(this._isEnd=!1),this._timeline){var b=this._rawTotalTime,c=this._timeline.currentTime,d=this.totalDuration,e=d-b;c<this.startTime?(this.startTime-=this.startTime-c+d,this._rawTotalTime=d):(this._rawTotalTime=d-b,this.startTime=c-b,e!==b&&this._timeline._setChildDirty(this,this.startTime+=(b-e)/this._timeScale,!0))}this.notifyPropertyChange("reverse",!a)}},enumerable:!0,configurable:!0}),d(b.prototype,"timeline",{get:function(){return this._timeline},enumerable:!0,configurable:!0}),d(b.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),d(b.prototype,"paused",{get:function(){return this._paused},enumerable:!0,configurable:!0}),d(b.prototype,"available",{get:function(){if(!this._timeline)return!1;for(var a,b=this._timeline,c=!this._paused;b&&c;)c=!b._paused,a=b,b=b._timeline;return c&&a===Wc.getInstance()},enumerable:!0,configurable:!0}),b.prototype._play=function(a,b){return this.reverse=a,null!=b&&(this.currentTotalTime=b),this.resume(),this},b.prototype.play=function(a){return this._play(!1,a)},b.prototype.playReverse=function(a){return this._play(!0,a)},b.prototype.pause=function(){return this._paused||(this._paused=!0,this.dispatchSimpleEvent("pause")),this},b.prototype.resume=function(){if(this._paused){if(this._paused=!1,this._timeline){var a=this._rawTotalTime?this._rawTotalTime/this._timeScale:0,b=this.startTime;this.startTime=this._timeline._currentTime-a,this._timeline._setChildDirty(this,this.startTime,!!(a||this.startTime-b))}this.dispatchSimpleEvent("resume")}return this},b.prototype.stop=function(a,b){return this.pause(),a&&!this.isEnd&&(this.currentTotalTime=this.totalDuration),b&&this.destroy(),this},b.prototype.restart=function(){return this.currentTotalTime=this._reverse?this.totalDuration:0,this.resume()},b.prototype.destroy=function(){this.dispatchSimpleEvent("destroy"),this._timeline&&this._timeline.remove(this),this._target&&b.removeTargetAnimation(this._target,this),this._paused=!0,this._target=null,a.prototype.destroy.call(this)},b.prototype.init=function(){this._initialized=!0,this.dispatchSimpleEvent("init")},d(b.prototype,"cycle",{get:function(){return this._cycle},enumerable:!0,configurable:!0}),d(b.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),d(b.prototype,"rawRatio",{get:function(){var a=this.duration;return a?this._currentTime/a:this.isEnd?1:0},enumerable:!0,configurable:!0}),b.prototype.update=function(a,b){var c=this._currentTime,d=this._currentTotalTime,e=this._cycle,f=this.totalDuration,g=this._duration,h=a;a<1e-5?a=0:a>=f-1e-5&&(a=f),this._rawTotalTime=a,this._reverse&&(a=f-a);var i=!1,j=a,k=a;if(0!==this._repeat){var l=g+this._repeatDelay;this._cycle=l?~~(k/l):0,0!==this._cycle&&this._cycle===k/l&&--this._cycle,j=k-this._cycle*l,i=this._yoyo&&0!=(1&this._cycle),i&&(j=g-j),k===f&&(this._cycle=this._repeat),j>g?j=g:j<0&&(j=0)}return this._ratio=g?j/g:i?0:1,this._easing&&(this._ratio=this._easing(this._ratio)),(0===g&&(h<0||0===f)||!this._initialized)&&(b=!0),c!==j||b||e!==this._cycle?(this._prevTime=c,this._initialized||this.init(),this._currentTime=j,this._currentTotalTime=k,this._forced=!!b,this.render(this._currentTime,c)?void this.destroy():(this._forced=!1,(d!==this._currentTotalTime||b)&&this.dispatchSimpleEvent("update"),e!==this._cycle&&0!==this._repeat&&this.dispatchSimpleEvent("repeat",e),this._isEnd=!1,void(this._rawTotalTime>=this.totalDuration&&(this._isEnd=!0,this._rawTotalTime>=this.totalDuration&&(this._rawTotalTime=this._totalDuration),this.dispatchSimpleEvent("end"),this.end(),this.totalDuration)))):void(d!==k&&(this._currentTime=j,this._currentTotalTime=k,this.dispatchSimpleEvent("update")))},b.prototype.end=function(){},b.prototype.render=function(a,b){return!1},b.config=function(a,c,d){if(null!=c&&(a.duration=+c||0),d){var e=b.KEYWORDS;d.delay&&(a._delay=d.delay);for(var f in d)f in e&&(a[f]=d[f]);d.hasOwnProperty("autoDestroy")&&a.addEventListener("end",a.destroy,a,-1/0),d.hasOwnProperty("easing")&&a.setEasing(d.easing)}return a},b.prototype.notifyPropertyChange=function(a,b){if(this.hasEventListener(a+="Change")){var c=Zh.getInstance(a,b);c._setCurrentTarget(c._target=this),this._notifyListener(c),Zh.recycle(c)}},b.registerAnimationFactory=function(a,c){b._animationFactories[a.toLowerCase()]=c},b.getAnimation=function(a,c,d,e){return b._animationFactories[c.toLowerCase()](a,d,e)},b.animate=function(a,c,d,e,f){var g=b._animationFactories[c.toLowerCase()](a,d,e);return g.addEventListener("end",g.destroy,g,-1/0),f||(f=Wc.getInstance()),f.add(g),g},b.registerTransitionFactory=function(a,c){b._transitionFactories[a.toLowerCase()]=c},b.getTransition=function(a,c,d,e,f){return b._transitionFactories[d.toLowerCase()](a,c,e,f)},b.transition=function(a,c,d,e,f,g){var h=b._transitionFactories[d.toLowerCase()](a,c,e,f);return h.addEventListener("end",h.destroy,h,-1/0),g||(g=Wc.getInstance()),g.add(h),h},b.anyTransition=function(a,c,d,e){var f=Tc.create(e),g=c.target;return g instanceof Ie?g.visible=!1:Ve(g,"display","none"),f.add(b.getAnimation(a.target,a.animation,d,a.options)),f.add(b.getAnimation(g,c.animation,d,a.options)),f},b.addTargetAnimation=function(a,c){if(a){a.__leo_guid__=a.__leo_guid__||f();var d=b._cache[a.__leo_guid__];d||(d=b._cache[a.__leo_guid__]=[]),d.push(c)}},b.removeTargetAnimation=function(a,c){if(a){var d=b._cache[a.__leo_guid__];if(d){var e=d.indexOf(c);e>=0&&d.splice(e,1),d.length||delete b._cache[a.__leo_guid__]}}},b.destroyAnimationsOfTarget=function(a){if(a){var c=b._cache[a.__leo_guid__];delete b._cache[a.__leo_guid__],c&&c.forEach(function(a){a.destroy()})}},b.KEYWORDS=e(["delay","timeScale","reverse","repeat","repeatDelay","yoyo"]),b._animationFactories={},b._transitionFactories={},b._cache={},b}(pc),Sc=function(a){function b(b,c){a.call(this,b),this.data=null,c=this.config=c||{},this.onInit=c.onInit,this.onRender=c.onRender,this.onDestroy=c.onDestroy,this.onEnd=c.onEnd,this.data=c.data}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.onInit&&this.onInit()},b.prototype.end=function(){a.prototype.end.call(this),this.onEnd&&this.onEnd()},b.prototype.render=function(a,b){return this.onRender&&this.onRender(this._ratio,a,b),!1},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.onDestroy&&this.onDestroy(),this.onInit=this.onDestroy=this.onRender=this.config=this.data=null},b.create=function(a,c,d,e){return Rc.config(new b(a,d),c,e)},b}(Rc),Tc=(function(a){function b(b,c,d){a.call(this,null),this.targetOut=b,this.targetIn=c,d=this.config=d||{},this.onInit=d.onInit,this.onRender=d.onRender,this.onDestroy=d.onDestroy}oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.onInit&&this.onInit()},b.prototype.render=function(){return this.onRender(this._ratio),!1},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.onDestroy&&this.onDestroy(),this.targetOut=this.targetIn=this.onInit=this.onDestroy=this.onRender=this.config=null},b.create=function(a,c,d,e,f){return b.config(new b(a,c,e),d,f)}}(Rc),function(a){function b(){a.call(this,null),this._animations=[],this.tweenOverwritten=-1,this._durationDirty=!1,this._duration=0,this._hasSetDuration=!1,this._dirtyStart=0,this._childrenDirty=!1,this._reorder=!1,this._forwardOrder=!0,this._firing=!1,this._labels=null,this.easing=null}return oc(b,a),d(b.prototype,"animations",{get:function(){return this._reorder&&(this._reorder=!1,Yb(this._animations,this._forwardOrder?i:j)),this._animations},enumerable:!0,configurable:!0}),d(b.prototype,"duration",{get:function(){if(this._durationDirty){if(this._durationDirty=!1,this._hasSetDuration)return this._duration;var a=this._animations,b=0;if(a)for(var c=-1,d=a.length;++c<d;){var e=a[c];if(e){var f=e.totalDuration,g=e.startTime+(f?f/e._timeScale:0);g>b&&(b=g)}}this._setDuration(b,!0)}return this._duration},set:function(a){this._setDuration(a,0===a)},enumerable:!0,configurable:!0}),b.prototype._setDuration=function(a,b){if((b&&!this._hasSetDuration||!b)&&(this._hasSetDuration=this._hasSetDuration||!b,this._duration!==a)){var c=this._duration;this._duration=a,this._setTotalDurationDirty(),this.dispatchSimpleEvent("durationChange",c)}},b.prototype._setChildDirty=function(a,b,c){this._childrenDirty?this._dirtyStart>b&&(this._dirtyStart=b):this._dirtyStart=b,c&&(this._reorder=c),this._childrenDirty=!0,this._setDurationDirty()},b.prototype._setDurationDirty=function(){this._durationDirty||(this._durationDirty=!0,this._setTotalDurationDirty())},b.prototype.stopAnimationsAt=function(a,c){var d="number"!=typeof a?this._parseTime(a):a,e=this.at(d);c=!!c;for(var f=-1,g=e.length;++f<g;){var h=e[f];if(c&&h instanceof b){h.stopAnimationsAt(d);var i=h._animations;i&&!i.length&&h.destroy()}else h.stop(!0,!0)}},b.prototype.add=function(a,c){if(a!==this){var d=this._currentTime;if(null!=c&&(d=isFinite(+c)?+c:this._parseTime(c)),a._delay&&(d+=a._delay),a.currentTotalTime&&(d-=a.currentTotalTime),a._timeline){if(a._timeline===this)return void(a.startTime!==d&&this._setChildDirty(a,a.startTime=d,!0));a._timeline.remove(a)}return a._timeline=this,a._arrival=b.ARRIVAL_COUNTER++,a.startTime=d,this._animations.push(a),this._reorder=!0,this._setDurationDirty(),this}},b.prototype.append=function(a){return this.add(a,this.duration)},b.prototype.remove=function(a){if(a!==this){a._timeline!==this&&Ii.fatal("leo_Timeline.remove()","animation is not the child of the current timeline");var b=this._animations.indexOf(a);b>=0&&this._removeAtIndex(b),a._timeline=null}},b.prototype._removeAtIndex=function(a){var b=this._animations[a];this._firing?this._animations[a]=null:this._animations.splice(a,1),b._timeline=null,b.totalDuration>=b._timeScale*(this.duration-b.startTime)&&this._setDurationDirty()},b.prototype.at=function(a,b){var c="number"!=typeof a?this._parseTime(a):a,d=[];return this._iterate(this._forwardOrder,function(a){return a.startTime<=c?(a.startTime+a.totalDuration>=c&&(!b||a.target===b)&&d.push(a),0):1}),d},b.prototype._iterate=function(a,b){var c=this.animations;if(a)for(var d=-1,e=c.length;++d<e;){var f=c[d];if(f){var g=b.call(this,f,d);if(1===g)return;2===g&&(--d,--e)}}else for(var d=c.length;--d>=0;){var f=c[d];if(f&&1===b.call(this,f,d))return}},b.prototype.render=function(a,b){var c=a,d=b,e=c>=d;this._forwardOrder!==e&&(this._forwardOrder=e,this._reorder=!0);var f=this._childrenDirty,g=this._dirtyStart;if(f&&(this._childrenDirty=!1,this._dirtyStart=0,e?g<d&&(d=g):g<a&&this.render(g,d)),c<d){var h=c;c=d,d=h}var i=this.animations;this._firing=!0;for(var j=-1,k=i.length;++j<k;){var l=i[j];if(!this._forced&&this._paused)break;if(l){var m=l.startTime,n=m<=c;if(e&&!n)break;if(!l.paused&&n){var o=l._timeScale;l.totalDuration>=(d-m)*o&&l.update((a-m)*o)}}else{if(!i.length)break;i.splice(j--,1),--k}}return this._firing=!1,!1},d(b.prototype,"labels",{get:function(){return this._labels?this._labels:this._labels={}},enumerable:!0,configurable:!0}),b.prototype.addLabel=function(a,b){this.labels[a]="number"!=typeof b?this._parseTime(b):b},b.prototype.removeLabel=function(a){this.hasLabel(a)&&this.labels[a]},b.prototype.hasLabel=function(a){return null!=this._labels&&this._labels.hasOwnProperty(a)},b.prototype.getLabelValue=function(a){return this._labels&&this._labels[a]},b.prototype.destroy=function(){this._animations&&(a.prototype.destroy.call(this),this._iterate(this._forwardOrder,function(a,b){return this._removeAtIndex(b),a.destroy(),2}),this._animations=null)},b.prototype._parseTime=function(a){var b="__labels__",c=this._currentTime,d=this.labels;return Vc.lastIndex=0,Uc.test(a)&&(d.end=this.duration),Function(b,"return "+a.replace(/^([+\-*\\])=/g,function(a,b){return c+b}).replace(Vc,function(a,d){var e=b+'["'+d+'"]';return"("+e+"!=null?"+e+":("+e+"="+c+"))"})+";")(d)},b.create=function(a){return Rc.config(new b,null,a)},b.ARRIVAL_COUNTER=0,b}(Rc)),Uc=/(?:^|\b)end(?:\b|$)/,Vc=/(?:^|\b)([a-zA-Z_$][\w$_]*)\b/g,Wc=function(a){function b(){a.call(this),this._ticker=Zg.getInstance(),this._inTicker=!1,this._justAdded=!1,this._hungFrame=0}return oc(b,a),b.prototype.resume=function(){return!this._inTicker&&this._animations.length&&this._addToTicker(),a.prototype.resume.call(this)},b.prototype.pause=function(){return this._inTicker&&this._removeFromTicker(),a.prototype.pause.call(this)},d(b.prototype,"available",{get:function(){return!this._paused},enumerable:!0,configurable:!0}),b.prototype._addToTicker=function(){this._ticker.add(this),this._inTicker=!0,this._justAdded=this._justAdded||this._hungFrame!==this._ticker.frames},b.prototype._removeFromTicker=function(){this._ticker.remove(this),this._inTicker=!1,this._hungFrame=this._ticker.frames},b.prototype.add=function(b){return a.prototype.add.call(this,b),this._inTicker||this._paused||!this._animations.length||this._addToTicker(),this},b.prototype._removeAtIndex=function(a){var b=this._animations[a];this._firing?this._animations[a]=null:(this._animations.splice(a,1),!this._animations.length&&this._inTicker&&this._removeFromTicker()),b._timeline=null},b.prototype._detach=function(a){this._animations[a];this._animations.splice(a,1),!this._animations.length&&this._inTicker&&this._removeFromTicker()},b.prototype._setChildDirty=function(a,b,c){a.isEnd||(this._animations.indexOf(a)<0&&(this._animations.push(a),this._inTicker||this._paused||this._addToTicker()),c&&(this._reorder=c))},b.prototype.update=function(a){if(!this._paused){this._justAdded&&(this._justAdded=!1,this.startTime=this._ticker.currentTime);var b=this.animations,c=this.startTime;this.startTime=a,a=this._currentTime=this._currentTotalTime+=a-c,this._firing=!0;for(var d=-1,e=b.length;++d<e;){var f=b[d];f?(c=f.startTime,!f.paused&&c<=a&&f.update((a-c)*f._timeScale),(f.paused||f.isEnd)&&(this._detach(d--),--e)):(b.splice(d--,1),--e)}b.length||this._inTicker&&this._removeFromTicker(),this._firing=!1}},b.getInstance=function(){return b.instance||(b.instance=new b,b.instance.init()),b.instance},b}(Tc),Xc=function(a){function b(b){a.call(this,b),this._plugin=null,this._descriptors=[],this._keyframes=[],this._signTable={},this._restored=!1,this._freeze=!0,this.overwritten=1,this.overwrittenEnabled=!0;for(var c=ed,d=-1,e=c.length;++d<e;)if(c[d].conform(b)){this._plugin=c[d];break}this.addEventListener("end",this._restorePropValue,this,1/0)}return oc(b,a),b.prototype.to=function(a,b){if(null==b){for(var c in a)this.to(c,a[c]);return this}return Yc[typeof b]?this.apply(a,{to:b}):(b.to=b.value,this.apply(a,b))},b.prototype.from=function(a,b){if(null==b){for(var c in a)this.from(c,a[c]);return this}return Yc[typeof b]?this.apply(a,{from:b}):(b.from=b.value,this.apply(a,b))},b.prototype.by=function(a,b){if(null==b){for(var c in a)this.by(c,a[c]);return this}return Yc[typeof b]?this.apply(a,{operator:2,to:b}):(b.operator=2,b.to=b.value,this.apply(a,b))},b.prototype.fromTo=function(a,b){return this.apply(a,b)},b.prototype.fromBy=function(a,b){return this.apply(a,b)},b.prototype.apply=function(a,c){if(null==c){for(var d in a)this.apply(d,a[d]);return this}if(Yc[typeof c])return this.apply(a,{to:c});c.name=a,null==c.freeze&&(c.freeze=this._freeze),this._plugin.sign(a,c);var e=c.immediate;if(c.hasOwnProperty("from")&&!1!==e&&(e=!0),this._initialized||e){b._checkCollision(this,[c]);var f=this._plugin.parse(this._target,c);f&&(this._keyframes.push(this._signTable[f.s]=f),e&&f.r(this._target,f.i(this._ratio),f.n))}else this._descriptors.push(c)},b.prototype._remove=function(a,b){var c=this._signTable[a];c&&(this._keyframes.splice(this._keyframes.indexOf(c),1),delete this._signTable[a],b&&c.r(this._target,c.i(1===b?1:0),c.n))},d(b.prototype,"freeze",{get:function(){return this._freeze},set:function(a){if(this._freeze=a,!this._initialized&&a)for(var b=this._descriptors,c=-1,d=b.length;++c<d;)b[c].freeze=a},enumerable:!0,configurable:!0}),b.prototype._restorePropValue=function(){for(var a=this._target,b=this._keyframes,d=-1,e=b.length;++d<e;){var f=b[d];f.fn!==c&&f.r(a,f.fn,f.n)}this._restored=!0},b.prototype.registerKeyframe=function(a){this._signTable[a.s]&&this._remove(a.s),this._keyframes.push(this._signTable[a.s]=a)},b.prototype.init=function(){var c=this._descriptors,d=this._keyframes,e=this._signTable,f=this._plugin,g=this._target;c.length&&b._checkCollision(this,c);for(var h=-1,i=c.length;++h<i;){var j=c[h],k=f.parse(g,j);k&&d.push(e[k.s]=k)}this._descriptors=null,b._register(this),a.prototype.init.call(this)},b.prototype.destroy=function(){this._keyframes&&(this.freeze||this._restored||this._restorePropValue(),this._initialized&&b._unregister(this),this._keyframes.length=0,this._descriptors=null,this._keyframes=null,this._signTable=null,a.prototype.destroy.call(this))},d(b.prototype,"globalStartTime",{get:function(){var a=this.startTime,b=this._timeline;if(b&&!b._timeline)return a+b.startTime;for(;b;)a+=b.startTime,b=b._timeline;return a},enumerable:!0,configurable:!0}),b.prototype.render=function(){this._restored=!1;var a=this._keyframes,b=this._target;if(!b||!a||!a.length)return!0;this._plugin.beginRender(b);for(var c=this._ratio,d=-1,e=a.length;++d<e;){var f=a[d];a[d].r(b,f.i(c),f.n)}return this._plugin.endRender(b),!1},b.create=function(a,c,d){var e=b.config(new b(a),c,d);if(d){if(null!=d.overwritten){var f=d.overwritten;f=!0===f?2:+f,(0===f||f)&&(e.overwritten=f)}null!=d.freeze&&(e.freeze=!!d.freeze)}
return e},b.to=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"to")},b.from=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"from")},b.by=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"by")},b.fromTo=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"fromTo")},b.motion=function(a,c,d,e){var f=b.create(a,c,e);return b._tween(f,d,"apply")},b.staggerTo=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"to")},b.staggerFrom=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"from")},b.staggerBy=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"by")},b.staggerFromTo=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"fromTo")},b.staggerMotion=function(a,c,d,e,f){return b._stagger(a,c,d,e,f,"motion")},b._stagger=function(a,c,d,e,f,g){if(a.length<2)return b[g](a[0],c,d,e);var h=Tc.create();h.duration=(a.length-1)*f+c,h.addEventListener("end",h.destroy,h,-1/0),Wc.getInstance().add(h);for(var i=0,j=-1,k=a.length;++j<k;){var l=b.create(a[j],c,e);h.add(l,i),l[g](d),i+=f}return h},b._tween=function(a,b,c){return a.addEventListener("end",a.destroy,a,-1/0),Wc.getInstance().add(a),a[c](b),a},b._register=function(a){var c=a.target;if(c){var d=c[Ic];d||(d=c[Ic]=f());(b._tweens[d]||(b._tweens[d]=[])).push(a)}},b._unregister=function(a){var c=a.target;if(c){var d,e;if(!(d=c[Ic])||!(e=b._tweens[d]))return;var f=e.indexOf(a);f>=0&&e.splice(f,1),e.length||delete b._tweens[d]}},b._getTweens=function(a){var c;if(a&&(c=a[Ic]))return b._tweens[c]},b.stopTweensOf=function(a,c){var d=b._getTweens(a);if(d){d=d.concat();for(var e=-1,f=d.length;++e<f;)d[e].stop(c,!0)}},b._checkCollision=function(a,c){var d=b._getTweens(a.target);if(d&&!(d.length<=1&&d[0]===a)&&a.overwritten&&(2===a.overwritten||a.available)){var e=a.globalStartTime,f=e+a.totalDuration/a._timeScale,g=a.overwritten,h=(12&g)>>2,i=a._timeline===Wc.getInstance();g&=3;for(var j=d.length;--j>=0;){var k=d[j],l=g,m=h;if(k!==a&&k.overwrittenEnabled){var n,o=e,p=!1;if(k._timeline===a._timeline){if(o=a.startTime,n=k.startTime,!(l=k._timeline.tweenOverwritten))continue;-1===l?l=g:(m=(12&l)>>2,l&=3),p=!i}else n=k.globalStartTime;if(2===l||k._initialized&&k.available&&(p&&n>=o||!p&&n<=o)&&n+k.totalDuration/k._timeScale<=f)for(var q=-1,r=c.length;++q<r;){var s,t=c[q];if((s=k._signTable[t.sign])&&t.sign===s.s&&(k._remove(s.s,m),!k._signTable))break}}}}},b._tweens={},b}(Rc),Yc=e(["string","number","boolean"]),Zc={1:{},2:{},3:{display:{normalize:function(a,b,c){if(!b){var d=a.style,e=b=d.display;"none"===e&&(d.display=b=""),""===d.display&&bb(a)&&(b=jb(a.nodeName)),d.display=e}return o(a,b,c,1)}},transformOrigin:{normalize:function(a,b,c){null!=b&&""!==b&&"auto"!==b&&"none"!==b||(b="50% 50%");for(var d=(""+b).split(" "),e=["50%","50%"],f=-1,g=Math.min(2,b.length);++f<g;){var h=d[f];if("%"!==h.substr(h.length-1)){var i=0===f?jd(a):md(a);e[f]=i?100*parseFloat(h)/i+"%":e[f]}else e[f]=h}return o(a,e,c,1)},getInterpolater:function(a,b){var c=r(a,b);return function(a){return c.call(this,a,!0).join(" ")}}},clip:{normalize:function(a,b,c){var d=null,e=null;null==b||""===b||"auto"===b||"none"===b?b="rect(0px,"+(d=ld(a))+"px,"+(e=od(a))+"px,0px)":b.indexOf("%")>=0&&(d=ld(a),e=od(a));for(var f=(""+b).match(/[-\d\.]+[%a-z]+/g),g=new Array(4),h=-1;++h<4;){var i=f[h];"%"===i[i.length-1]?g[h]=h%2?d?parseFloat(i)*d/100:0:e?parseFloat(i)*e/100:0:g[h]=parseFloat(i)+"px"}return o(a,g,c,3)},getInterpolater:function(a,b){var c=r(a,b);return function(a){return"rect("+c.call(this,a,!0).join(" ")+")"}}}},4:{}};k({boxShadow:{containsColor:!0,constList:["@","inset"],_default:"0 0 0 0 black @"},textShadow:{containsColor:!0,_default:"0 0 0 black"},backgroundPosition:{_default:"0 0"}},function(a,b){return l(b,a._default,a.containsColor,a.constList)}),Zc[4].shadow=Zc[4].dropShadow=Zc[3].textShadow,function(){function a(a){return function(b){for(var c=[],d=-1,e=a.length;++d<e;)c[d]=G(b,a[d]);return c}}function b(a,b,c,d){return Array.isArray(b)||(b=fc(b+""," ")),1===b.length?b.push(b[0],b[0],b[0]):2===b.length?b.push(b[0],b[1]):3===b.length&&b.push(b[1]),o(a,b,c,d)}function c(a,b){var c=r(a,b);return function(a){return c.call(this,a,!0).join(" ")}}var d=["Top","Right","Bottom","Left"];"color width style".replace(/\w+/g,function(e){var f=e[0].toUpperCase()+e.substr(1);Zc[3]["border"+f]={get:a(d.map(function(a){return"border"+a+f})),normalize:b,getInterpolater:c}}),"margin padding".replace(/\w+/g,function(e){Zc[3][e]={get:a(d.map(function(a){return e+a})),normalize:b,getInterpolater:c}}),Zc[3].borderRadius={get:a(["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(a){return"border"+a+"Radius"})),normalize:b,getInterpolater:c}}();var $c={"+=":1,"-=":2},_c=/^(?:rgba?\(|hsla?\(|#[\da-f])/i,ad=/ |,/,bd=/\$(\d+)/g,cd=null,dd=e("transform"),ed=[{conform:function(a){return a instanceof Ie},beginRender:function(a){a._transform.deferred=!0,a instanceof cf&&(a.deferredRender=!0)},endRender:function(a){a._transform.deferred=!1,"_filter"in a&&a._filter&&(a.filter.deferred=!1),a instanceof cf&&(a.deferredRender=!1)},sign:function(a,b){var c=a.indexOf("."),d=c>=0?a.substr(0,c):"";if(c>=0&&"dom"===d)return void(b.sign=ed[1].sign(a.substr(c+1),b));$g.KEYWORDS[a]&&(a="transform."+a),b.type=1,b.sign=I(a,b.type)},parse:function(a,b){var c=b.name,d=c.indexOf("."),e=d>=0?c.substr(0,d):"";if(d>=0){if("dom"===e){b.name=c.substr(d+1);var f=cd;cd=H;var g=ed[1].parse(a._dom,b);return cd=f,g}a=a[e],c=c.substr(d+1)}else $g.KEYWORDS[c]&&(a=a._transform,d=0,b.round=!1);var g=m(a,c,b,E,4);return g&&(g.r=d>=0?fd[e]?fd[e]:function(b,c,d){a[d]=c}:B),g}},{conform:function(a){return 1===a.nodeType||9===a.nodeType},beginRender:function(a){a[_g]&&(a[_g].deferred=!0)},endRender:function(a){a[_g]&&(a[_g].deferred=!1)},sign:function(a,b){b.sign=I(a,b.type=b.type||3)},parse:function(a,b){var c,d=b.name;if(1===b.type)c=A(a,b);else if(2===b.type){var e=zd(b.name);c=m(a,e.local,b,e.space?function(a,b){return a.getAttributeNS(e.space,e.local)}:F,2),c&&(c.r=e.space?function(a,b){a.setAttributeNS(e.space,e.local,b)}:C)}else{var d=b.name;"zIndex"===d?b.round=!0:$g.KEYWORDS[d]&&(b.round=!1),c=m(a,d,b,G,3),c&&(c.n=$g.KEYWORDS[d]?d:uf(d),c.r=D)}return c&&cd&&cd(c,b.type),c}},{conform:function(a){return!0},beginRender:Ec,endRender:Ec,sign:function(a,b){I(a,b.type=1)},parse:A}],fd={transform:function(a,b,c){a._transform[c]=b},filter:function(a,b,c){a._filter[c]=b},font:function(a,b,c){a._font[c]=b},dom1:function(a,b,c){a._dom[c]=b},dom0:function(a,b,c){We(a._dom,c,b)}},gd=0,hd={};Rc.registerAnimationFactory("Flicker",function(a,b,c){void 0===c&&(c={});var d=pb({},c,{yoyo:!0,repeat:2*(c.repeat||0)+1}),e=Xc.create(a,b/2,d);return e.overwritten=9,e.freeze=!1,e.apply({opacity:{to:c.alpha||0,freeze:!1}}),e}),Rc.registerAnimationFactory("Glowing",function(a,b,c){void 0===c&&(c={});var d=Ad("canvas"),e=d.getContext("2d");if(e){var f,g,h,i,j,k=a.dom||a,l=k;if(h=l.parentNode){var f=jd(l),g=md(l);d.className="leo-animation-canvas",d.width=f,d.height=g,Ye(d,{width:f,height:g,left:parseFloat(Xe(l,"left"))+a.x,top:parseFloat(Xe(l,"top"))+a.y,zIndex:Xe(l,"zIndex")}),i=d.cloneNode(!0).getContext("2d"),j=d.cloneNode(!0).getContext("2d");var m=l.nextSibling;m?h.insertBefore(d,m):h.appendChild(d);var n=c.params||{},o=Math.round(f*(n.strength||.35)),p=i.createLinearGradient(0,0,o,0),q=n.color||"#fff";p.addColorStop(0,Ee.transparentize(q,0)),p.addColorStop(.1,Ee.transparentize(q,.07)),p.addColorStop(.5,Ee.transparentize(q,.7)),p.addColorStop(.9,Ee.transparentize(q,.07)),p.addColorStop(1,Ee.transparentize(q,0)),i.save(),i.fillStyle=p,i.rotate(15*Math.PI/180),i.translate(Math.atan(15*Math.PI/180)*g,0),i.fillRect(0,-o,o,g+2*o),i.restore();try{j.drawImage(l,0,0,f,g)}catch(r){j.rect(0,0,f,g),j.fill()}return Sc.create(null,b,{onDestroy:function(){h.removeChild(d)},onRender:function(a){e.clearRect(0,0,f,g),e.globalCompositeOperation="source-over",e.drawImage(i.canvas,2*f*a-f,0),e.globalCompositeOperation="destination-in",e.drawImage(j.canvas,0,0)}},c)}}}),Rc.registerAnimationFactory("Jump",function(a,b,c){void 0===c&&(c={});var d=Tc.create(c);d.tweenOverwritten=0;var e=c.range||10,f=Xc.create(a,.4*b,{easing:"linear"});return f.overwritten=9,f.freeze=!1,f.apply({ty:{to:"-="+e}}),d.add(f),f=Xc.create(a,.2*b,{easing:"linear"}),f.overwritten=9,f.freeze=!1,f.apply({ty:{to:"+="+e}}),d.append(f),f=Xc.create(a,.2*b,{yoyo:!0,repeat:1,easeing:"linear"}),f.overwritten=9,f.freeze=!1,f.apply({ty:{to:"-="+.4*e}}),d.append(f),d}),Rc.registerAnimationFactory("Motion",function(a,b,c){void 0===c&&(c={});var d=Xc.create(a,b,c),e={},f=c.params;for(var g in c.params)f.hasOwnProperty(g)&&(e[g]=f[g]);return e.spriteScaleX&&(e.spriteScaleX={constant:1,to:e.spriteScaleX}),e.spriteScaleY&&(e.spriteScaleY={constant:1,to:e.spriteScaleY}),d.apply(e),d}),Rc.registerAnimationFactory("Rotate",function(a,b,c){var d=Xc.create(a,b,c);return d.overwritten=9,d.freeze=!1,d.apply({rotation:{to:"+=360",freeze:!1}}),d}),Rc.registerAnimationFactory("Shake",function(a,b,c){void 0===c&&(c={});var d=Tc.create(c);d.tweenOverwritten=0;for(var e=c.range||10,f={yoyo:!0,repeat:1,easing:"linear"},g=0;g<4;g++){var h=Xc.create(a,b/8,f);h.overwritten=9,h.freeze=!1,h.apply({rotation:{to:(g%2==0?"+":"-")+"="+(g<2?.4*e:e)}}),d.append(h)}return d}),Rc.registerAnimationFactory("Shine",function(a,b,c){void 0===c&&(c={}),a=a instanceof Ie?a.dom:a;var d=pb({},c,{yoyo:!0,repeat:2*(c.repeat||0)+1,offsetX:0,offsetY:0,blur:20,strength:10,color:"#000"}),e=d.offsetX+"px "+d.offsetY+"px "+d.blur+"px "+d.strength+"px "+Ee.parseToString(d.color),f=Ye(a,"boxShadow");f="none"===f?"0 0 0 0 rgba(255,255,255,0)":f,Ye(a,"boxShadow",f);var g=Xc.create(a,b/2,d);g.overwritten=9,g.freeze=!1;var h={boxShadow:{to:e,freeze:!1}};return g.apply(h),g}),Rc.registerAnimationFactory("ShineInside",function(a,b,c){void 0===c&&(c={}),a=a instanceof Ie?a.dom:a;var d=ui(a).select("#shineInsideDiv"+a.id)[0];d?Xc.stopTweensOf(d):(d=Ad("div"),d.id="shineInsideDiv"+a.id),Ye(d,{position:"absolute",width:"100%",height:"100%",left:0,top:0,boxShadow:"inset 0 0 0 "+Ee.parseToString(c.color||"#fff")}),a.appendChild(d);var e=pb({},c,{yoyo:!0,repeat:2*(c.repeat||0)+1,easing:"linear"}),f=Xc.create(d,b/2,e);return f.freeze=!1,f.apply({boxShadow:{to:"inset "+(e.offsetX||0)+"px "+(e.offsetY||0)+"px "+(e.blur||20)+"px "+(e.strength||10)+"px "+(e.color||"#fff")}}),f.addEventListener("destroy",function(){d&&d.parentNode&&(d.parentNode.removeChild(d),d=null)},null),f}),Rc.registerAnimationFactory("ShowStage",function(a,b,c){void 0===c&&(c={});var d=Tc.create(c),e=Xc.create(a,b),f=a.actualWidth/2,g=a.actualHeight/2,h=a.getMaxRadius(f,g,a.actualWidth,a.actualHeight);e.apply({spotX:f-h,spotY:g-h,spotWidth:2*h,spotHeight:2*h}),d.add(e,0);var i=Rc.getAnimation(a,"FadeOut",b);return d.add(i,0),d.duration=b,d}),Rc.registerAnimationFactory("SpotLight(Move to)",function(a,b,c){void 0===c&&(c={});var d=Xc.create(a,b,c);return d.setEasing("easeOutQuad"),d.apply(c.params),d.addEventListener("init",function b(){d.removeEventListener("init",b,null),a.visible||d.apply({visible:!0,opacity:{from:0,to:a.opacity}})},null),d});var id=this;Rc.registerAnimationFactory("SpriteMotion",function(a,b,c){void 0===c&&(c={});var d=c.params,e=Tc.create(c);e.duration=b;var f=0;if(d.motion&&(e.add(Rc.getAnimation(a,"Motion",b,{easing:c.easing,params:d.motion,overwritten:c.overwritten}),0),++f),d.action&&a.sprite.containsAction(d.action)){var g=a.sprite.getNumFramesOfAction(d.action);if(g){var h=a.actionConfigs&&a.actionConfigs[d.action],i=h&&h.frameRate||8,j=h&&h.repeat||0,k=Xc.create(a,1e3*g/i,{easing:Jd(g+1,g/(g+1)),repeat:j,overwritten:c.overwritten});e.add(k,0),k.freeze=!1,k.apply({currentActionName:{immediate:!1,from:d.action,to:d.action},currentActionIndex:{immediate:!1,from:0,floor:!0,to:g,freeze:!!d.freeze}}),a.node.select(".showed-text").remove();var l=d.text;if(l&&l.content){var m=a.node.el("div").addClass("leo-comp--sprite-text"),n=a.width,o=a.height,p=400,q=174,r=(l.position,[45,60]),s=m.el("div").addClass("inside"),t=l.bgImage;s.el("div").addClass("masking").addClass(t.substring(1+t.lastIndexOf("_"),t.lastIndexOf(".")));if(l.bgImage.indexOf("circle")>=0?(p=300,q=200,r=[60,50],s.addClass("circle")):l.bgImage.indexOf("cloud")>=0?(p=273,q=283,r=[38,40,150,40],s.addClass("cloud")):s.addClass("rect"),"large"===l.size.toLowerCase()){var u=1.5;p*=u,q*=u,r=r.map(function(a){return a*u})}s.style("borderWidth",r.join("px ")+"px");var v,w,x="50% 100%";l.bgImage.indexOf("left")>=0?(v=.18*n-p,w=.2*o-q,x="100% 100%"):l.bgImage.indexOf("right")>=0?(v=n-.18*n,w=.2*o-q,x="0 100%"):(v=(n-p)/2,w=-q-20);var y,z;a.watch("width",y=function(){var b=a.width;v=l.bgImage.indexOf("left")>=0?.18*b-p:l.bgImage.indexOf("right")>=0?b-.18*b:(b-p)/2,m.style("left",v)},id),a.watch("height",z=function(){var b=a.height;w=l.bgImage.indexOf("left")>=0?.2*b-q:l.bgImage.indexOf("right")>=0?.2*b-q:-q-20,m.style("top",w)},id),m.style({left:v,top:w,backgroundImage:"url("+l.bgImage+")",width:p,height:q,transformOrigin:x}),e.addEventListener("init",function(){a.node.select(".showed-text").remove(),m.style("transform","scale(1)").addClass("showed-text")},null),e.addEventListener("destroy",function(){a.unwatch("width",z,null),a.unwatch("height",y,null),fb(m[0])},null);var A,B,C=1500,D=vi("div").addClass("content").html(Na(l.content,0)),E=e.duration;if(E<=C)s.append(D),A=500,B=Math.max(E-500,0);else{var F=kb(D[0]),G=F.chars;s.append(F.el);var H=Math.min((E-C)/G.length,150);A=1e3+E-C,B=500,G.forEach(function(a,b){var c=Xc.create(a,0,{delay:H*b+500});fb(a),c.addEventListener("init",function(){eb(a)},null),e.add(c)})}e.add(Rc.getAnimation(m[0],"FadeOut",B),A)}var I=d.sound,t=I.src;I&&t&&(e.addEventListener("init",function(){a.getAudio(t).play()},null),e.addEventListener("destroy",function(){a.getAudio(t).pause()},null)),++f}}return f?e:null});var jd,kd,ld,md,nd,od,pd={position:"absolute",visibility:"hidden",display:"block"},qd=/^(?:none|table(?!-c[ea]).+)/;"Width,Height".replace(/\w+/g,function(a){var b=J(a),c=a.toLowerCase(),d="scroll"+a,e="offset"+a,f="client"+a,g=function(a,g){if(arguments.length<2){if(a.setTimeout)return a.innerWidth;if(9===a.nodeType){var h=a.documentElement;return Math.max(a.body[d],h[d],a.body[e],h[e],h[f])}return b(a)}Ve(a,c,g)};"Width"===a?(jd=g,kd=function(a){return b(a,1)},ld=function(a,c){return b(a,c?3:2)}):(md=g,nd=function(a){return b(a,1)},od=function(a,c){return b(a,c?3:2)}),g=null}),k(["ver","hor"],function(a){var b="hor"===a?"tx":"ty",c={yoyo:!0,repeat:1,easing:"linear"};Rc.registerAnimationFactory("Swing("+a+")",function(d,e,f){var g=Tc.create(f);g.tweenOverwritten=0;for(var h=f.range||d["hor"===a?"_actualWidth":"_actualHeight"],i=0;i<2;i++){var j=Xc.create(d,e/4,c);j.overwritten=9,j.freeze=!1;var k={};k[b]={to:(i<1?"+":"-")+"="+h,freeze:!1},j.apply(k),g.append(j)}return g})}),Rc.registerAnimationFactory("TextScroll",function(a,b,c){void 0===c&&(c={});var d,e,f=a instanceof Ie,g=f?a.dom:a;Ye(g,"overflow","hidden"),e=a.height,d=md(g.querySelector(".leo-comp--txt__content")),c.easing="linear",c.repeat=c.repeat||0;var h=g.querySelector(".leo-comp--txt__content");Ye(h,"ty",e);var i=Xc.create(h,b/2,c);i.freeze=!1,i.apply({ty:{to:-d,freeze:!1}});var j=Tc.create();return j.add(i),j.addEventListener("destroy",function(){return Ye(h,"ty","0")},id),j}),Rc.registerAnimationFactory("TextShine",function(a,b,c){void 0===c&&(c={}),a=a instanceof Ie?a.dom:a;for(var d=(c.offsetX||0)+"px "+(c.offsetY||0)+"px "+(c.blur||20)+"px "+Ee.parseToString(c.color||"#fff"),e=d,f=c.strength||10,g=0;g<f;g++)e=e+","+d;var h=pb({},c,{yoyo:!0,repeat:2*(c.repeat||0)+1,easing:"linear"}),i=Ye(a,Hd);i=("none"===i?"0 0 0 rgba(255,255,255,0)":e)+",";var j="0 0 0 "+Ee.transparentize(Ee.parseToString(h.color||"#fff"),0);for(g=0;g<f;g++)i+=j;Ye(a,Hd,j);var k=Xc.create(a,b/2,h);return k.overwritten=9,k.freeze=!1,k.apply({textShadow:{to:e,freeze:!1}}),k}),Rc.registerAnimationFactory("TextStarwars",function(a,b,c){void 0===c&&(c={});var d=a instanceof Ie,e=d?a.dom:a;Ye(e,{perspective:100,overflow:"hidden"});var f=a.height;c.easing="linear",c.repeat=c.repeat||0;var g=e.querySelector(".leo-comp--txt__content");Ye(g,{ty:f+2,rotationX:30,transformOrigin:"50% 0%"});var h=Xc.create(g,b,c);h.apply({ty:{to:.7*-f,freeze:!1},tz:{to:3*-f/4,freeze:!1}});var i=Tc.create();return i.add(h),i.addEventListener("destroy",function(){return Ye(g,{ty:0,tz:0,rotationX:0,transformOrigin:"50%"})},id),i}),Rc.registerAnimationFactory("Zoom",function(a,b,c){void 0===c&&(c={});var d=pb({},c,{yoyo:!0,repeat:2*(c.repeat||0)+1}),e=Xc.create(a,b/2,d);return e.overwritten=9,e.freeze=!1,e.apply({scaleX:{to:"+="+parseFloat(c.scale||.2),freeze:!1},scaleY:{to:"+="+parseFloat(c.scale||.2),freeze:!1}}),e}),Rc.registerAnimationFactory("ZoomFocus",function(a,b,c){void 0===c&&(c={}),a=a instanceof Ie?a.dom:a;var d=Ad("div");Ye(d,{position:"absolute",width:"100%",height:"100%",left:0,top:0,borderColor:Ee.parseToString(c.color||"rgba(255,255,255,0.5)"),borderStyle:c.type||"solid",boxSizing:"border-box"}),a.appendChild(d);var e=c.width||20,f=pb({},c,{yoyo:!0,repeat:2*(c.repeat||0)+1,easing:"linear"}),g=Xc.create(d,b/2,f);return g.overwritten=9,g.freeze=!1,g.apply({borderWidth:{to:e,freeze:!1}}),g.addEventListener("destroy",function(){a.removeChild(d)},id),g}),Rc.registerAnimationFactory("ZoomRotate",function(a,b,c){void 0===c&&(c={});var d=pb({},c,{yoyo:!0,repeat:2*(c.repeat||0)+1}),e=Xc.create(a,b/2,d);return e.overwritten=9,e.freeze=!1,e.apply({rotation:{to:"+="+(d.rotate||360),freeze:!1},scaleX:{to:d.scale||0,freeze:!1},scaleY:{to:d.scale||0,freeze:!1}}),e}),Rc.registerAnimationFactory("SoundHide",function(a,b,c){return Rc.getAnimation(a,"SoundFadeOut",.001,c)}),Rc.registerAnimationFactory("SoundShow",function(a,b,c){return Rc.getAnimation(a,"SoundFadeIn",.001,c)}),L("Blur",[{color:function(a){return Id(a,0)},textShadow:function(a){return"0 0 10px "+Id(a,0)}},{textShadow:function(a){return"0 0 10px "+Ye(a,Gd)},color:function(a){return Id(a,0)}},{color:function(a){return Id(a,1)},textShadow:function(a){var b=Ye(a,Hd);return"none"===b?"0 0 0 "+Id(a,0):b}}],c,[2/3,1/3]),L("Explode",[{scaleY:function(){return 5*Cd()},scaleX:function(){return 5*Cd()},rotation:function(){return(Cd()>.5?1:-1)*(360*Cd())},rotationX:function(){return(Cd()>.5?1:-1)*(180*Cd())},rotationY:function(){return(Cd()>.5?1:-1)*(180*Cd())},opacity:0,tz:function(){return 1e3*Cd()+360}},{scaleX:1,scaleY:1,rotation:0,rotationX:0,rotationY:0,opacity:1,tz:0}],{random:!0}),L("Fade",[{opacity:0},{opacity:1}]),L("Fall",[{rotation:function(){return Fd()*(360*Cd()+180)},opacity:function(){return Cd()},ty:function(){return-200*Cd()-100},scaleX:function(){return Cd()},scaleY:function(){return Cd()}},{rotation:0,opacity:1,ty:0,scaleX:1,scaleY:1}],{random:!0}),L("Float",[{scaleX:2,scaleY:2,rotationX:180,opacity:0},{scaleX:1,scaleY:1,rotationX:0,opacity:1}],{transformOrigin:"50% 50% 20px"}),L("Fly",[{rotation:function(){return Fd()*(180*Cd()+180)},opacity:function(){return Cd()},scaleX:function(){return Cd()},scaleY:function(){return Cd()}},{rotation:0,opacity:1,scaleX:1,scaleY:1}],{transformOrigin:function(){return(Cd()>.5?-1:1)*Dd(1e3*Cd())+"% 50%"},random:!0}),["Top","Right","Bottom","Left"].forEach(function(a,b){var c=0,d=0,e=0===b||3===b?-120:120;1===b||3===b?c=e:d=e,L(a,[{tx:c,ty:d},{tx:0,ty:0}])}),L("RotateBottom",[{scaleY:0,scaleX:0,rotationX:-180,opacity:0,ty:-80},{scaleX:1,scaleY:1,rotationX:0,opacity:1,ty:0}],{transformOrigin:"0% 50% -50px",easing:"easeOutBack"}),L("RotateTop",[{scaleY:0,scaleX:0,rotationX:180,opacity:0,ty:80},{scaleX:1,scaleY:1,rotationX:0,opacity:1,ty:0}],{easing:"easeOutBack",transformOrigin:"0 50% -50px"}),L("RScale",[{scaleX:5,scaleY:5},{scaleY:.1,scaleX:.1},{scaleX:3,scaleY:3},{scaleX:1,scaleY:1}],c,[1/6,.5,1/3]),L("Scale",[{scaleX:5,scaleY:5},{scaleX:1,scaleY:1}],{interval:.6},[1/6,.5,1/3]),L("Zoom",[{scaleX:0,scaleY:0},{scaleX:1,scaleY:1}],c,[1/6,.5,1/3]),L("Uneven",[{opacity:0,tz:function(){return 500*Cd()*Fd()-100}},{opacity:1,tz:0}],{random:!0,easing:"easeOutCire"}),Rc.registerAnimationFactory("SliceIn",function(a,b,c){return Rc.getAnimation(a,"SliceInFromLeft",b,c)}),Rc.registerAnimationFactory("SliceOut",function(a,b,c){return Rc.getAnimation(a,"SliceOutToLeft",b,c)}),Rc.registerAnimationFactory("SmoothIn",function(a,b,c){return Rc.getAnimation(a,"SmoothInFromLeft",b,c)}),Rc.registerAnimationFactory("SmoothOut",function(a,b,c){return Rc.getAnimation(a,"SmoothOutToLeft",b,c)}),Rc.registerAnimationFactory("BlindInVer",function(a,b,c){return Rc.getAnimation(a,"BlindInFromLeft",b,c)}),Rc.registerAnimationFactory("BlindInHor",function(a,b,c){return Rc.getAnimation(a,"BlindInFromTop",b,c)}),Rc.registerAnimationFactory("BlindOutVer",function(a,b,c){return Rc.getAnimation(a,"BlindOutToLeft",b,c)}),Rc.registerAnimationFactory("BlindOutHor",function(a,b,c){return Rc.getAnimation(a,"BlindOutToTop",b,c)}),Rc.registerAnimationFactory("SoundFadeOut",function(a,b,c){return Rc.getAnimation(a,"Hide",b,c)}),Rc.registerAnimationFactory("SoundFadeIn",function(a,b,c){return Rc.getAnimation(a,"Show",b,c)}),M(function(a){P("Blind",a,"Extend",a,function(b){return"Top"===a||"Bottom"===a?{row:-1,col:1,originY:b?"Top"===a?"Bottom":"Top":a}:{row:1,col:-1,originX:b?"Left"===a?"Right":"Left":a}})}),M(function(a){P("BlindFade",a,"Fade",null,function(){return"Top"===a||"Bottom"===a?{row:-1,col:1,originY:a}:{row:1,col:-1,originX:a}})}),P("BlockFade",null,"Fade"),P("BlockZoom",null,"Zoom"),P("Shuffle",null,function(a){return function(a){var b=a.ClientRect;a.div;return{opacity:0,tx:(Math.random()>.5?1:-1)*Math.random()*b.width*5,ty:(Math.random()>.5?1:-1)*Math.random()*b.height*5}}},null,{sequence:"together"}),M(function(a){P("Slice",a,"Move",a,function(){return"Top"===a||"Bottom"===a?{row:1,col:-1,overflow:"hidden"}:{row:-1,col:1,overflow:"hidden"}})}),k(["In","Out"],function(a){var b="Out"===a?"MoveOutTo":"MoveInFrom";k(["Hor","Ver"],function(c){if("Hor"===c)var d="j",e=-1,f="Left",g="Right";else var d="i",e=1,f="Top",g="Bottom";Rc.registerAnimationFactory("Slice"+a+c+"Cross",N(function(a){return b+(a.index[d]%2==0?f:g)},"Out"===a,function(){return{row:1*e,col:-1*e,overflow:"hidden"}}))})}),M(function(a){P("Smooth",a,"Extend",a,function(){return"Top"===a||"Bottom"===a?{row:1,col:-1}:{row:-1,col:1}})}),k(["In","Out"],function(a){var b="Out"===a?"ExtendOutTo":"ExtendInFrom";k(["Hor","Ver"],function(c){if("Hor"===c)var d="j",e=-1,f="Left",g="Right";else var d="i",e=1,f="Top",g="Bottom";Rc.registerAnimationFactory("Smooth"+a+c+"Cross",N(function(a){return b+(a.index[d]%2==0?f:g)},"Out"===a,function(){return{row:1*e,col:-1*e}}))})}),M(function(a){P("Stack",a,"Move",a,function(b){return"Top"===a||"Bottom"===a?{row:-1,col:1,originY:b?"Top"===a?"Bottom":"Top":a}:{row:1,col:-1,originX:b?"Left"===a?"Right":"Left":a}})}),k(["In","Out"],function(a){var b="Out"===a?"MoveOutTo":"MoveInFrom";k(["Hor","Ver"],function(c){if("Hor"===c)var d="i",e=1,f="Left",g="Right";else var d="j",e=-1,f="Top",g="Bottom";Rc.registerAnimationFactory("Stack"+a+c+"Cross",N(function(a){return b+(a.index[d]%2==0?f:g)},"Out"===a,function(){return{row:1*e,col:-1*e}}))})}),Q("Circle",null,function(a,b,c,d,e){void 0===e&&(e={});var f,g=b.getContext("2d"),h=b.cloneNode(!1),i=h.getContext("2d"),j=jd(a),k=md(a),l=j/2,m=k/2,n=Math.ceil(Math.sqrt(j*j+k*k)),o=e.num||10,p=Math.floor(n/o),q=0,r=.5,s=(1-r)/(o-1),t=n%o,u=2*Math.PI,v=Sc.create(a,c,e);return v.onRender=function(b){b=d?1-b:b;var c=0;for(g.clearRect(0,0,j,k);c<o;)f=c*s,n=f+r,q=b>=f?b>n?1:(b-f)/r:0,i.clearRect(0,0,j,k),i.save(),i.globalAlpha=q,i.beginPath(),i.arc(l,m,(p*(c+1)+Math.max(0,c-t+1))/2,0,u,!1),i.closePath(),i.clip(),i.drawImage(a,0,0,j,k),g.drawImage(i.canvas,0,0),i.restore(),c++},v}),Q("Scan",null,function(a,b,c,d,e){void 0===e&&(e={});var f,g,h=b.getContext("2d"),i=b.cloneNode(!1),j=i.getContext("2d"),k=jd(a),l=md(a),m=k/2,n=l/2,o=Math.ceil(Math.sqrt(k*k+l*l)),p=e.num||10,q=0,r=.5,s=(1-r)/(p-1),t=2*Math.PI/p,u=Sc.create(a,c);return u.onRender=function(b){b=d?1-b:b;var c=0;for(h.clearRect(0,0,k,l);c<p;)f=c*s,g=f+r,q=b>=f?b>g?1:(b-f)/r:0,j.clearRect(0,0,k,l),j.save(),j.beginPath(),j.moveTo(m,n),j.arc(m,n,o/2,c*t,(c+q)*t,!1),j.lineTo(m,n),j.closePath(),j.clip(),j.drawImage(a,0,0,k,l),h.drawImage(j.canvas,0,0),j.restore(),c++},u}),k(["Ver","Hor"],function(a){Q("Shine",a,function(b,c,d,e,f){void 0===f&&(f={});var g=c.getContext("2d"),h=c.cloneNode(!1),i=h.getContext("2d");i.lineWidth=1;for(var j,k=f.shape||a,l=f.num||20,m=0,n=100,o=Math.floor,p=Math.random,q=[],r=jd(b),s=md(b),t="Ver"===k?s:r,u=0;u<l;u++)j=o(p()*l)+1,j>m&&(m=j),j<n&&(n=j),q.push({x:o(p()*r),y:o(p()*s),r:o(p()*t),s:j});var v;v=1==m?0:1/m;var w=Sc.create(b,d),x=1/3,y=2/3,z="255, 255, 255",A=.3,B=.65,C=Qc.get("easeInOutQuad");return w.onRender=function(a){a=e?1-a:a,g.clearRect(0,0,r,s),i.clearRect(0,0,r,s),i.globalCompositeOperation="source-over",i.globalAlpha=1,a>x&&(i.fillStyle="rgba("+z+","+C((a-x)/y)+")",i.fillRect(0,0,r,s));var c,d,f,h,j,m=0;for(u=0;u<l;u++)c=q[u],d=(c.s-n)*v,a>=d&&(m=(a-d)/(1-d),f=o(c.r*m),h=c.x-f,j=f<<1,i.fillStyle="rgba("+z+","+m/2+")",i.strokeStyle="rgba("+z+","+m+")","Ver"===k?(i.fillRect(0,h,r,j),i.beginPath(),i.moveTo(0,h+.5),i.lineTo(r,h+.5),i.moveTo(0,h+j+.5),i.lineTo(r,h+j+.5),i.stroke(),i.closePath()):(i.fillRect(h,0,j,s),i.beginPath(),i.moveTo(h+.5,0),i.lineTo(h+.5,s),i.moveTo(h+j+.5,0),i.lineTo(h+j+.5,s),i.stroke(),i.closePath()));m=0,A>0&&(g.globalCompositeOperation="lighter",a>=B&&(m=C((a-B)/(1-B))),g.globalAlpha=A*(1-m),g.drawImage(i.canvas,0,0)),i.globalCompositeOperation="source-atop",i.drawImage(b,0,0,r,s),g.globalCompositeOperation="lighter",g.globalAlpha=1,g.drawImage(i.canvas,0,0)},w})}),Rc.registerAnimationFactory("Hide",function(a,b,c){var d=Xc.create(a,.001,c);return a instanceof Ie?d.to("visible",!1):d.to("display","none"),d}),Rc.registerAnimationFactory("Show",function(a,b,c){var d=Xc.create(a,.001,c);return a instanceof Ie?d.to("visible",!0):d.to("display",""),d});var rd=[function(a,b,c){return X(a,c,b)+X(a,"width",b)},function(a,b,c){return X(a,c,b)-X(a,"width",b)},function(a,b,c){return X(a,c,b)+X(a,"height",b)},function(a,b,c){return X(a,c,b)-X(a,"height",b)}];M(function(a,b){var c={rotation:("Right"===a||"Bottom"===a?"+":"-")+"=90"};c[b<2?"tx":"ty"]=rd[b],U("Roll",a,c)}),M(function(a,b){U("Extend",a,{clip:{value:"rect("+("Bottom"===a?"100%":"0px,")+("Left"===a?"0px":"100%,")+("Top"===a?"0px":"100%,")+("Right"===a?"100%":"0px")+")",freeze:!1}})}),U("Extend","Middle",{clip:{value:"rect(50%,50%,50%,50%)",freeze:!1}}),U("Extend","Hor",{clip:{value:"rect(0px,50%,100%,50%)",freeze:!1}}),U("Extend","Ver",{clip:{value:"rect(50%,100%,50%,0px)",freeze:!1}}),U("Fade");var sd=[function(a,b,c){return X(a,c,b)+X(a,"width",b)},function(a,b,c){return X(a,c,b)-X(a,"width",b)},function(a,b,c){return X(a,c,b)+X(a,"height",b)},function(a,b,c){return X(a,c,b)-X(a,"height",b)}],td=function(a,b,c){return 2*X(a,c,b)};M(function(a,b){var c={};c[b<2?"scaleX":"scaleY"]=td,c[b<2?"originX":"originY"]={to:b%2,constant:1,freeze:!1},c[b<2?"tx":"ty"]=sd[b],U("Flex",a,c),c=null}),M(function(a,b){var c={};c[b<2?"tx":"ty"]=sd[b],U("Move",a,c)});var ud=function(a,b){var c=Math.min(X(a,"width",b),X(a,"height",b));return(Math.random()>.5?1:-1)*Math.random()*c},vd=function(){return(Math.random()>.5?"-=":"+=")+360*Math.random()};["RandomRotate","RandomZoom"].forEach(function(a,b){U(a,null,{scaleX:b?0:td,scaleY:b?0:td,rotation:vd,tx:ud,ty:ud})}),U("Scale",null,{scaleX:td,scaleY:td}),["Right","Left"].forEach(function(a,b){U("Skew",a,{originY:{to:.8,constant:1,freeze:!1},scaleY:0,tx:sd[b],skewX:75*(b?1:-1)})});var wd=[function(a,b,c){return X(a,c,b)+90},function(a,b,c){return X(a,c,b)-90}];M(function(a,b){var c={};c[b<2?"originX":"originY"]={to:1-b%2,constant:1,freeze:!1},c[b<2?"rotationY":"rotationX"]=wd[b>0&&b<3?0:1],U("Swing",a,c)}),U("Zoom",null,{scaleX:0,scaleY:0});var xd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yd={},zd=function(a){var b=a.indexOf(":"),c=a;b>=0&&(c=a.substr(0,b),a=a.substr(b+1));var d=yd;return d.space=xd[c],d.local=a,d},Ad=function(a,c){var d=zd(a);a=d.local,d.space&&(c=d.space);var e=c?b.createElementNS(c,a):b.createElement(a);return"svg"===a&&(e.setAttribute("xmlns",d.space),e.setAttribute("xmlns:xlink",xd.xlink),e.setAttribute("version","1.1")),e};V("Blur"),V("Gray");var Bd=function(){function a(){}return a.square=function(a,b,c,d,e){for(var f,g=Math.min(a,b,d-a-1,c-b-1),h=0,i=(2*c+2*d-4)*g;h<g;)i-=8*h++;return b===g?f=i+a-g:a===d-g-1?f=i+d-2*g-1+b-g:b===c-g-1?f=i+d-2*g-1+c-2*g-1+d-a-1-g:a===g&&(f=i+d-2*g-1+c-2*g-1+d-2*g-1+c-b-1-g),e?d*c-f-1:f},a.getSequenceTable=function(b,c,d,e,f,g){"randomSequence"===(b=b||"diagonal")&&(b=a.sequenceArray[Math.floor(Math.random()*a.sequenceArray.length)]);for(var h,i,j=a.sequenceMap[b.toLowerCase()],k=0,l=[],m=0;k<c;){for(h=0;h<d;)i=j(e?d-h-1:h,f?c-k-1:k,c,d),m<i&&(m=i),l.push(i),h++;k++}return l.push(m),l},a.sequenceMap={together:function(){return 0},row:function(a,b,c){return b*(c-1)+a},col:function(a,b,c,d){return a*c+b},diagonal:function(a,b){return a+b},random:function(a,b,c,d){var e=4*Math.random();return e>3?a+b:e>2?d-a-1+b:e>1?c-b-1+a:c-b-1+d-a-1},rowcross:function(a,b,c,d){return b%2==0?b*d+a:b*d+(d-a-1)},colcross:function(a,b,c,d){return a%2==0?a*c+b:a*c+(c-b-1)},squarein:function(){return a.square.apply(null,arguments)},squareout:function(){for(var b=[],c=0;c<arguments.length-0;c++)b[c]=arguments[c+0];return b.push(!0),a.square.apply(null,b)},edgetomiddlediagonal:function(a,b,c,d){return a+b>(d+c)/2+(d+c)%2-1?d+c-a-b-2:a+b},middletoedgediagonal:function(a,b,c,d){return Math.floor(Math.abs((d-1+c+(d+c)%2-1)/2-a-b))},rowseparate:function(a,b,c,d){var e=Math.min(c,2);return b%2==0?a%2==0?a*e:(d-a-1)*e+1:a%2==1?a*e:(d-a)*e-1},colseparate:function(a,b,c,d){var e=Math.min(d,2);return a%2==0?b%2==0?b*e:(c-b-1)*e+1:b%2==1?b*e:(c-b)*e-1},diagonalseparate:function(a,b,c,d){var e=(c+d)%2;return a%2==0?b%2==0?a+b:c-b+d-a-3+1+e:b%2==1?a+b:c-b+d-a-3+1+e}},a.sequenceArray=Object.keys(a.sequenceMap),a}(),Cd=function(a){return void 0===a&&(a=1),Math.random()*a},Dd=Math.floor,Ed=(Math.floor,Math.round),Fd=(Math.sqrt,Math.sin,Math.cos,Math.tan,Math.atan,function(){return Math.random()>.5?-1:1}),Gd=(Math.PI,Math.abs,Math.min,"color"),Hd="textShadow",Id=function(a,b){return void 0===b&&(b=0),Ee.transparentize(Ye(a,"color"),b)};Qc.factory.back=function(a){return a||(a=1.70158),function(b){return 1===b?1:b*b*((a+1)*b-a)}},Qc.eases.easeInBack=Qc.factory.back(),Qc.eases.easeOutBack=g(Qc.eases.easeInBack),Qc.eases.easeInOutBack=h(Qc.eases.easeInBack),Qc.eases.easeInBounce=function(a){return a=1-a,1-(a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375)},Qc.eases.easeOutBounce=g(Qc.eases.easeInBounce),Qc.eases.easeInOutBounce=h(Qc.eases.easeInBounce),Qc.factory.elastic=function(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Mc*Math.asin(1/a):(a=1,c=b/4),function(d){return d=1-d,d?1===d?0:-a*Math.pow(2,-10*d)*Math.sin((d-c)*Mc/b):1}},Qc.eases.easeInElastic=Qc.factory.elastic(),Qc.eases.easeOutElastic=g(Qc.eases.easeInElastic),Qc.eases.easeInOutElastic=h(Qc.eases.easeInElastic);var Jd=Qc.factory.steps=function(a,b){null==b&&(b=1);var c=a+"x"+b,d=Jd.cache;if(d[c])return d[c];var e=1/a,f=function(a){return 1===a?b:~~(a/e)*e};return d.length>=10&&(delete d[d[d.length-1]],d.pop()),d[c]=f,d.unshift(c),f};Jd.cache=[],k(Rc._animationFactories,function(a,b){if(/(.*?)In(.*)$/i.test(b)){var c=RegExp.$1,d=RegExp.$2,e=c+"out",f=/From(.*)$/i.exec(d);if(f){var g=f[1],h="Left"===g?"Right":"Right"===g?"Left":"Top"===g?"Bottom":"Top";e+="To"+h,c+=g+h}else e+=d,c+=d;Rc._animationFactories[e]&&Y(c,b,e)}}),Rc.registerTransitionFactory("None",function(a,b,c,d){b instanceof Ie?b.visible=!1:Ve(b,"display","none");var e=Tc.create();return e.add(Rc.getAnimation(b,"Show",c)),e.add(Rc.getAnimation(a,"Hide",c)),e});var Kd={initialize:function(a,b){
Kd._iterate(a,function(a){var c,d,e=Md.get(a,"animationOption");e&&(c=e.animations,d=e.enter,c&&k(c,function(c,e){Rc.animate(a,c.name,c.duration,c,b).addEventListener("destroy",function(){a.dispatchSimpleEvent((c.name===d.name?"enter":"leave")+"Complete")},this)}))})},stop:function(a){var b=this;Kd._iterate(a,function(a){b.stopComponent(a)})},stopComponent:function(a){var b=Md.get(a,"timeline");b&&(b.destroy(),Md.set(a,"timeline",null)),(b=Md.get(a,"showHideAnimation"))&&(b.stop(!0,!0),Md.set(a,"showHideAnimation",null))},show:function(a){Kd.showHide(a,!0)},hide:function(a){Kd.showHide(a,!1)},run:function(a,b){var c=Md.get(a,"timeline");c||(c=Tc.create(),Wc.getInstance().add(c),c.addEventListener("end",function(){c.destroy(),Md.set(a,"timeline",null)},null,1/0),Md.set(a,"timeline",c));var d=Md.get(a,"animation");return d&&d.destroy(),d=Rc.animate(a,b.name,b.duration,b),Md.set(a,"animation",d),d.addEventListener("end",function(){this.destroy(),Md.set(a,"animation",null)},d),c.add(d),d},tween:function(a,b,c){var d=Md.get(a,"timeline");d||(d=Tc.create(),Wc.getInstance().add(d),d.addEventListener("end",function(){d.destroy(),Md.set(a,"timeline",null)},null,1/0),Md.set(a,"timeline",d)),d.add(Xc.motion(a,c.duration,b,c))},showHide:function(a,b,c,d){var e=b?"showing":"hiding",f=Md.get(a,e),g=Md.get(a,"showHideAnimation");if(f)g&&d&&d!==g.timeline&&d.add(g);else{g&&(g.stop(!0,!0),Md.set(a,"showHideAnimation",null));var h=a instanceof jf,i=h?!a.audio.paused:a.visible;if(b&&!i||!b&&i){var j=Md.get(a,"animationOption"),k=j?j[b?"enter":"leave"]:null;if(k||b||(k={name:h?"SoundFadeOut":"FadeOut"}),k){!h&&"Show"!==k.name&&k.name;var g=Rc.animate(a,k.name,null==c?k.duration:c,k,d);g.addEventListener("end",function(){Md.set(a,"showHideAnimation",null),Md.set(a,e,!1)},null,1/0),Md.set(a,"showHideAnimation",g),Md.set(a,e,!0)}else h?b?(a.audio.volume=1,a.audio.replay()):a.audio.pause():a.visible=b}}},leave:function(a){var b=Tc.create();a=a.concat();for(var c=-1,d=a.length;++c<d;){var e=a.shift();(e.visible||Md.get(e,"showing"))&&Kd.showHide(e,!1,null,b)}return b.addEventListener("end",b.destroy,b),Wc.getInstance().add(b),b},_iterate:function(a,b){for(var c=[a];c.length;){var d=c.shift();if(b(d),d instanceof Le)for(var e=d.children,f=-1,g=e.length;++f<g;)c.push(e[f])}}},Ld=function(a){function b(b){a.call(this),this.__leo_guid__=f(),this._timeline=null,this._current=-1,this.paused=!1,this._destroyed=!1,this._initialized=!1,this._preloaded=!1,this._options=b||{},this._sceneData=this._options.scenes,this._initPreloadList(),this._container=ui(b.container||"body"),lc.apps[this[Ic]]=this}return oc(b,a),d(b.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),b.prototype._initPreloadList=function(){var a;switch(this._options.preloadType){case 1:a=ac(this._sceneData.length);break;case 0:a=[];break;default:var b=this._options.preload||[];a=[];for(var c=-1,d=b.length;++c<d;)Array.isArray(b[c])?a=a.concat(ac(b[c][0],b[c][1]+1)):a.push(b[c])}this._preloadList=a},d(b.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),d(b.prototype,"app",{get:function(){return this._app},enumerable:!0,configurable:!0}),d(b.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),b.prototype._initPlugins=function(){for(var a=this.options.plugins||[],b=this.plugins=[],c=-1,d=a.length;++c<d;){var e=ni.create(a[c].name,a[c],this);e&&b.push(e)}},b.prototype._createTimeline=function(){var a=this;return this._timeline&&this._timeline.destroy(),this._timeline=Tc.create(),this._timeline.addEventListener("end",function(){a._timeline.destroy(),a._timeline=null},null),this.paused&&this._timeline.pause(),Wc.getInstance().add(this._timeline),this._timeline},d(b.prototype,"current",{get:function(){return this._current},set:function(a){if(!(a<-1||a>=this._sceneData.length)){var b=this._current;a!==b&&(this._current=a,this._preloaded?this._load(a):a>=0&&this._preloadList&&this._preloadList.indexOf(a)<0&&this._preloadList.push(a),Zh.dispatchPropertyChangeEvent(this,"current",b))}},enumerable:!0,configurable:!0}),b.prototype.prev=function(a){void 0===a&&(a=1);var b=this.numScenes;return this.current=((this._current-a)%b+b)%b,this},b.prototype.next=function(a){void 0===a&&(a=1);var b=this.numScenes;return this.current=((this._current+a)%b+b)%b,this},d(b.prototype,"numScenes",{get:function(){return this._sceneData.length},enumerable:!0,configurable:!0}),b.prototype.start=function(){return this._initialized||(this._current<0&&(this._current=0),this.init()),this},b.prototype.resume=function(){return this.paused&&(this.paused=!1,this._timeline&&this._timeline.resume(),this.dispatchSimpleEvent("resume")),this},b.prototype.pause=function(){return this.paused||(this.paused=!0,this._timeline&&this._timeline.pause(),this.dispatchSimpleEvent("pause")),this},b.prototype.resetTimer=function(){return this._timerManager&&this._timerManager.destroy(),this._timerManager=new Od,this.current=-1,this},b.prototype.destroy=function(){if(!this._destroyed){if(this._destroyed=!0,this.dispatchSimpleEvent("destroy"),this._initialized){for(var b=this.plugins,c=-1,d=b.length;++c<d;)b[c].destroy();b.length=0,this.plugins=b=null,this._current=-1,this._clearScenes(),this._timerManager.destroy(),this._timerManager=null,this._timeline&&(this._timeline.destroy(),this._timeline=null);var e=this._stage.node;this._stage.destroy(),e.remove(),e=null,this.destroyLayout(),this._app.removeClass("leo-app"),this._app=null,this._stage=null,this._scenes=null}a.prototype.destroy.call(this),this._container=null,this._options=null,this._preloadList=null,this._sceneData=null,delete lc.apps[this[Ic]]}},b.prototype.resize=function(a,b){var c=this._stage.transform.deferred;this._stage.transform.originX=this._stage.transform.originY=0,this._stage.transform.deferred=!0,this._stage.width=a,this._stage.height=b,this._stage.transform.deferred=c},b.prototype.init=function(){if(!this._initialized){this._initialized=!0;var a=this._options;this.initLayout(),this._app.addClass("leo-app"),this.initStage(),this._stage.rootContext.setInnerVariable("__app__",this),this.resize(a.stageWidth,a.stageHeight),this._timerManager=new Od,this._listenLoadEvents(),this._initPlugins(),this._preload(),this._afterInit()}},b.prototype._afterInit=function(){},b.prototype.initLayout=function(){this._app=this._container.el("div")},b.prototype.destroyLayout=function(){this._app.remove()},b.prototype.initStage=function(){var a=this._stage=new Ue(this);a.transform.originX=a.transform.originY=0,this._app.append(a.dom),a.enter(a),a.rootContext.controller=this},b.prototype.getScene=function(a){var b=this._sceneData[a],c=this._scenes[a];return c||(c=this._scenes[a]=He.create(b.type,b.name),Md.set(c,"data",b),Pd.construct(c,b),this.stage.addScene(c)),c},b.prototype._preload=function(){var a=this,b=-1,c=this._sceneData.length,d=this._preloadList,e=[],f=this._sceneData;this._scenes=new Array(c);var g=_h.getInstance(),h=function(b){b.preloadList=d,b.preloadedList=e,a.dispatchSimpleEvent("preloadProgress",b)},i=function(){if(b>=0&&e.push(d[b]),++b>=d.length)return void a.dispatchSimpleEvent("preloadEnd");var c=d[b];if(c<0||c>=f.length)i();else{var j=a.getScene(c);g.load(a._readLoadableList(j),i,h,j[Ic])}};this.dispatchSimpleEvent("preloadStart",d),i()},b.prototype._load=function(a){var b=this;if(a>=0){var c=this.getScene(a);this.dispatchSimpleEvent("loadStart",a),_h.getInstance().load(this._readLoadableList(c),function(c){c.sceneIndex=a,b.dispatchSimpleEvent("loadEnd",c)},function(c){c.sceneIndex=a,b.dispatchSimpleEvent("loadProgress",c)},c[Ic])}else this.dispatchSimpleEvent("loadEnd",{sceneIndex:-1})},b.prototype._readLoadableList=function(a){for(var b=[],c=a.children.concat();c.length;){var d=c.pop();if(d.loadable&&d.readyState<2&&b.push({target:d,data:Md.get(d,"data")}),d instanceof Le)for(var e=d.children,f=-1,g=e.length;++f<g;)c.push(e[f])}return b},b.prototype._clearScenes=function(){for(var a=this._scenes,b=_h.getInstance(),c=-1,d=a.length;++c<d;){var e=a[c];if(e){var f=e[Ic];b.contains(f)&&b.remove(f),this._clearData(e)}}},b.prototype._clearData=function(a){for(var b=[a],c=Md;b.length;){var d=b.pop();if(c.hasData(d)&&(c.clear(d),d instanceof Le))for(var e=d.children,f=-1,g=e.length;++f<g;)b.push(e[f])}},b.prototype._listenLoadEvents=function(){this.addEventListener("preloadEnd",this._onpreload,this,1/0),this.addEventListener("loadEnd",this._onload,this,1/0)},b.prototype._onpreload=function(){this.removeEventListener("preloadEnd",this._onpreload,this),this._preloaded=!0,this._preloadList=null,this._load(this._current)},b.prototype._onload=function(a){var b=this,c=a.data.sceneIndex;if(c===this._current){var d=this._stage.currentScene;if(d){var e=function(a){b._stage.removeEventListener("transitionStart",e,null),b._timeline&&(b._timeline.stopAnimationsAt(b._timeline.currentTime),b._timeline.destroy(),b._timeline=null)};this._stage.addEventListener("transitionStart",e,null)}if(c<0)this._stage.currentScene=null;else{var f=this._sceneData[c],g=this._scenes[c];f.reset&&Qd.initialize(g),this._stage.currentScene=g}var h=function(a){b._stage.removeEventListener("transitionEnd",h,null);var e=a.data;d&&Kd.stop(d),c>=0&&c===b._current&&g===e&&f.reset&&(Kd.initialize(g,b._createTimeline()),b._timerManager.timeline=b._timeline,Nd.initialize(g,b._timerManager))};this._stage.addEventListener("transitionEnd",h,null)}},b}(pc);lc.apps={};var Md={_cache:{},data:function(a){return Md._cache[a[Ic]]||(Md._cache[a[Ic]]={})},set:function(a,b,c){return Md.data(a)[b]=c,c},get:function(a,b){var d=Md._cache[a[Ic]];return d?d[b]:c},contains:function(a,b){var c=Md._cache[a[Ic]];return null!=c&&c.hasOwnProperty(b)},hasData:function(a){return null!=Md._cache[a[Ic]]},remove:function(a,b){var c,d=Md;if(this.contains(a,b)){var e=d._cache[a[Ic]];c=e[b],delete e[b],dc(e)&&delete d._cache[a[Ic]]}return c},clear:function(a){var b,c=Md,d=a[Ic];return c._cache.hasOwnProperty(d)&&(b=c._cache[d],delete c._cache[d]),b}},Nd={initialize:function(a,b){for(var c=[a],d=b.timeline.duration;c.length;){var e=c.shift(),f=Md.get(e,"timers");if(f)for(var g=-1,h=f.length;++g<h;)b.add({time:f[g].time,callback:function(a,b){return function(c){var d=Da(a,b);d&&a.action.call(d,a,c,b)}}(f[g],e)}),d<f[g].time&&(d=f[g].time);if(e instanceof Le)for(var i=e.children,g=-1,h=i.length;++g<h;)c.push(i[g])}d>b.timeline.duration&&(b.timeline.duration=d),c=null}},Od=function(a){function b(){a.call(this),this._timeline=null,this._timers=[]}return oc(b,a),d(b.prototype,"timeline",{get:function(){return this._timeline},set:function(a){this._timeline!==a&&(this.removeTimelineListener(),this._timeline=a,this.addTimelineListener())},enumerable:!0,configurable:!0}),b.prototype.update=function(a){for(var b=this._timeline,c=this._timers,d=b.currentTime,e=-1,f=c.length;++e<f;){var g=c[e];if(!(d>=g.time))break;g.callback(a)}e>0&&c.splice(0,e),c.length||this.removeTimelineListener()},b.prototype.add=function(a){for(var b=a.time,c=this._timers,d=c.length;--d>=0&&c[d].time>b;);c.splice(d+1,0,a)},b.prototype.addTimelineListener=function(){this._timeline&&this._timeline.addEventListener("update",this.update,this)},b.prototype.removeTimelineListener=function(){this._timeline&&this._timeline.removeEventListener("update",this.update,this)},b.prototype.clear=function(){this._timers.length=0,this.removeTimelineListener()},b.prototype.destroy=function(){this.clear(),this._timers=null},b}(nc),Pd={construct:function(a,b){a.transitionConfig=b.transition,b.defaultProps.visible=!1,null==b.reset&&(b.reset=!0),Pd._setProperties(a,b),Pd._setAnimations(a,b),Pd._setEvents(a,b),Pd._construct(b.children,a)},_construct:function(a,b){for(var c=-1,d=a.length;++c<d;){var e=a[c],f=He.create(e.type,e.name);f?(Md.set(f,"data",e),Pd._setProperties(f,e),Pd._setAnimations(f,e),Pd._setEvents(f,e),b.append(f),"group"===e.type&&e.children&&Pd._construct(e.children,f)):Ii.warning("type missed","The type '"+e.type+"' for '"+e.name+"' is missed")}},_setProperties:function(a,b){var c=Pd.KEYWORDS;for(var d in b)c[d]||a.setProperty(d,b[d])},_setAnimations:function(a,b){var c=(b.manual,{});b.enter&&(c.enter=b.enter,c.enter.delay=0),b.leave&&(c.leave=b.leave,c.leave.delay=0),b.manual||(c.animations=b.animations),Md.set(a,"animationOption",c)},_setEvents:function(a,b){var c=b.events;if(c){for(var d=[],e=-1,f=c.length;++e<f;){var g=c[e];"timer"===g.trigger?d.push(g):a.addEventListener(g.trigger,function(b,c){return function(c){c.preventDefault();var d=Da(b,a);d&&b.action.call(d,b,c,a)}}(g),null)}d.length&&Md.set(a,"timers",d)}},KEYWORDS:e("type name $extra defaultProps reset manual events animations transition children enter leave".split(" "))},Qd={initialize:function(a){for(var b=[a];b.length;){var c=b.shift(),d=Md.get(c,"data");if(d&&(c.visible=!1,d.defaultProps&&c.setProperty(d.defaultProps),c instanceof Le))for(var e=c.children,f=-1,g=e.length;++f<g;)b.push(e[f])}}},Rd={},Sd=function(){function a(a){var b=this;this.audio=a;var c=vi("div").addClass("LB_AudioMiniPlayer"),d=c.el("div").addClass("muted")[0];this.node=c,this.mutedButton=d,this.node.bind("tap",function(){b.audio.playPause()}),a.addEventListener("play",this.changePlayState,this),a.addEventListener("pause",this.changePauseState,this)}return a.prototype.changePlayState=function(){this.mutedButton.className="unmute"},a.prototype.changePauseState=function(){this.mutedButton.className="muted"},a.prototype.destroy=function(){this.node.remove(),this.node=null,this.audio.removeEventListener("play",this.changePlayState,this),this.audio.removeEventListener("pause",this.changePauseState,this),this.audio=null},a}(),Td=function(){function a(a){this.audio=a,this.width=302,this.height=120,this.node=this.createNode()}return a.prototype.createNode=function(){function a(a){return function(b){var c=p.duration;c&&a(b,c)}}var b=this,c="audio-",d=" "+c+"bg",e=vi("div").addClass(c+"bg").attr("id","leo-lightbox--audio"),f=e.el("div").addClass(c+"progress").attr("title","00:00"),g=f[0],h=f.el("div").addClass(c+"buffered"+d),i=f.el("div").addClass(c+"played"+d),j=(i.el("div").addClass(c+"cursor"+d),e.el("div").addClass(c+"time").html("00:00")),k=e.el("div").addClass(c+"playPause "+c+"play"+d).attr("title","Play/Puase"),l=(e.el("div").addClass(c+"controls "+c+"prev"+d).attr("title","Prev"),e.el("div").addClass(c+"controls "+c+"next"+d).attr("title","Next"),this.title=e.el("div").html("Audio player").addClass(c+"title"),e.el("div").addClass(c+"volume"+d)),m=l[0],n=l.el("div").addClass(c+"volume-fg"),o=(n.el("div").addClass(c+"volume-fg-p"+d),n.el("div").addClass(c+"volume-cursor"+d),e.el("div").addClass(c+"volume-switch "+c+"unmuted"+d)),p=this.audio;k.bind("tap",a(function(){p.playPause()})),o.bind("tap",a(function(){p.muted=!p.muted})),f.bind("tap",a(function(a,b){var c=a.tapStartX||a.pageX,d=(c-vh(a.currentTarget).left)/g.offsetWidth*b;p.currentTime=d})),fh(m,"tap",a(function(a){var b=a.tapStartY||a.pageY,c=1-(b-vh(m).top)/m.offsetHeight;p.volume=c}));var q=a(function(a,c){g.title=b.formatTime(a.originalEvent.offsetX/g.offsetWidth*c)});f.bind("mouseover",q),f.bind("mousemove",q);var r=a(function(a){m.title=100*(1-a.originalEvent.offsetX/m.offsetHeight)});return l.bind("mouseover",r),l.bind("mousemove",r),p.addEventListener("progress",a(function(a,b){var c=p.buffered;Ye(h[0],"width",c.end(0)/b*100+"%")}),null),p.addEventListener("timeupdate",a(function(a,c){var d=p.currentTime;i.style("width",d/c*90+10+"%"),j.html(b.formatTime(d))}),null),p.addEventListener("volumechange",function(){var a=p.muted,b=p.volume,e=a?0:b;o[0].className=c+(a||0===e?"muted":"unmuted")+d+" "+c+"volume-switch",n.style("height",73*e+27+"%")},null),p.addEventListener("play",function(){k.removeClass("audio-play").addClass("audio-pause")},null),p.addEventListener("pause",function(){k.removeClass("audio-pause").addClass("audio-play")},null),p.addEventListener("waiting",function(){this.showLoading()},this),p.addEventListener("canplay",function(){this.onload(!1)},this),p.addEventListener("error",function(){this.onload(!0)},this),this.showLoading(),e},a.prototype.showLoading=function(){var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.title.html("Loading ...")},500)},a.prototype.hideLoading=function(){clearTimeout(this.timeout),this.title.html("Audio Player.")},a.prototype.onload=function(a){this.hideLoading(),a&&this.title.html("Error.")},a.prototype.formatTime=function(a){a=Math.round(a);var b=Math.floor(a/60),c=a%60;return(b<10?"0":"")+b+":"+(c<10?"0":"")+c},a.prototype.show=function(){this.node.style("display","block")},a.prototype.hide=function(){this.node.style("display","none")},a}();Rd.callJS=function(a){a.hint="Run JavaScript code";try{var b=Function(a.content);return function(){b.call(null)}}catch(c){return null}},Rd.changeCaption=Rd.changeHtmlCaption=Rd.changeButtonCaption=function(a,b){var c=He.getClass(b.type).textType;return c?(a.params={textContent:Na(a.params.content,c)},za):null},Rd.changeMovingBackgroundSetting=function(a,b){return $},Rd.changeMovingObjectSetting=function(a,b){return _},Rd.changeAlpha=Z({opacity:!0},!0),Rd.changeAngle=Z({rotate:!0},!0),Rd.changeLayer=function(a){return a.params===1/0?aa:(a.params={zIndex:~~+a.params.zIndex},za)},Rd.changePosition=Z(e("left top"),!0),Rd.changeShadow=Z({shadow:!0},!0,350),Rd.changeSize=Z(e("width height"),!0),Rd.changeVisible=function(){return ba},["Text","Shape","Button"].forEach(function(a){Rd["change"+a+"Format"]=function(a,b){return He.getClass(b.type).textType&&(a.params=Ma(a.params,b.type))?za:null}}),Rd["email-to"]=function(a){return a.hint="Mail to: "+a.content,ca};var Ud=null;Rd.changeFlash=function(a,b){return da},Rd.goToPage=function(a,b){if(!a.params||a.params.target===c)return null;var d=parseInt(a.params.target,10);a.params.target=d;var e=a.content;return a.hint="Fixed Page"===e?"Page "+d:e,ea},Rd.changeHotSpotColor=Z({hotSpotColor:!0},!0),Rd.changeEmbedCode=function(a,b){return fa},Rd.changeImage=function(a,b){return"image"===b.type?(a.params={src:a.params.content,transitionConfig:a.params.transition||{name:"Fade",duration:600,easing:"easeInOutCubic"}},za):null},Rd.changeImageFilter=function(a,b){if("image"===b.type){var c=a.params;a.options={duration:+c.duration||0};var d=Vd,e="filter.";a.params={};for(var f in c)d[f]&&(a.params[e+f]=c[f]/100);return null!=c.blur&&(a.params[e+"blur"]=c.blur),Ba}return null};var Vd=e("brightness contrast grayscale invert saturate sepia");Rd.loadSlide=function(a){return a.params&&a.params.content!==c?ga:null},["Vimeo","Youtube","Sound","Html5-Video"].forEach(function(a){var b=a.toLowerCase();Rd["change"+a]=function(c,d){var e="soundplayer"===d.type;return d.type===b||e?(c.params={src:c.params.content},"Sound"!==a||e?za:Aa):null}}),["play","pause"].forEach(function(a){Rd[a]=function(b,c){return b.state=a,/(?:sound|soundplayer)$/.test(c.type)?function(a,b,c){this.audio[a.state]()}:/(?:video|vimeo|youtube)$/.test(c.type)?function(a,b,c){var d=a.state;"play"===d&&(d="resume"),this.media[d]()}:null}}),Rd["changeHtml5-Video"]=function(a,b){return"html5-video"===b.type?(a.params={src:a.params.content},za):null},["Vimeo","Youtube"].forEach(function(a){var b=a.toLowerCase();Rd["change"+a]=function(a,c){return c.type===b?(a.params={src:a.params.content},za):null}});var Wd=function(){function a(b,c){if(this.target=c,this.__leo_guid__=f(),!(this instanceof a))return new a(b,c);var d=c.__leo_guid__,e=a.hook[d];if(e)return e.audio.replay(),e;a.hook[d]=this,this.bindAppEvents(c);var g=b.content,h=this.audio=new hi;g&&(h.src=g,h.play()),b.audio&&(h.volume=b.audio.volume)}return a.prototype.bindAppEvents=function(a){this.target.stage.context.getInnerVariable("__app__").addEventListener("currentChange",this.destroy,this)},a.prototype.destroy=function(){this.target.stage.context.getInnerVariable("__app__").removeEventListener("currentChange",this.destroy,this),this.audio.destroy();var b=this.target.__leo_guid__;a.hook[b]=null,delete a.hook[b],this.target=null},a.hook={},a}();Rd.moveCamera=function(a,b){var c=Ae.scene;return a.params=pb({},a.params,{pageWidth:c.defaultProps.width,pageHeight:c.defaultProps.height}),ha},Rd.openUrl=function(a){var b=a.content,d=ec(b);switch(d.scheme){case"mailto":return a.content=d.path,Rd["email-to"](a);case c:b="http://"+b}return""!==b&&"http://"!==b||(b="about:blank"),a.hint=b,a.content=b,ia},Rd.playAnimation=function(a,b){var c=Fa(pb({name:a.params.content},a.params),b.type);return a.hint=$b(a.params.content),function(a){Kd.run(this,c)}};var Xd,Yd=function(){function c(c){var d=this;this.container=c,this.ESCEventListener=function(a){27!==a.keyCode||d.hided||(a.preventDefault(),d.hide())},this.resizeHandler=function(a){d.hided||d.resize(!0)},this.hided=!0,this.inEffect="MoveInFromTop",this.outEffect="MoveOutToTop",this.hasAudio=!1,Zd++,this._createNode(),fh(b,"keydown",this.ESCEventListener),fh(a,"resize",this.resizeHandler)}return c.prototype._createNode=function(){var a=this,b=ui(this.container),c=b.el("div").addClass("leo-lightbox leo-lightbox-"+Zd).bind("tap",function(b){b.target===a.node[0]&&a.hide()});this.node=c;var d=c.el("div").addClass("lg--stage").bind("tapstart",function(a){return a.stopPropagation(),!1}).bind("tap",function(a){return a.stopPropagation(),!1});this.stage=d;var e=c.el("div").addClass("lg--controls"),f=this.addControls(e,"close");f.bind("tap",function(){a.hide()});var g=this.addControls(e,"replay");g.bind("tap",function(){a.Audio&&a.Audio.replay()});var h=this.addControls(e,"muted");h.bind("tap",function(){a.Audio&&(a.Audio.muted=!a.Audio.muted)}),this.controls={close:f,replay:g,muted:h}},c.prototype.addControls=function(a,b){var c=a.el("li").addClass("control--"+b);c.el("b").attr("title",b);return c},c.prototype.resize=function(a,b){var c=this.plugin,d=this.node[0],e={width:jd(d),height:md(d)},f=Math.ceil,g=c.resizeOption||{},h=g.delw||0,i=g.delh||0,j=c.width||e.width,k=c.height||e.height,l=g.minW||0,m=g.minH||0,n="number"==typeof g.paddingLeft?g.paddingLeft:20,o="number"==typeof g.paddingTop?g.paddingTop:20,p=Math.max(l,e.width-h-2*n),q=Math.max(m,e.height-i-2*o),r=j,s=k;(r>p||s>q)&&(r/s>p/q?(r=p,s=r*k/j):(s=q,r=s*j/k),r<s?r<l&&(r=l,s=r*k/j):s<m&&(s=m,r=s*j/k)),r=f(r),s=f(s);var t=f((e.width-r)/2),u=f((e.height-s)/2),v=this.stage[0];if(this.resizeTween&&(this.resizeTween.destroy(),this.resizeTween=null),a){var w=Xc.to(v,200,{width:r,height:s,left:t,top:u});b&&w.addEventListener("end",function(){b()},this),this.resizeTween=w}else Ye(v,{width:r,height:s,left:t,top:u});return c.resize&&c.resize(r,s),this},c.prototype.show=function(a,b){var c=this;if(this.hided){this.hided=!1,eb(this.node[0]),this.controls.close.style("display","block");var d=a||this.plugin;if(d){this.plugin=d,eb(d.container[0]),this.stage.append(d.container),this.resize(!1);var e=this.animation;return e&&e.destroy(),e=this.animation=Rc.animate(this.stage[0],d.inEffect||this.inEffect,d.duration||450,{easing:"easeOutQuad"}),e.addEventListener("end",function(){c.showAudio(),b&&b()},this),this}}},c.prototype.hide=function(){var a=this,b=this.plugin;if(this.hided)return void fb(this.node[0]);this.hided=!0,this.hasAudio=!1,this.controls.muted.style("display","none"),this.controls.replay.style("display","none"),this.controls.close.style("display","none"),this.hideAudio();var c=this.animation;return c&&(c.removeAllEventListeners("end"),c.stop(!0,!0)),c=this.animation=Rc.animate(this.stage[0],b.outEffect||this.outEffect,b.duration||450,{easing:"easeOutQuad",freeze:!1}),c.addEventListener("end",function(){fb(a.node[0]),fb(b.container[0]),b.hide&&b.hide()},this),this},c.prototype.showAudio=function(){this.Audio&&this.Audio.src&&this.hasAudio&&(this.Audio.muted=!1,this.Audio.replay())},c.prototype.hideAudio=function(){this.Audio&&this.Audio.pause()},c.prototype.createAudio=function(){var a=new hi;return a.addEventListener("volumechange",function(){var a,b="control--muted",c="control--unmuted";this.Audio.muted&&(a=b,b=c,c=a),this.controls.muted.removeClass(b).addClass(c)},this),a},d(c.prototype,"audio",{get:function(){return this._audio},set:function(a){if(a){this.hasAudio=!0;var b=a.url,c=a.volume;if(b&&c){var d=this.Audio;d||(d=this.createAudio(),this.Audio=d),d.src=b,d.volume=c,this.controls.muted.style("display","block"),this.controls.replay.style("display","block")}}},enumerable:!0,configurable:!0}),c}(),Zd=0;d(a,"___lightbox",{get:function(){return Xd||(Xd=new Yd(b.body)),Xd}});var $d=function(a){function e(b,c,d){a.call(this),this._scrollTop=0,this.container=b,this.content=this.container.querySelector(".leo-scroll-content"),this.options=Object.create(c)||{},this.onscroll=d,this.content&&this.init()}return oc(e,a),e.prototype.init=function(){var a=this.options,c=this.height=md(this.container),d=this.content_height=md(this.content);if(!(d<=c)){var e,f;return!1!==a.scrollable&&!1!==a.Y&&(this.createScrollBarVer(c,d),e=this.bar_container_height=md(this.scrollbar_y.parentNode),f=this.bar_height=md(this.scrollbar_y),this.mousewheel(c,d)),("touchstart"in b||!1!==a.draggable)&&!1!==a.y&&this.dragVer(c,d,e,f),this}},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.content&&Ye(this.content,"ty",this.ty),this.scrollbar_y&&this.scrollbar_y.parentNode.parentNode.removeChild(this.scrollbar_y.parentNode),this.onwheel&&ih(this.container,"mousewheel",this.onwheel),this.mousedown&&ih(this.container,"mousedown",this.mousedown),this.bar_mousedown&&ih(this.scrollbar_y,"mousedown",this.bar_mousedown),this.bar_mousedown=null,this.container=null,this.content=null,this.scrollbar_y=null,this.options=null,this._scrollTop=null,this.onwheel=null,this.mousedown=null,this.unbind_move_y(),this.unbind_up_y()},d(e.prototype,"scrollTop",{get:function(){return this._scrollTop},set:function(a){this.scrollTo(a),this._scrollTop=a},enumerable:!0,configurable:!0}),e.prototype.scrollTo=function(a){(a=Math.floor(a))!==this._scrollTop&&(Ye(this.content,"ty",-a),this.bar_container_height!==c&&Ye(this.scrollbar_y,"ty",a/(this.content_height-this.height)*(this.bar_container_height-this.bar_height)),this._scrollTop=a,this.dispatchSimpleEvent("scroll"),this.onscroll&&this.onscroll())},e.prototype.dragVer=function(a,c,d,e){var f=this,g=this.content;this.scrollbar_y.parentNode,this.scrollbar_y;this.ty||(this.ty=Ye(g,"ty")),this.mousedown=function(d){d.preventDefault();var e=Ye(g,"ty"),h=d.pageY;f.unbind_move_y(),f.doc_move_y=function(a){a.preventDefault(),f.scrollTo(-(e+a.pageY-h))},fh(b,"mousemove",f.doc_move_y),f.unbind_up_y(),f.doc_up_y=function(b){b.preventDefault(),f.unbind_move_y();var d,e=d=Ye(g,"ty");e>0&&(d=0),e<a-c&&(d=a-c);var h=Xc.to({x:0},300,{x:1},{easing:"easeOutBack"});h.addEventListener("update",function(){f.scrollTo(-(e+(d-e)*h.ratio))},null)},mh(b,"mouseup",f.doc_up_y)},fh(this.container,"mousedown",this.mousedown)},e.prototype.unbind_move_y=function(){var a=this.doc_move_y;a&&ih(b,"mousemove",a),this.doc_move_y=null},e.prototype.unbind_up_y=function(){var a=this.doc_up_y;a&&ih(b,"mouseup",a),this.doc_up_y=null},e.prototype.createScrollBarVer=function(a,c){var d=this,e=this.container,f=(Ye(e,"left",!0),this.content,this.options),g=Ad("div");g.className="leo-scroll-bar-container-y "+(f.y&&f.y.container||"");var h=this.scrollbar_y=Ad("div");h.className="leo-scroll-bar-y "+(f.y&&f.y.bar||""),g.appendChild(h),e.appendChild(g);var i=md(g),j=i*a/c;md(h,j),this.bar_mousedown=function(e){e.stopPropagation(),e.preventDefault();var f=e.pageY,g=Ye(h,"ty");d.unbind_move_y(),d.doc_move_y=function(b){b.preventDefault();var e=g+b.pageY-f;e<0&&(e=0),e>i-j&&(e=i-j),d.scrollTo(e/(i-j)*(c-a))},fh(b,"mousemove",d.doc_move_y),d.unbind_up_y(),d.doc_up_y=function(a){a.preventDefault(),d.unbind_move_y()},fh(b,"mouseup",d.doc_up_y)},fh(h,"mousedown",this.bar_mousedown),this.scrollTo(-Ye(this.content,"ty"))},e.prototype.mousewheel=function(a,b){var c=this,d=this.container;this.onwheel=function(d){d.preventDefault();var e=c._scrollTop+50*(d.wheelDeltaY<0?1:-1);e<0&&(e=0),e>b-a&&(e=b-a),c.scrollTo(e)},fh(d,"mousewheel",this.onwheel)},e}(pc),_d=function(a,b){var c,d,e,g,h,i,j,k,l,m=150,n=100,o=300,p=b||function(a){};fh(a,"tapstart",k=function(a){a.preventDefault();var b;b=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0]:a.originalEvent,c="none",d=b.pageX,e=b.pageY,j=(new Date).getTime()}),fh(a,"tapmove",_d.move),fh(a,"tapend",l=function(a){a.preventDefault();var b;b=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0]:a.originalEvent,g=b.pageX-d,h=b.pageY-e,i=(new Date).getTime()-j,i<=o&&(Math.abs(g)>=m&&Math.abs(h)<=n?c=g<0?"left":"right":Math.abs(h)>=m&&Math.abs(g)<=n&&(c=h<0?"up":"down")),p(c)});var q=a.id;q||(q=a.id=f());var r=ae[q];r||(r={start:[],end:[]}),r.start.push(k),r.end.push(l)};_d.move=function(a){a.preventDefault()};var ae={},be=function(){function d(){this.width=700,this.height=350,this.resizeOption={minW:700,minH:350},this.imageWidth=25,this.imageHeight=25,this.hided=!0,this.originWidth=332,this.originHeight=340,this.container=this.createNode()}return d.prototype.createNode=function(){var a=this,b="msg-",c=vi("div").attr("id","leo-lightbox--msg"),d=this.lc=c.el("div").attr("id",b+"left").addClass(b+"part"),e=this.rc=c.el("div").attr("id",b+"right").addClass(b+"part"),f=this.tw=e.el("div").attr("id",b+"content"),g=(this.title=f.el("div").attr("id",b+"title"),this.bc=f.el("div").attr("id",b+"body-container")),h=(this.body=g.el("div").attr("id",b+"body").addClass("leo-scroll-content"),this.gallery=d.el("div").attr("id",b+"gallery")),i=(this.gi=h.el("img"),this.tc=d.el("div").attr("id",b+"thumbnail")),j=(this.thumbnail=i.el("div").addClass(b+"thumbnail-wrap"),this.origin=e.el("div").attr("id",b+"origin")),k=(this.oi=j.el("img"),this.mark=h.el("div").attr("id",b+"mark")),l=(this.mi=k.el("img"),this.mc=k.el("div"),this.gc=h.el("div").attr("id",b+"gallery-cover"),this.prevButton=vi("div").addClass("msg-prev msg-button"));return l.bind("tap",function(){a.prev()}).el("div"),d.insert(l,i),(this.nextButton=d.el("div").addClass("msg-next msg-button")).bind("tap",function(){a.next()}).el("div"),c},d.prototype.lighten=function(a,b){var c=Ee.parse(a);return"rgba("+(c[0]+b)+","+(c[1]+b)+","+(c[2]+b)+","+c[3]+")"},d.prototype.config=function(d){function e(a){return function(b){b.preventDefault(),a()}}var f,g,h,i,j=this,k=d.params,l=12,m=44,n=0,o=this.origin,p=(this.mark,this.gc),q=270,r=___lightbox,s=k.animations,t="out"===s[0].showType.toLowerCase;this.index=c,this.inEffect=s[t?1:0].animation,this.outEffect=s[t?0:1].animation;var u=this.container,v=k.style;u.style({backgroundColor:v.backgroundColor,opacity:v.opacity,backgroundImage:Ub(v.gradient.angle+"deg",[v.gradient.from,v.gradient.to])});var w=this.body,x=k.body;w.style({fontFamily:x.fontFamily,color:x.color}),w.html(x.content);var y=this.title,z=k.title;y.style({color:z.color,fontFamily:z.fontFamily}),y.text(z.content);var v={opacity:0,display:"block"};r.node.style(v),r.stage.style(v),u.style(v),0===u.parent().length&&b.body.appendChild(u[0]);var A=k.more,B=this.tw,C="msg-",D=this.lighten;if(B.select("#"+C+"learn-more").remove(),"true"===A.type){var E=A.backgroundColor,F=A.color,G=B.el("div").attr("id",C+"learn-more").style({fontFamily:A.fontFamily,borderColor:D(E,-20),borderTopColor:D(E,-40)}).text(A.content),H={backgroundColor:D(E,25),color:D(F,-50),backgroundImage:Ub("10deg",[D(E,80),E])};G.style(H),G.bind({tapstart:e(function(){G.style({backgroundColor:D(E,25)})}),tap:e(function(){var b=A.link;""!==b.trim()&&(b.indexOf("://")<0&&(b="http://"+k.more.link),a.open(b))}),tapend:e(function(){G.style(H)}),mouseout:e(function(){G.style(H)}),mouseover:e(function(){G.style({color:F,backgroundColor:E,backgroundImage:Ub("10deg",[D(E,50),D(E,-20)])})})})}var I=this.tc,J=this.gi,K=this.gallery,L=this.srcs=k.image.content.split(";"),M=L.length;J[0].style.width="",J[0].style.height="",fb(this.prevButton[0]),fb(this.nextButton[0]),B[0].style.textAlign="",eb(this.lc[0]);var N=this.rc[0].style;if(N.left="",N.width="",N.height="",N.marginLeft="",w[0].style.width="",
"true"===A.type&&(G[0].style.marginLeft=""),1===M)if(""===L[0])B.style("text-align","center"),fb(this.lc[0]),this.rc.style({width:636,height:350,margin:"0px 32px"}),jd(w[0],632),"true"===A.type&&G.style("margin","20px auto");else{fb(I[0]),md(K[0],318),fb(this.prevButton[0]),fb(this.nextButton[0]),K.addClass("leo-loading");var O=new Image;O.onload=O.onerror=function(){O.onload=O.onerror=null,K.removeClass("leo-loading");var a=jd(J[0]),b=md(J[0]),c=jd(K[0]),d=md(K[0]);J.style({left:Y((c-a)/2),top:Math.floor((d-b)/2),opacity:1}),p.style({width:a,height:b,left:Y((c-a)/2),top:Math.floor((d-b)/2)})},O.src=J[0].src=L[0]}else{eb(I[0]),md(K[0],250),md(J[0],250);var P=this.thumbnail;P.text("");var Q=function(a){return function(b){b.preventDefault(),j.skipTo(a)}},R=function(a){return function(){var b=this;b.onload=b.onerror=null;var c,d;b.width>b.height?(d=40,c=Y(b.width/b.height*d)):(c=40,d=Y(b.height/b.width*c));var e=Y((40-c)/2),f=Y((40-d)/2);Ye(b,{width:c,height:d,marginLeft:e,marginTop:f}),a.append(b)}},S=vi("div"),T=this.liArray=[],U=vi("img");for(f=0;g=L[f];f++)g&&(S=S.clone(),S.bind("tap",Q(f)),U=U.clone(),U.bind("load",R(S)),U.bind("error",R(S)),U.attr("src",L[f]),P.append(S),T.push(S));for(this.nowIndex=[],jd(P[0],M*(m+l)),M*(m+l)-l-2>q?(I.style("cursor","all-scroll"),I[0].style.marginLeft="",P[0].style.marginLeft="",eb(this.prevButton[0]),eb(this.nextButton[0]),h=Math.floor((q+l)/(m+l)),I.bind("mousedown",function(a){a.preventDefault(),P.style("transition","none");var c,d=a.pageX;parseFloat(P.style("marginLeft"));n=0,j.doc_mousemove&&ih(b,"mousemove",j.doc_mousemove),j.doc_mousemove=function(a){a.preventDefault();var b=event.x,e=parseFloat(P.style("marginLeft"));for(i=n=e+b-d,n>2&&(b>d&&(n=e+.5),i=2),n<q-M*(m+l)+13&&(b<d&&(n=e-1.2),i=q-M*(m+l)+13),d=b,P.style("marginLeft",Y(n)),c=Y(Math.abs(i)/(m+l)),c>M-h&&(c=M-h),c<0&&(c=0),j.nowIndex=[],f=0;f<h;f++)j.nowIndex.push(c+f)},fh(b,"mousemove",j.doc_mousemove),j.doc_mouseup&&ih(b,"mouseup",j.doc_mouseup),fh(b,"mouseup",j.doc_mouseup=function(a){j.doc_mouseup&&ih(b,"mouseup",j.doc_mouseup),a.preventDefault(),n=Y(n),P.style("transition","all .3s"),j.doc_mousemove&&ih(b,"mousemove",j.doc_mousemove),n>2&&P.style("marginLeft","2px"),n<q-M*(m+l)+13&&P.style("marginLeft",q-M*(m+l)+13)})})):5===M?(h=M,I.style("marginLeft",20)):(h=M,I.style("marginLeft",20),P.style("marginLeft",Math.floor((q-(m+l)*M+l+2)/2))),f=0;f<h;f++)this.nowIndex.push(f);this.skipTo(0)}if(""!==L[0]){var V=this.lc,W=this.rc;"right"===k.image.position.toLowerCase()?(V.style("margin","16px 32px 0px 8px"),W.style("margin","0px 8px 0px 32px"),V.parent().insert(W,V),o.style("left","2px")):(V[0].style.margin="",W[0].style.margin="",V.parent().insert(V,W),o[0].style.left="",G&&(G[0].style.marginLeft=""))}var X=this.bc,Y=Math.ceil;md(X[0],214-md(this.title[0])),w[0].style.top="",this.scroll&&this.scroll.destroy(),this.scroll=new $d(X[0],{y:{container:"msg-scroll-bar"}}),v={display:"none",opacity:""},u.style(v),r.node.style(v),r.stage.style(v);var Z="touchstart"in b,$=function(a){a.preventDefault(),j.hided&&(j.hided=!1,j.hd(a)),Z&&(j.doc_mouseup&&ih(b,"touchend",j.doc_mouseup),j.doc_mouseup=function(){j.doc_mousemove&&ih(b,"mousemove",j.doc_mousemove),j.hided||(j.hided=!0,eb(j.origin[0]),eb(j.mark[0]),j.gc.style("opacity",.5))},fh(b,"touchend",j.doc_mouseup)),j.doc_mousemove&&ih(b,"mousemove",j.doc_mousemove),j.doc_mousemove=function(a){a.target!==j.gc[0]&&a.target!==j.mc[0]||j.hd(a)},fh(b,"mousemove",j.doc_mousemove)};return this.gc.unbindAll("mouseover").unbindAll("touchstart"),this.gc.bind("mouseover",$),Z&&this.gc.bind("touchstart",$),this},d.prototype.hd=function(a){var c=this,d=this.gi,e=this.mark,f=this.origin,g=this.mi,h=this.oi,i=this.gc,j=e[0].style,k=g[0].style,l=h[0].style;f.addClass("leo-loading"),g[0].src=d[0].src,h[0].src=d[0].src;var m=new Image;m.onload=m.onerror=function(){m.onload=m.onerror=null,f.removeClass("leo-loading");var n,o,p,q,r,s,t,u,v,w,x=vh(c.gallery[0]).top,y=vh(c.gallery[0]).left,z=parseFloat(c.gi.style("left")),A=parseFloat(c.gi.style("top")),B=Math.floor,C=c.originWidth,D=c.originHeight,E=m.width||25,F=m.height||25,G=jd(d[0]),H=md(d[0]),I=E/G,J=F/H;jd(h[0],E),md(h[0],F),jd(g[0],G),md(g[0],H),jd(d[0],G),md(d[0],H),n=B(C/E*G),o=B(D/F*H),C>E?(n=G,h.style("marginLeft",(C-E)/2)):h.style("marginLeft",""),D>F?(o=H,h.style("marginTop",(D-F)/2)):h.style("marginTop",""),t=z+G-n-2,u=A+H-o-2,r=y+n/2,s=x+o/2,p=B(a.pageX-r),q=B(a.pageY-s),p<z&&(p=z),p>t&&(p=t),q<A&&(q=A),q>u&&(q=u),j.width=n+"px",j.height=o+"px",j.left=p+"px",j.top=q+"px",k.left=B(z-p)+"px",k.top=B(A-q)+"px",l.left=B((z-p)*I)+"px",l.top=B((A-q)*J)+"px",c.doc_mousemove&&ih(b,"mousemove",c.doc_mousemove),c.doc_mousemove=function(a){a.preventDefault();var d=a.target;p=B(a.pageX-r),q=B(a.pageY-s),p<z&&(p=z),p>t&&(p=t),q<A&&(q=A),q>u&&(q=u),p!==v&&(j.left=p+"px",k.left=B(z-p)+"px",l.left=B((z-p)*I)+"px",v=p),q!==w&&(j.top=q+"px",k.top=B(A-q)+"px",l.top=B((A-q)*J)+"px",w=q),d!==c.mc[0]&&d!==c.gc[0]&&(c.doc_mousemove&&ih(b,"mousemove",c.doc_mousemove),fb(f[0]),fb(e[0]),i.style("opacity",0))},fh(b,"mousemove",c.doc_mousemove)},m.src=d[0].src,eb(f[0]),eb(e[0]),i.style("opacity",.5)},d.prototype.hide=function(){this.gi[0].src="",this.doc_mousemove&&ih(b,"mousemove",this.doc_mousemove)},d.prototype.skipTo=function(a){var b,d,e,f=this,g=this.srcs,h=Math.ceil,i=this.liArray,j=this.gi,k=this.thumbnail,l=this.srcs.length,m=this.gallery,n=270,o=this.gc,p=44,q=12;this.mark;if(a!==c&&!isNaN(a)&&(a<0&&(a=0),a>l-1&&(a=l-1),a!==this.index)){if(e=this.gi=j.clone(),e.style({width:"auto",height:"auto",display:"none"}),e[0].src=g[a],m.prepend(e),Ye(i[this.index||0][0],"outline",""),i[a].style("outline","2px solid #317ee7"),this.nowIndex.indexOf(a)<0&&(a>this.index?(d=a===l-1?n-(a+1)*(p+q)+13:n-(a+1)*(p+q)-13,this.nowIndex.splice(0,1),this.nowIndex.push(a)):(d=0===a?2:-a*(p+q)+26,this.nowIndex.pop(),this.nowIndex.splice(0,0,a)),k.style("margin-left",d)),j[0].src){Rc.animate(j[0],"FadeOut",500).addEventListener("end",function(){j.remove()},this)}else j.remove();clearTimeout(this.glt),this.glt=setTimeout(function(){m.addClass("leo-loading")},200),b=this.image=new Image,b.onload=b.onerror=function(){b.onload=b.onerror=null,clearTimeout(f.glt);var a=jd(e[0]),c=md(e[0]);m.removeClass("leo-loading"),eb(j[0]),e.style({width:a,height:c,left:h((jd(m[0])-a)/2),top:Math.floor((md(m[0])-c)/2)}),o.style({width:a,height:c,left:h((jd(m[0])-a)/2),top:Math.floor((md(m[0])-c)/2)}),e.style({opacity:1}),f.showAnimate&&f.showAnimate.destroy(),f.showAnimate=Rc.animate(e[0],"FadeIn",500)},b.src=g[a],this.index=a}},d.prototype.next=function(){this.skipTo(this.index+1)},d.prototype.prev=function(){this.skipTo(this.index-1)},d}();Rd["message-box"]=function(a){var b=a.params,c=b.title,d=b.body;a.hint="Show more details",c.content=c.content.replace(/\/\^r\$\//g,"<br/>"),d.content=d.content.replace(/\/\^r\$\//g,"<br/>");var e=b.style;e.backgroundColor=Ee.parseToString(e.backgroundColor);var f=e.gradient,g=Ee.parse(f.from);g[3]=parseFloat(e.opacity),g=Ee.parseToString(g);var h=Ee.parse(f.to);h[3]=parseFloat(e.opacity),h=Ee.parseToString(h),e.gradient={angle:f.angle,from:g,to:h};var c=b.title;c.color=Ee.parseToString(c.color);var d=b.body;d.color=Ee.parseToString(d.color);var i=b.more;return i.color=Ee.parseToString(i.color),i.backgroundColor=Ee.parseToString(i.backgroundColor),wf?ka:ja};var ce,de,ee=function(){function d(){this.width=700,this.height=350,this.resizeOption={minW:700,minH:350},this.imageWidth=25,this.imageHeight=25,this.hided=!0,this.originWidth=332,this.originHeight=340,this.container=this.createNode()}return d.prototype.createNode=function(){var b=this,c="paypal-",d=vi("div").attr("id","leo-lightbox--paypal"),e=this.lc=d.el("div").addClass(c+"part "+c+"left"),f=this.rc=d.el("div").addClass(c+"part "+c+"right"),g=this.gallery=e.el("div").addClass(c+"gallery"),h=(this.gi=g.el("img"),this.tc=e.el("div").addClass(c+"thumbnail")),i=(this.thumbnail=h.el("div"),this.origin=f.el("div").addClass(c+"origin")),j=(this.oi=i.el("img"),this.gc=g.el("div").addClass(c+"gallery-cover"),this.mark=g.el("div").addClass(c+"mark")),k=(this.mi=j.el("img"),this.mc=j.el("div"),this.tw=f.el("div").addClass(c+"content")),l=(this.productName=k.el("span").addClass(c+"title"),k.el("p").addClass(c+"price-wrap").text("Price: "));this.productPrice=l.el("span");k.el("p").addClass(c+"in-stock").text("In stock.");var m=this.bc=k.el("div").addClass(c+"body-container");this.body=m.el("div").addClass(c+"body").addClass("leo-scroll-content"),k.el("label").text("Quantity:").attr("for",c+"quantity"),this.input=k.el("input").attr({type:"text",value:1,id:c+"quantity"}),this.span=k.el("span").attr("class",c+"msg").text("Not enough in stock.");k.el("br");var n=(this.shippingCost=k.el("span").addClass(c+"shipping-cost"),this.button=k.el("div").addClass(c+"buy"),k.el("div").addClass(c+"share")),o=["Facebook","Twitter","Google","More","Contact seller"],p=["https://www.facebook.com/sharer/sharer.php?u=","https://www.twitter.com/share?url=","https://plus.google.com/share?url=","http://www.addthis.com/bookmark.php?v=15&winname=addthis&s=more&url="];["fb","tw","gg","other","email"].forEach(function(d,e){var f=n.el("div").addClass(c+d).attr({title:o[e],"data-index":e}).bind("tap",function(){"4"!==this.getAttribute("data-index")&&a.open(p[this.getAttribute("data-index")]+a.location.href)});4===e&&(b.mail=f)});var q=this.prevButton=vi("div").addClass("paypal-prev paypal-button");q.style("marginLeft","-2px"),q.bind("tap",function(){b.prev()}).el("div"),e.insert(q,h);var r=this.nextButton=e.el("div").addClass("paypal-next paypal-button");return r.style("marginLeft","2px"),r.bind("tap",function(){b.next()}).el("div"),d},d.prototype.lighten=function(a,b){var c=Ee.parse(a);return"rgba("+(c[0]+b)+","+(c[1]+b)+","+(c[2]+b)+","+c[0]+")"},d.prototype.config=function(d){var e=this,f=d.params;this.mail.unbindAll("tap").bind("tap",function(){a.open("mailto:"+f.clientEmail+"?subject="+f.productName,"_blank")});var g;"$"===f.currency?g="USD":"£"===f.currency?g="GBP":"€"===f.currency?g="EUR":"CHF"===f.currency&&(g="CHF"),this.productName.text(f.productName),this.productPrice.text(f.currency+f.price),this.shippingCost.html("Shipping cost "+("included"===f.shippingCost.toLowerCase()?"included.":"not included.")+"<br>Delivery time: "+f.deliveryTime+(parseFloat(f.deliveryTime)<=1?" day":" days")+".<br>");var h=this.input,i=this.span;h.unbindAll("keyup"),h.bind("keyup",function(){var a=+this.value;a||0===a?a>parseInt(f.quantity,10)?(h.style("border-color","red"),i.text("Not enough in stock."),eb(i[0])):(fb(i[0]),h.style("border-color","rgb(177,177,177)")):(h.style("border-color","red"),i.text("Not a number."),eb(i[0]))}),this.button.unbindAll("tap").bind("tap",function(){var b=+h.val();(b||0===b)&&b<=parseInt(f.quantity,10)&&a.open("http://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business="+f.clientEmail+"&item_name="+f.productName+"&amount="+f.price+"&currency_code="+g+"&quantity="+b+"&notify_url="+a.location.href)});var j,k,l,m,n=12,o=44,p=0,q=(this.origin,this.mark,this.gc),r=270;this.index=c;var s=this.container;this.body.html(f.productDescription);var t=___lightbox,u={opacity:0,display:"block"};t.node.style(u),t.stage.style(u),s.style(u),0===s.parent().length&&b.body.appendChild(s[0]);var v=(f.more,this.tw);this.lighten;v.style({marginTop:(350-md(v[0]))/2+5});var w,x=this.tc,y=this.thumbnail,z=this.gi,A=this.gallery,B=this.srcs=f.imageURL.split(";"),C=B.length,D=Math.ceil;if(fb(this.prevButton[0]),fb(this.nextButton[0]),z[0].style.width="",z[0].style.height="",1===C||0===C)w=new Image,fb(x[0]),md(A[0],318),z.style("maxHeight",318),A.prepend(z),A.addClass("leo-loading"),w.onload=w.onerror=function(){w.onload=w.onerror=null;var a=jd(z[0]),b=md(z[0]);A.removeClass("leo-loading"),z.style({left:D((jd(A[0])-a)/2),top:Math.floor((md(A[0])-b)/2),display:"block"}),q.style({width:a,height:b,left:D((jd(A[0])-a)/2),top:Math.floor((md(A[0])-b)/2)})},w.src=z[0].src=B[0];else{md(A[0],""),z.style("maxHeight",250),eb(A[0]),eb(x[0]);var E,F,G=function(a){return function(b){b.preventDefault(),e.skipTo(a)}},H=[],I=this.liArray=[];for(y.text(""),j=0;k=B[j];j++)k&&""!==k&&(E=Ad("div"),E.className="paypal-thumbnail-li",F=Ad("img"),F.className="paypal-thumbnail-img",F.style.opacity="0",F.src=k,E.appendChild(F),y.append(E),H.push(F),I.push(E),fh(E,"tap",G(j)));for(this.nowIndex=[],jd(y[0],C*(o+n)),C*(o+n)-n-2>r?(x.style("cursor","all-scroll"),x[0].style.marginLeft="",y[0].style.marginLeft="",eb(this.prevButton[0]),eb(this.nextButton[0]),l=Math.floor((r+n)/(o+n)),x.bind("tapstart",function(a){a.preventDefault(),y.style("transition","none");var c,d=a.pageX;parseFloat(y.style("marginLeft"));p=0,e.doc_mousemove&&ih(b,"tapmove",e.doc_mousemove),e.doc_mousemove=function(a){a.preventDefault();var b=event.x,f=parseFloat(y.style("marginLeft"));for(m=p=f+b-d,p>2&&(b>d&&(p=f+.5),m=2),p<r-C*(o+n)+13&&(b<d&&(p=f-1.2),m=r-C*(o+n)+13),d=b,y.style("marginLeft",D(p)),c=D(Math.abs(m)/(o+n)),c>C-l&&(c=C-l),c<0&&(c=0),e.nowIndex=[],j=0;j<l;j++)e.nowIndex.push(c+j)},fh(b,"tapmove",e.doc_mousemove),fh(b,"tapend",function(a){a.preventDefault(),p=D(p),y.style("transition","all .3s"),e.doc_mousemove&&ih(b,"tapmove",e.doc_mousemove),p>2&&y.style("marginLeft","2px"),p<r-C*(o+n)+13&&y.style("marginLeft",r-C*(o+n)+13)})})):5===C?(l=C,x.style("marginLeft",20)):(l=C,x.style("marginLeft",20),y.style("marginLeft",Math.floor((r-(o+n)*C+n+2)/2))),j=0;j<l;j++)this.nowIndex.push(j);this.skipTo(0),H.forEach(function(a,b){var c=new Image;c.onload=c.onerror=function(){Ye(a,"opacity",1),c.width>c.height?Ye(a,{maxWidth:"auto",maxHeight:"40px"}):Ye(a,{maxWidth:"40px",maxHeight:"auto"}),Ye(a,{left:D((40-jd(a))/2),top:D((40-md(a))/2)})},c.src=a.src})}this.bc;this.scroll&&this.scroll.destroy(),this.scroll=new $d(this.bc[0],{y:{container:"paypal-scroll-bar"}}),u={display:"none",opacity:""},s.style(u),t.node.style(u),t.stage.style(u);var J="touchstart"in b,K=function(a){a.preventDefault(),e.hided&&(e.hided=!1,e.hd(a)),J&&(e.doc_mouseup&&ih(b,"touchend",e.doc_mouseup),e.doc_mouseup=function(){e.doc_mousemove&&ih(b,"mousemove",e.doc_mousemove),e.hided||(e.hided=!0,eb(e.origin[0]),eb(e.mark[0]),e.gc.style("opacity",.5))},fh(b,"touchend",e.doc_mouseup)),e.doc_mousemove&&ih(b,"mousemove",e.doc_mousemove),e.doc_mousemove=function(a){a.target!==e.gc[0]&&a.target!==e.mc[0]||e.hd(a)},fh(b,"mousemove",e.doc_mousemove)};return this.gc.unbindAll("mouseover").unbindAll("touchstart"),this.gc.bind("mouseover",K),J&&this.gc.bind("touchstart",K),this},d.prototype.hd=function(a){var c=this,d=this.gi,e=this.mark,f=this.origin,g=this.mi,h=this.oi,i=this.gc,j=e[0].style,k=g[0].style,l=h[0].style;f.addClass("leo-loading"),g[0].src=d[0].src,h[0].src=d[0].src;var m=new Image;m.onload=m.onerror=function(){m.onload=m.onerror=null,f.removeClass("leo-loading");var n,o,p,q,r,s,t,u,v,w,x=vh(c.gallery[0]).top,y=vh(c.gallery[0]).left,z=parseFloat(c.gi.style("left")),A=parseFloat(c.gi.style("top")),B=Math.floor,C=c.originWidth,D=c.originHeight,E=m.width||25,F=m.height||25,G=jd(d[0]),H=md(d[0]),I=E/G,J=F/H;jd(h[0],E),md(h[0],F),jd(g[0],G),md(g[0],H),jd(d[0],G),md(d[0],H),n=B(C/E*G),o=B(D/F*H),C>E?(n=G,h.style("left",(C-E)/2)):h.style("left",""),D>F?(o=H,h.style("top",(D-F)/2)):h.style("top",""),t=z+G-n-2,u=A+H-o-2,r=y+n/2,s=x+o/2,p=B(a.pageX-r),q=B(a.pageY-s),p<z&&(p=z),p>t&&(p=t),q<A&&(q=A),q>u&&(q=u),j.width=n+"px",j.height=o+"px",j.left=p+"px",j.top=q+"px",k.left=B(z-p)+"px",k.top=B(A-q)+"px",l.left=B((z-p)*I)+"px",l.top=B((A-q)*J)+"px",c.doc_mousemove&&ih(b,"mousemove",c.doc_mousemove),c.doc_mousemove=function(a){a.preventDefault();var d=a.target;p=B(a.pageX-r),q=B(a.pageY-s),p<z&&(p=z),p>t&&(p=t),q<A&&(q=A),q>u&&(q=u),p!==v&&(j.left=p+"px",k.left=B(z-p)+"px",l.left=B((z-p)*I)+"px",v=p),q!==w&&(j.top=q+"px",k.top=B(A-q)+"px",l.top=B((A-q)*J)+"px",w=q),d!==c.mc[0]&&d!==c.mi[0]&&d!==c.gc[0]&&(c.doc_mousemove&&ih(b,"mousemove",c.doc_mousemove),fb(f[0]),fb(e[0]),i.style("opacity",0))},fh(b,"mousemove",c.doc_mousemove)},m.src=d[0].src,eb(f[0]),eb(e[0]),i.style("opacity",.5)},d.prototype.hide=function(){this.doc_mousemove&&ih(b,"mousemove",this.doc_mousemove)},d.prototype.skipTo=function(a){var b,d,e,f=this,g=this.srcs,h=Math.ceil,i=this.liArray,j=this.gi,k=this.thumbnail,l=this.srcs.length,m=this.gallery,n=270,o=this.gc,p=44,q=12;this.mark;if(a!==c&&!isNaN(a)&&(a<0&&(a=0),a>l-1&&(a=l-1),a!==this.index)){if(e=this.gi=j.clone(),e.style({width:"auto",height:"auto",display:"none"}),e[0].src=g[a],m.prepend(e),Ye(i[this.index||0],"outline",""),Ye(i[a],"outline","2px solid #317ee7"),this.nowIndex.indexOf(a)<0&&(a>this.index?(d=a===l-1?n-(a+1)*(p+q)+13:n-(a+1)*(p+q)-13,this.nowIndex.splice(0,1),this.nowIndex.push(a)):(d=0===a?2:-a*(p+q)+26,this.nowIndex.pop(),this.nowIndex.splice(0,0,a)),k.style("margin-left",d)),j[0].src){Rc.animate(j[0],"FadeOut",500).addEventListener("end",function(){j.remove()},this)}else j.remove();clearTimeout(this.glt),this.glt=setTimeout(function(){m.addClass("leo-loading")},200),b=this.image=new Image,b.onload=b.onerror=function(){b.onload=b.onerror=null,clearTimeout(f.glt);var a=jd(e[0]),c=md(e[0]);m.removeClass("leo-loading"),eb(j[0]),e.style({width:a,height:c,left:h((jd(m[0])-a)/2),top:Math.floor((md(m[0])-c)/2)}),o.style({width:a,height:c,left:h((jd(m[0])-a)/2),top:Math.floor((md(m[0])-c)/2)}),e.style({opacity:1}),f.showAnimate&&f.showAnimate.destroy(),f.showAnimate=Rc.animate(e[0],"FadeIn",500)},b.src=g[a],this.index=a}},d.prototype.next=function(){this.skipTo(this.index+1)},d.prototype.prev=function(){this.skipTo(this.index-1)},d}();Rd["paypal-box"]=function(a){return a.hint="PayPal payment",a.params.productDescription=a.params.productDescription.replace(/\/\^r\$\//g,"<br>"),wf?ma:la};var fe,ge,he=function(c){function e(){var d=this;c.call(this),this.hided=!0,this.animations=[];var f=Ad("div");f.className="leo-phone-msg-box-bg",f.innerHTML=e.html,this.lightbox=f;var g=this.node=f.childNodes[0],h=this.slideContainer=g.querySelector(".leo-phone-msg-box--slide"),i=this.slide=new Sg;i.addEventListener("skip",function(a){this.node.querySelector(".slide--index span").innerHTML=a.data.index},this),i.borderWidth=0,i.taponly=!0,i.dom.style.display="block",fh(g.querySelector(".menu--return-btn"),"tap",function(){d.hide()}),fh(f,"tap",function(){d.hide()}),fh(g.querySelector(".menu--more-btn"),"tap",function(){d.link&&a.open(d.link)}),fh(a,"resize",function(){d.hided||d.resize()});var j=this.audio=new hi;fh(g.querySelector(".slide--replay"),"tap",function(){d.audio.replay()});var k=g.querySelectorAll(".slide--btn")[1];fh(k,"tap",function(){d.audio.playPause()}),j.addEventListener("play",function(){ui(k).removeClass("slide--muted").addClass("slide--unmuted")},this),j.addEventListener("pause",function(){ui(k).removeClass("slide--unmuted").addClass("slide--muted")},this),h.appendChild(i.dom),b.body.appendChild(f),b.body.appendChild(g)}return oc(e,c),e.prototype.config=function(a,b){var c=a.params;this.urls=c.image.content,this.title=c.title,this.body=c.body,this.button=c.more,this.background=c.style;var d=this.node;""===a.audio.url?(this.hasAudio=!1,d.querySelector(".slide--replay").style.display="none",d.querySelectorAll(".slide--btn")[1].style.display="none"):(this.hasAudio=!0,this.audio.src=a.audio.url,this.audio.volume=a.audio.volume,this.audio.load(),d.querySelector(".slide--replay").style.display="block",d.querySelectorAll(".slide--btn")[1].style.display="block");var e=c.animations,f="out"===e[0].showType.toLowerCase;this.inAnimation=e[f?1:0].animation,this.outAnimation=e[f?0:1].animation},e.prototype.resize=function(){var a=this.lightbox.offsetWidth,b=this.lightbox.offsetHeight,c=a-50;c=c>280?280:c;var d=b-40;d=d>500?500:d,Ye(this.node,{width:c,height:d});var e=this.slideContainer,f=c-20,g=f;Ye(e,{width:f,height:g}),this.slide.width=f,this.slide.height=g,this.node.querySelector(".leo-phone-msg-box--scroll").style.height=d-40+"px"},e.prototype.show=function(){this.hided=!1,this.destroyAnimations(),this.animations.push(Rc.animate(this.lightbox,"FadeIn",300,{easing:"linear"})),this.animations.push(Rc.animate(this.node,this.inAnimation,300,{easing:"easeOutBack"})),this.lightbox.style.display="block",this.resize(),this.hasAudio&&this.audio.replay()},e.prototype.hide=function(){this.destroyAnimations(),this.animations.push(Rc.animate(this.lightbox,"FadeOut",300,{easing:"linear"})),this.animations.push(Rc.animate(this.node,this.outAnimation,300,{easing:"easeOutQuad"})),this.hided=!0,this.audio.pause()},e.prototype.destroyAnimations=function(){var a,b=0,c=this.animations;for(c.length;b<length;b++)(a=c[b])&&a.destroy()},d(e.prototype,"urls",{set:function(a){var b=this.slideContainer,c=this.node.querySelector(".slide--index"),d=this.slide;a?(d.url=a,eb(b),eb(c),c.querySelector("span:first-child").innerHTML="1",c.querySelector("span:last-child").innerHTML="/"+this.slide.length):(fb(b),fb(c))},enumerable:!0,configurable:!0}),d(e.prototype,"title",{set:function(a){var b=this.node.querySelector(".content--title");b.innerHTML=a.content,b.style.fontFamily=a.fontFamily,b.style.color=a.color},enumerable:!0,configurable:!0}),d(e.prototype,"body",{set:function(a){var b=this.node.querySelector(".content--body");b.innerHTML=a.content,b.style.fontFamily=a.fontFamily,b.style.color=a.color},enumerable:!0,configurable:!0}),d(e.prototype,"link",{get:function(){return this._link},enumerable:!0,configurable:!0}),d(e.prototype,"button",{set:function(a){var b=this.node.querySelector(".menu--return-btn"),c=this.node.querySelector(".menu--more-btn");b.style.color=c.style.color=a.color,b.style.backgroundColor=c.style.backgroundColor=a.backgroundColor,b.style.fontFamily=c.style.fontFamily=a.fontFamily,a.backgroundColor&&(b.style.borderColor=c.style.borderColor=Ee.darker(a.backgroundColor,.3)),c.innerHTML=a.content;var d=a.link;""!==d.replace(/s+/g,"")&&(d.indexOf("://")<0&&(d="http://"+d),this._link=d,c.style.display="true"===a.type?"block":"none")},enumerable:!0,configurable:!0}),d(e.prototype,"background",{set:function(a){this.node.style.backgroundImage=Ub(a.gradient.angle+"deg",[a.gradient.from,a.gradient.to])},enumerable:!0,configurable:!0}),e.html='<div class="leo-phone-msg-box"><div class="leo-phone-msg-box--menu"><span class="menu--btn menu--return-btn">Close</span><span class="menu--btn menu--more-btn">More</span><div class="slide--btn slide--replay"><div></div></div><div class="slide--btn slide--muted"><div></div></div><div class="slide--btn slide--index"><span>1</span><span>/6</span></div></div><div class="leo-phone-msg-box--scroll"><div class="leo-phone-msg-box--slide"></div><div class="leo-phone-msg-box--content"><p class="content--title"></p><hr class="content--separator"><p class="content--body"></p></div></div></div>',e}(nc),ie=function(b){function c(){var c=this;b.call(this);var d="paypal-",e=this.node.querySelector(".leo-phone-msg-box--content"),f=ui(e).html(""),g=(this.productName=f.el("span").addClass(d+"title"),f.el("p").addClass(d+"price-wrap").text("Price:"));this.productPrice=g.el("span");f.el("p").addClass(d+"in-stock").text("In stock.");var h=(this.productDescription=f.el("div").addClass(d+"body"),f.el("label").text("Quantity:").attr("for",d+"quantity"),this.input=f.el("input").attr({type:"text",value:1,id:d+"quantity"}).bind("keyup",function(){var a=+h.val();a||0===a?a>parseInt(c.params.quantity,10)?(h.style("border-color","red"),i.text("Not enough in stock."),eb(i[0])):(fb(i[0]),h.style("border-color","rgb(177,177,177)")):(h.style("border-color","red"),i.text("Not a number."),eb(i[0]))})),i=this.span=f.el("span").attr("class",d+"msg").text("Not enough in stock.");f.el("br");var j=(this.shippingCost=f.el("span").addClass(d+"shipping-cost"),f.el("div").addClass(d+"share")),k=["Facebook","Twitter","Google","More","Contact seller"],l=["https://www.facebook.com/sharer/sharer.php?u=","https://www.twitter.com/share?url=","https://plus.google.com/share?url=","http://www.addthis.com/bookmark.php?v=15&winname=addthis&s=more&url="];["fb","tw","gg","other","email"].forEach(function(b,e){var f=j.el("div").addClass(d+b).attr({title:k[e],"data-index":e});4===e?f.bind("tap",function(){a.open("mailto:"+c.params.clientEmail+"?subject="+c.params.productName,"_blank")}):f.bind("tap",function(){a.open(l[this.getAttribute("data-index")]+a.location.href)})})}return oc(c,b),c.prototype.config=function(a){var b=this.params=a.params;this.urls=b.imageURL,this.button={content:"Buy",fontFamily:"",link:""},this.background={gradient:{angle:0,from:"#fff",to:"#fff"}},this.productPrice.text(b.currency+b.price),this.productName.html(b.productName),this.productDescription.html(b.productDescription),this.shippingCost.html("Shipping cost "+("included"===b.shippingCost.toLowerCase()?"included.":"not included.")+"<br>Delivery time: "+b.deliveryTime+(parseFloat(b.deliveryTime)<=1?" day":" days")+".<br>");var c=this.node;""===a.audio.url?(this.hasAudio=!1,c.querySelector(".slide--replay").style.display="none",c.querySelectorAll(".slide--btn")[1].style.display="none"):(this.hasAudio=!0,this.audio.src=a.audio.url,this.audio.volume=a.audio.volume,this.audio.load(),c.querySelector(".slide--replay").style.display="block",c.querySelectorAll(".slide--btn")[1].style.display="block"),this.inAnimation="MoveInFromRight",this.outAnimation="ExtendOutToLeft"},d(c.prototype,"link",{get:function(){var b,c=this.params,d=+this.input.val();return"$"===c.currency?b="USD":"£"===c.currency?b="GBP":"€"===c.currency?b="EUR":"CHF"===c.currency&&(b="CHF"),"http://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business="+c.clientEmail+"&item_name="+c.productName+"&amount="+c.price+"&currency_code="+b+"&quantity="+d+"&notify_url="+a.location.href},enumerable:!0,configurable:!0}),c}(he),je=function(){function a(){this.width=308,this.height=120,this.resizeOption={minW:308,minH:120},this.audio=new hi,this.audio.addEventListener("ended",function(){this.audio.pause(),this.audio.currentTime=0},this),wf?(this.width=this.resizeOption.minW=98,this.height=this.resizeOption.minH=98,this.player=new Sd(this.audio)):(this.width=this.resizeOption.minW=308,this.height=this.resizeOption.minH=120,this.player=new Td(this.audio)),this.container=this.player.node}return a.prototype.config=function(a){var b=this.audio,c=a.audio;if(c){var d=c.volume;(d||0===d)&&(b.volume=d)}var e=a.content;return b.src=e,b.play(),this},a.prototype.hide=function(){this.audio.pause()},a}();Rd["audio-box"]=function(a){var b=a.params;return b&&1!=b.popUp?(a.hint="Play background music",na):(a.hint="Play music",oa)};var ke,le=function(){function a(){this.width=800,this.height=450,this.__leo_guid__=f(),this.container=this.createNode()}return a.prototype.createNode=function(){return vi("div")},a.prototype.config=function(a){var b=this;this.action=a;var c=a.content,d=a.params,e=d.autoplay||d.autoPlay,f=d.target.toLowerCase(),g=this.container,h=this.iframe,i="leo-lightbox--video leo-lightbox--";if("html5"===f){i+="html5video",h&&h.remove();var j=this.video=g.el("video").attr({controls:!0,preload:"metadata",name:"media"});j.bind("canplay",function(){b.onload(!0)}),j.bind("error",function(){b.onload(!1)}),j.bind("tap",function(a){return a.stopPropagation(),!1});var k=j.attr("src");k!==c&&j.attr("src",c),e&&j[0].play()}else h?g.append(h):(h=g.el("iframe").attr({webkitallowfullscreen:!0,mozallowfullscreen:!0,oallowfullscreen:!0,allowfullscreen:!0,allowtransparency:!0,frameborder:"0"}),this.iframe=h),"youtube"===f&&(i+="youtube",c="//www.youtube.com/embed/"+c+"?autoplay="+(e?1:0)+"&wmode=transparent"),"vimeo"===f&&(i+="vimeo",c="//player.vimeo.com/video/"+c+"?autoplay="+(e?1:0)+"&wmode=transparent&portrait=0"),h.attr("src",c);return g[0].className=i,this},a.prototype.onload=function(a){var b=this.video[0],c=this.action.params,d=c.autoplay||c.autoPlay,e=c.customSize&&a;this.width=(e?c.customWidth:b.videoWidth)||800,this.height=(e?c.customHeight:b.videoHeight)||450,___lightbox.resize(!0,function(){d&&b.play()})},a.prototype.hide=function(){"html5"===this.action.params.target.toLowerCase()?this.video.remove():this.iframe.remove()},a}();Rd["video-box"]=function(a){return a.hint="Watch video",pa};var me,ne,oe,pe=function(){function a(){this.height=850,this.createNode()}return a.prototype.createNode=function(){var a=vi("div").addClass("leo-lightbox--website"),b=a.el("div").addClass("website--title"),c=(b.el("a").addClass("website--button").html("Open In New Window.").attr("target","_blank"),a.el("iframe").attr("frameborder",0));/^((?!chrome).)*safari/i.test(navigator.userAgent)&&c.style({webkitOverflowScrolling:"touch",overflow:"scroll"}),this.container=a,this.iframe=c},a.prototype.showLoading=function(){this.container.addClass("leo-loading")},a.prototype.hideLoading=function(){this.container.removeClass("leo-loading")},a.prototype.config=function(a){var b=this,c=a.content;this.url=c;var d=this.container;return d.select(".website--button").attr("href",c),d.select("iframe").attr("src",c),this.showLoading(),clearTimeout(this.loadingTimeoutID),this.loadingTimeoutID=setTimeout(function(){b.hideLoading(),b.iframe.style("opacity",1)},2e3),this},a.prototype.hide=function(){clearTimeout(this.loadingTimeoutID),this.container.select("iframe").attr("src",null).style("opacity",0)},a}(),qe=function(a){function b(){a.call(this),this.resizeOption={paddingLeft:0,paddingTop:0},this.inEffect="FadeIn",this.outEffect="FadeOut",this.duration=200;var b=new Qg;b.controls=!0,this.container=b.node.addClass("lg--normal-slide"),this.slide=b}return oc(b,a),b.prototype.config=function(a){var b=a.content;return this.slide.url=b,this},b.prototype.resize=function(a,b){this.slide.actualHeight=b,this.slide.actualWidth=a},b.prototype.destroy=function(){this.slide.destroy()},b}(nc),re=function(){function a(){var a=this;this.width=200,this.height=150,this.resizeOption={delh:60},this.__leo_guid__=f(),this.effectArray=["FadeIn"],this.index=-2,this.length=0,this.keyupHandler=function(b){b.altKey||b.ctrlKey||b.shiftKey||(b.preventDefault(),39==b.keyCode&&a.next(),37==b.keyCode&&a.prev())},this.container=this.createNode()}return a.prototype.createNode=function(){var a=this,b=vi("div").attr("id","leo-lightbox--gallery"),c=this.dataWrapper=b.el("div").attr("id","gallery-wrap");_d(c[0],function(b){"left"===b&&a.next(),"right"===b&&a.prev()}),c.bind("mousedown",function(a){a.preventDefault()}),this.imgWrapper=c.el("div").attr("id","img-wrap");var d=b.el("div").attr("id","control-bar");d.el("div").attr("id","to-first").addClass("controls").bind({tap:function(){0===a.index?a.shake():a.skipTo(0)}}),d.el("div").attr("id","to-last").addClass("controls").bind({tap:function(){a.index===a.length-1?a.shake():a.skipTo(a.length-1)}}),d.el("div").attr("id","to-next").addClass("controls").bind({tap:function(){a.next()}}),d.el("div").attr("id","to-prev").addClass("controls").bind({tap:function(){a.prev()}});var e=function(){f.unbindAll("keypress");var b=f.val();""===b?f.val(a.index+1+" / "+a.length):(b=parseInt(b,10)-1,a.skipTo(b))},f=this.input=d.el("input").attr("type","text").bind({tap:function(){f.bind("keypress",function(a){13===a.keyCode&&(e(),f[0].click())}),this.setSelectionRange(0,9999)},blur:e});return b},a.prototype.config=function(a){this.action=a;var c=a.content;return"string"==typeof c&&(c=c.split(";")),this.index=-2,this.imgWrapper.html(""),this.dataArray=c,this.length=c.length,this.skipTo(0),ih(b,"keyup",this.keyupHandler),fh(b,"keyup",this.keyupHandler),this},a.prototype.shake=function(){var a,b=this.container[0],c=(jd(b),new Tc),d=20;c.tweenOverwritten=0,a=Xc.create(b,50,{yoyo:!0,repeat:1}),a.overwritten=9,a.apply({left:{to:d}}),c.append(a),a=Xc.create(b,50,{yoyo:!0,repeat:1}),a.overwritten=9,a.apply({left:{to:-d}}),c.append(a),Wc.getInstance().add(c)},a.prototype.hide=function(){ih(b,"keyup",this.keyupHandler),this.width=300,this.height=200},a.prototype.skipTo=function(a){var b,c=this,d=new Image,e=this.dataArray,f=this.length,g=this.index,h=this.input,i=this.imgWrapper,j=___lightbox;if(this.image&&(this.image.onload=this.image.onerror=null),g!==a){
if(a>=f||a<0||isNaN(a))return h.val(g+1+" / "+f),void this.shake();this.showLoading(),this.index=a,h.val(a+1+" / "+f),b=e[a],d.onload=d.onerror=function(){var a=c.width=d.width||25,b=c.height=d.height||25,e={width:"100%",height:"100%"};d.onload=d.onerror=null,a<200&&(c.width=200,e.width=a),b<200&&(c.height=200,e.height=b),c.hideLoading(),i.html(""),i.style(e),i.append(d),j.resize(!0,function(){c._animate&&c._animate.destroy(),c._animate=Rc.animate(i[0],c.effectArray[Math.floor(Math.random()*c.effectArray.length)],500)})},d.src=b,fb(i[0])}else h.val(a+1+" / "+f),this.shake();this.image=d},a.prototype.prev=function(){this.index-1<0?this.shake():this.skipTo(this.index-1)},a.prototype.next=function(){this.index+1>=this.length?this.shake():this.skipTo(this.index+1)},a.prototype.showLoading=function(){this.container.addClass("leo-loading")},a.prototype.hideLoading=function(){this.container.removeClass("leo-loading")},a}();Rd["slide-box"]=function(a){a.hint="Show image gallery";var b=sa;if(a.params){var c=a.params.slideType;c&&(c=c.toLowerCase()),"normal"===c?b=ta:"3dflow"===c&&(b=ra)}return b};var se,te,ue=function(a){function b(){a.call(this),this.resizeOption={paddingLeft:0,paddingTop:0},this.inEffect="FadeIn",this.outEffect="FadeOut",this.duration=200;var b=new Sg;b.controls=!0,b.autoplay=!1,b.position="fit",this.container=b.node.addClass("lg--normal-slide"),this.slide=b}return oc(b,a),b.prototype.config=function(a){var b=a.content;return this.slide.url=b,this},b.prototype.resize=function(a,b){this.slide.actualHeight=b,this.slide.actualWidth=a},b.prototype.destroy=function(){this.slide.destroy()},b}(nc);Rd.resetCamera=function(){return ua},Rd["show-dialog"]=function(a,b){return a.hint="Show dialog",a.params.direction=a.params.direction.toLowerCase(),va},Rd.playAction=function(a,b){var c=a.params&&a.params.params;if(c&&c.actionName&&"sprite"===b.type){c={animation:c.actionName,duration:a.params.duration,userDefined:1,overwritten:!0,params:{scaleX:c.scaleX||1,scaleY:c.scaleY||1,text:c.text,sound:c.sound}};var d=Fa(c,b.type);return function(a){Kd.run(this,d)}}};var ve={},we=e(["when","type","action","target","params"]),xe={click:"tap",doubleclick:"doubletap",mousedown:"tapstart",mouseup:"tapend"},ye={motion:function(a,b){a.name="Motion",a.params=Ma(a.params,b)},"spotlight(move to)":function(a,b){a.name="SpotLight(Move to)",a.params=Ma(a.params,b)}},ze={"transform.rotation":0,"transform.scaleX":1,"transform.scaleY":1,"transform.skewX":0,"transform.skewY":0,"transform.tx":0,"transform.ty":0};ve.camera=function(a,b,c){var d=Ae,e=d.option;e.action?Array.isArray(e.action)||(e.action=[e.action]):e.action=[];for(var f=e.action,g=a.animations||[],h=-1,i=g.length;++h<i;){var j=g[h],k=null;if(j){var l=j.animation.toLowerCase(),m=j.params;if("camera(move to)"===l)l="moveCamera",k={width:m.width,height:m.height,left:m.left,top:m.top,duration:+j.duration||0};else{if("back to center"!==l)continue;l="resetCamera",k={duration:+j.duration||0}}f.push({when:"timer",time:+j.start||0,action:l,params:k})}}},ve.timer=function(a,b,c){var d=Ae,e=d.option;e.action?Array.isArray(e.action)||(e.action=[e.action]):e.action=[];for(var f=e.action,g=a.elements,h=-1,i=g.length;++h<i;){var j=g[h];if(j){j.template.visible=0;var k=j.template.type;/sound|video/i.test(k)&&(j.template.autoPlay=1),b.push(j);var l=j.template;if("gotopage"===k.toLowerCase()){f.push({when:"timer",time:+l.startTime,target:l.name,action:"goToPage",params:{target:l.content}});continue}f.push({when:"timer",time:+l.startTime,target:l.name,action:"changeVisible",params:{visible:!0}});var m=+l.startTime+ +l.duration,n=Ia(j.animations);n>=0&&f.push({when:"timer",time:m-n,target:l.name,action:"changeVisible",params:{visible:!1}})}}};var Ae=null,Be={font:function(a,b,c,d){for(var e in a){var f=d.get(b,e);if(f&&"!"!==f)if(c[f]=a[e],"color"===e)if("number"==typeof a[e]){var g=Ee.parse(a[e]);g[3]=1,c[f]=Ee.parseToString(g)}else c[f]=Ee.parseToString(a[e]);else"backgroundColor"===e&&(c[f]=Ee.parseToString(a[e]))}},shadow:function(a,b,c,d){var e=d.get(b,"shadow");!e||"!"===e||0===a.blur&&0===a.offsetX&&0===a.offsetY||(c.shadow=Vb(a.offsetX,a.offsetY,a.blur,Ee.parseToString(a.color)))},gradualColors:function(a,b,c,d){var e=d.get(b,"gradient");if(e&&"!"!==e){for(var f=a.split(";"),g="",h=0,i=-1,j=f.length;++i<j;){g+=Ee.parseToString(f[i])+";",++h}g&&(h<=1&&(g+=g),c.gradient=g.slice(0,-1))}}},Ce={arial:[.1,2,1],tahoma:[.2],"arial black":[.4],"arial narrow":[.1,2],verdana:[.2],georgia:[.1,2],"times new roman":[.2,-2],"trebuchet ms":[.25],impact:[.25],"comic sans ms":[.4,0,1],"lucida console":[0],garamond:[.12],"palatino linotype":[.34,0,1],symbol:[.23],"bookman old style":[.21],"courier new":[0,3],"ms sans serif":function(a,b){var c=13;return a>=31?c=37:a>=24?c=29:a>=18?c=24:a>=16?c=20:a>=13&&(c=16),c}},De={image:function(a,b){a.src=a.defaultProps.src=b.template.content,a.defaultProps["filter.reset"]=c,a.reflection=b.template.reflection,a.fit=b.template.fit}};De["html5-video"]=De["vimeo-video"]=function(a,b){a.src=a.defaultProps.src=b.template.content,a.autoplay=!!b.template.autoPlay},De.sound=function(a,b){a.src=a.defaultProps.src=b.template.content,a.volume=a.defaultProps.volume=b.template.volume,a.autoplay=a.defaultProps.volume=null==b.template.autoPlay||!!b.template.autoPlay,a.loop=a.defaultProps.loop=!!b.template.loop},De["youtube-video"]=function(a,b){var c=b.template,d=c.videoType||"id",e=c.videoStart||"0";if("id"===d.toLowerCase()){a.autoplay=!!c.autoPlay,a.loop=!!c.loop;var f,g=e.split(":"),h=0;(f=parseInt(g[0]))&&(h=3600*f),(f=parseInt(g[1]))&&(h+=60*f),(f=parseInt(g[2]))&&(h+=f),a.startTime=h,a.src=a.defaultProps.src=c.content}else a.type="htmlembedbox",a.embedCode=a.defaultProps.embedCode=b.template.codeContent},De.line=De.arrowline=De.dottedline=function(a,b){b.template.content.split(";").forEach(function(b,c){a[(c%2?"y":"x")+(c<2?"1":"2")]=+b})},De.roundedrectangulardialogbox=De.rectangulardialogbox=De.ovaldialogbox=De.clouddialogbox=function(a,b){var c=b.template.params.split(";");a.handlerX=+c[2],a.handlerY=+c[3]},De.bubbledialogbox=function(a,b){a.located=b.template.located},De.paypaldiscount=function(a,b){a.textContent=a.defaultProps.src=b.style.font.paypalPrice},De.paypalprice=function(a,b){a.textContent=b.template.content,a.price=b.style.font.paypalPrice},De.paypalproductbox=function(a,b){a.urls=a.defaultProps.urls=b.template.content},De.paypalstar=function(a,b){a.rate=b.template.content,a.src=b.style.backgroundImage},De.embedweb=function(a,b){a.url=a.defaultProps.url=b.template.content,a.controls=b.template.controls},De.sprite=function(a,b){var c=b.sprite;a.srcset=[c.url],a.initialActionName=c.initialAnimationName;for(var d=a.frames=[],e=c.row,f=c.column,g=c.cellWidth,h=c.cellHeight,i=-1;++i<e;)for(var j=-1;++j<f;)d.push([0,j*g,i*h,g,h]);for(var k=c.animations||[],l=a.actions={},m=a.actionConfigs={},i=-1,n=k.length;++i<n;){var o=k[i];o.content;l[o.name]=o.content.split(",").map(function(a){var b=a.split("-");return(+b[0]-1)*f+(+b[1]-1)}),m[o.name]={frameRate:o.frameRate,repeat:o.repeat&&-1!==o.repeat?o.repeat-1:o.repeat||0}}if(!a.initialActionName&&a.animations)for(var i=-1,n=a.animations.length;++i<n&&!(a.animations[i].userDefined&&a.animations[i].params&&(a.initialActionName=a.animations[i].params.action)););for(var p,q,r,s=[],i=0,t=a.animations,u=t.length;i<u;i++)(p=t[i].params)&&(q=p.sound)&&(r=q.src)&&s.push(r);a.soundURLs=s},De.slide=function(a,b){var c=b.template;a.url=a.URLString=a.defaultProps.url=c.content,a.interval=~~c.interval,a.autoplay=!!c.autoPlay,a.controls=!!c.controls;var d=c.slideType.toLowerCase();d&&"default"!==d||(d="defaultslide"),a.type=d,De[d](a,b)},De.zoomslide=function(a,b){var c=b.template;a.speed=c.zoomSpeed},De.scrollingslide=function(a,b){var c=b.template;a.speed=c.speed,a.direction=c.slideDirection.toLowerCase()},De.album=function(a,b){var c=b.template;a.stack=+c.number,a.rotate=+c.slideRotate,a.originX=c.originX,a.originY=c.originY},De["3dflow"]=function(a,b){},De.swipeslide=function(a,b){},De.defaultslide=function(a,b){},De.dragslide=function(a,b){a.swipeDirection=b.template.swipeDirection.toLowerCase()},De.flipslide=De.fadeslide=function(a,b){},De.soundplayer=function(a,b){var c=b.template;a.autoPlay=c.autoPlay,a.src=a.defaultProps.src=c.content,a.volume=a.defaultProps.volume=c.volume,a.playerType=c.soundPlayerType},De.twittertimeline=function(a,b){var c=b.template;a.transparent=c.transparent,a.theme=c.theme,a.screenName=c.userName,a.screenType=c.screenType,a.customTimelineID=c.customTimelineID,a.listSlug=c.listSlug},De.movingbackground=function(a,b){var c=b.template;a.src=c.content,a.speed=a.defaultProps.speed=~~c.speed;var d=c.direction;d=~~d||d,"number"==typeof d&&(d=90===d?"top":0===d?"right":270===d?"bottom":"left"),a.direction=a.defaultProps.direction=d},De.movingobject=function(a,b){var c=b.template,d=a.defaultProps;a.backgroundImage=c.content||Ac,a.speed=d.speed=c.speed,a.direction=d.direction=c.direction,a.mode=d.mode=c.mode.toLowerCase(),a.spin=d.spin=c.spin,a.zoomSpeedX=c.zoomWidthSpeed,a.zoomSpeedY=c.zoomHeightSpeed,a.zoomWidth=c.zoomWidth,a.zoomHeight=c.zoomHeight},De.htmlembedbox=function(a,b){var c=b.template,d=a.defaultProps;a.embedCode=d.embedCode=c.content,a.actualWidth=d.actualWidth=c.customWidth,a.actualHeight=d.actualHeight=c.customHeight},De.flash=function(a,b){a.src=a.defaultProps.src=b.template.content;var c=b.style,d=a.defaultProps;a.natualWidth=d.natualWidth=c.swfWidth,a.natualHeight=d.natualHeight=c.swfHeight,a.offsetX=d.offsetX=c.swfLeft,a.offsetY=d.offsetY=c.swfTop};var Ee=function(){function a(){}return a.brighter=function(b,c){var d=Array.isArray(b),e=d?b:a.parse(b);c=Math.pow(.7,arguments.length?c:1);var f,g=e[0],h=e[1],i=e[2],j=30,k=e.length>3?e[3]:1;return g||h||i?(g&&g<j&&(g=j),h&&h<j&&(h=j),i&&i<j&&(i=j),f=[~~Math.min(255,g/c+.5),~~Math.min(255,h/c+.5),~~Math.min(255,i/c+.5),k]):f=[j,j,j,k],d?f:a.stringify(f)},a.darker=function(b,c){c=Math.pow(.7,arguments.length?c:1);var d=Array.isArray(b),e=d?b:a.parse(b),f=[c*e[0]|0,c*e[1]|0,c*e[2]|0,e.length>3?e[3]:1];return d?f:a.stringify(f)},a.transparentize=function(b,c){var d=Array.isArray(b),e=d?b:a.parse(b),f=e.concat();return f[3]=_b(c,0,1),d?f:a.stringify(f)},a.toHSLA=function(b){var c=Array.isArray(b),d=a.toHSLAArray(b);return c?d:a.stringifyHSLA(d)},a.toHSLAArray=function(b){var c,d,e=a.parse(b),f=e[0],g=e[1],h=e[2],i=Math.min(f/=255,g/=255,h/=255),j=Math.max(f,g,h),k=j-i,l=(j+i)/2;k?(d=l<.5?k/(j+i):k/(2-j-i),c=60*(f===j?(g-h)/k+(g<h?6:0):g==j?(h-f)/k+2:(f-g)/k+4)):(c=0,d=l>0&&l<1?0:c);var m=e.concat();return m[0]=c,m[1]=100*d,m[2]=100*l,m},a.stringifyHSLA=function(a){var b="("+a[0]+","+a[1]+"%,"+a[2]+"%";return(a.length>3&&a[3]<1?"hsla"+b+","+a[3]:"hsl"+b)+")"},a.stringify=function(a){return a.length>3&&a[3]<1?"rgba("+a+")":"rgb("+a[0]+","+a[1]+","+a[2]+")"},a.format=function(a){for(var b=new Array(4),c=-1;++c<3;)b[c]=Math.max(0,Math.min(255,~~a[c]));var d=a.length>3?+a[3]:1;return d||0===d||(d=1),b[3]=Math.min(0,Math.max(1,d)),b},a.parse=function(b){if(null==b)return b;if(Array.isArray(b))return b;var c=+b;if(!isNaN(c))return[c>>16,c>>8&&255,c>>16&255,0];b=b.trim().toLowerCase(),","===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));var d;if(d=a.table[b])return[d[0],d[1],d[2],d.length>3?d[3]:1];"0x"===b.substr(0,2)&&(b="#"+b.substr(3));var e,f,g,h;if("#"===b[0]){var i=b.lastIndexOf(",");return i>=0?(h=+b.substr(i+1),b=b.substr(0,i)):h=1,4===b.length?(e=parseInt(b[1]+b[1],16),f=parseInt(b[2]+b[2],16),g=parseInt(b[3]+b[3],16)):(e=parseInt(b.substr(1,2),16),f=parseInt(b.substr(3,2),16),g=parseInt(b.substr(5,2),16)),0===h||h||(h=1),[e,f,g,h]}if("hsl"===b.substr(0,3)){var j=b.match(Fe),k=+j[0]%360/360,l=+j[1]/100,m=+j[2]/100,h=+j[3],n=m<=.5?m*(l+1):m+l-m*l,o=2*m-n;return j.length>3&&(h=+j[3]),[Qa(k+1/3,o,n),Qa(k,o,n),Qa(k-1/3,o,n),h]}var j=b.match(Fe);return j?[+j[0],+j[1],+j[2],j.length>3?+j[3]:1]:null},a.parseToString=function(b){return a.stringify(a.parse(b))},a.isTransparent=function(b){return 0===a.parse(b)[3]},a.table={silver:[192,192,192],black:[0,0,0],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],yellow:[255,255,0],orange:[255,165,0],grey:[128,128,128],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],transparent:[0,0,0,0]},a}(),Fe=/([\d\-\.e]+)/gi,Ge={_tables:{},register:function(a,b,c,d){Ge._tables[a]={d:c,p:d,pr:b}},get:function(a,b){for(var c,d=Ge._tables;;){var e=d[a];if(e||(e=d[a="default"]),(c=e.d&&e.d[b]||e.p&&e.p(b,e.d))||"default"===a)break;a=e.pr||"default"}return c}},He={_classes:{},register:function(a,b,c){b.componentType=a,He._classes[a]=b,c&&!Ge._tables[a]&&Ge.register(a,c)},getClass:function(a){return He._classes[a]},create:function(a,b,c){try{var d=new He._classes[a];if(d.name=b,c)for(var b in c)d.setProperty(b,c[b]);return d}catch(e){return null}}},Ie=function(a){function b(){a.call(this),this.__leo_guid__=f(),this.DOMEventsEnabled=!0,this._parent=null,this._stage=null,this._visible=!0,this._backface=!0,this._x=0,this._displayX=0,this._y=0,this._displayY=0,this._zIndex=null,this._anchorX=0,this._anchorY=0,this._opacity=1,this._shadow="none",this._hasWidthSet=!1,this._computedWidth=0,this._actualWidth=0,this._hasHeightSet=!1,this._computedHeight=0,this._actualHeight=0,this.init()}return oc(b,a),b.prototype.init=function(){this._node=this.createNode(),this._dom=this._node.attr("data-guid",this.guid).addClass("leo-comp").style("display","none")[0],this.name=this.componentType+"_"+this.guid,this._transform=this.initTransform(),this._resizeMode=0},b.prototype.initTransform=function(){return new $g(this._dom,this)},d(b.prototype,"name",{get:function(){return this._name},set:function(a){var b=this._name;this._name=a,this._dom.setAttribute("id",a),this._stage&&this._stage.context.components.updateName(this,b)},enumerable:!0,configurable:!0}),d(b.prototype,"dom",{get:function(){return this._dom},enumerable:!0,configurable:!0}),d(b.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),b.prototype.createNode=function(){return vi("div")},b.prototype.destroyNode=function(a){null!=a&&a.remove()},d(b.prototype,"guid",{get:function(){return this.__leo_guid__},enumerable:!0,configurable:!0}),d(b.prototype,"componentType",{get:function(){return this.constructor.componentType},enumerable:!0,configurable:!0}),d(b.prototype,"loadable",{get:function(){return!1},enumerable:!0,configurable:!0}),d(b.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),b.prototype._setParent=function(a){this._parent=a},d(b.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),d(b.prototype,"visible",{get:function(){return this._visible},set:function(a){this._visible!==a&&(this._visible=a,a?eb(this._dom):fb(this._dom),this.notifyPropertyChange("visible",!a))},enumerable:!0,configurable:!0}),d(b.prototype,"backface",{get:function(){return this._backface},set:function(a){this._backface!==a&&(this._backface=a,Ve(this._dom,"backfaceVisibility",a?"":"hidden"),this.notifyPropertyChange("backface",!a))},enumerable:!0,configurable:!0}),d(b.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),d(b.prototype,"x",{get:function(){return this._x},set:function(a){var b=this._x;b!==a&&(this._x=a,this.displayX=this._displayX+a-b,this._onXChange(b),this.notifyPropertyChange("x",b))},enumerable:!0,configurable:!0}),b.prototype._onXChange=function(a){},d(b.prototype,"displayX",{get:function(){return this._displayX},set:function(a){this._displayX!==a&&(this._displayX=a,this._transform.update())},enumerable:!0,configurable:!0}),d(b.prototype,"y",{get:function(){return this._y},set:function(a){var b=this._y;b!==a&&(this._y=a,this.displayY=this._displayY+a-b,this._onYChange(b),this.notifyPropertyChange("y",b))},enumerable:!0,configurable:!0}),b.prototype._onYChange=function(a){},d(b.prototype,"displayY",{get:function(){return this._displayY},set:function(a){this._displayY!==a&&(this._displayY=a,this._transform.update())},enumerable:!0,configurable:!0}),d(b.prototype,"zIndex",{get:function(){return this._zIndex},set:function(a){a=~~a;var b=this._zIndex;b!==a&&(this._zIndex=a,this._dom.style.zIndex=a+"",this.notifyPropertyChange("zIndex",b))},enumerable:!0,configurable:!0}),d(b.prototype,"anchorX",{get:function(){return this._anchorX},set:function(a){var b=this._anchorX;b!==a&&(this._anchorX=a,this._transform.update(),this.notifyPropertyChange("anchorX",b))},enumerable:!0,configurable:!0}),d(b.prototype,"anchorY",{get:function(){return this._anchorY},set:function(a){var b=this._anchorY;b!==a&&(this._anchorY=a,this._transform.update(),this.notifyPropertyChange("anchorY",b))},enumerable:!0,configurable:!0}),d(b.prototype,"opacity",{get:function(){return this._opacity},set:function(a){a>1?a=1:a<0&&(a=0),this._opacity!==a&&(this._opacity=a,this._dom.style.opacity=a+"")},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{get:function(){return this._shadow},set:function(a){a!==this._shadow&&Ve(this._dom,"boxShadow",this._shadow=a)},enumerable:!0,configurable:!0}),d(b.prototype,"resizeMode",{get:function(){return this._resizeMode},set:function(a){this._setResizeMode(a)},enumerable:!0,configurable:!0}),b.prototype._setResizeMode=function(a){if(a=(2+a%2)%2,this._resizeMode!==a&&(this._resizeMode=a,!a)){var b=!1;this._hasWidthSet&&this._actualWidth!==this._computedWidth&&(this.actualWidth=this._computedWidth,b=!0),this._hasHeightSet&&this._actualHeight!==this._computedHeight&&(this.actualHeight=this._computedHeight,b=!0),b&&this._transform.update()}},d(b.prototype,"width",{get:function(){return this._resizeMode?this._computedWidth:this._actualWidth},set:function(a){!this._hasWidthSet&&a&&(this._hasWidthSet=!0,this.actualWidth=a);var b=this._computedWidth;a!==b&&(this._computedWidth=a,this._resizeMode?this._transform.update():this.actualWidth=a,this.notifyPropertyChange("width",b))},enumerable:!0,configurable:!0}),d(b.prototype,"actualWidth",{get:function(){return this._actualWidth},set:function(a){var b=this._actualWidth;if(a!==b){var c=1;this._resizeMode&&b&&(c=this._computedWidth/b),this._dom.style.width=~~(.5+a)+"px",this._onActualWidthChange(this._actualWidth=a),this.notifyPropertyChange("actualWidth",a),this._resizeMode?this.width=a*c:(a!==this._computedWidth&&(c=this._computedWidth,this._computedWidth=a),this._anchorX&&this._transform.update(),a!==c&&this.notifyPropertyChange("width",c))}},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(a){},d(b.prototype,"height",{get:function(){return this._resizeMode?this._computedHeight:this._actualHeight},set:function(a){!this._hasHeightSet&&a&&(this._hasHeightSet=!0,this.actualHeight=a);var b=this._computedHeight;a!==b&&(this._computedHeight=a,this._resizeMode?this._transform.update():this.actualHeight=a,this.notifyPropertyChange("height",b))},enumerable:!0,configurable:!0}),d(b.prototype,"actualHeight",{get:function(){return this._actualHeight},set:function(a){var b=this._actualHeight;if(a!==b){var c=1;this._resizeMode&&b&&(c=this._computedHeight/b),this._dom.style.height=~~(.5+a)+"px",this._onActualHeightChange(this._actualHeight=a),this.notifyPropertyChange("actualHeight",a),this._resizeMode?this.height=a*c:(a!==this._computedHeight&&(c=this._computedHeight,this._computedHeight=a),this._anchorY&&this._transform.update(),a!==c&&this.notifyPropertyChange("height",c))}},enumerable:!0,configurable:!0}),d(b.prototype,"hint",{set:function(a){this._node.attr("title",a)},enumerable:!0,configurable:!0}),b.prototype._onActualHeightChange=function(a){},b.prototype.getBoundingRect=function(a){a||(a=new ci(0,0,0,0));var b=this.width,c=this.height;return a.set(-this.anchorX*b,-this.anchorY*c,b,c),a},b.prototype.getMeasuredBound=function(a){return this.getBoundingRect(a)},b.prototype.getTransformMatrix=function(a){a||(a=new bi(1,0,0,1,0,0)),a.identity();var b=this._transform;return a.appendTransform(b._tx,b._ty,b._sx*b._scaleX,b._sy*b._scaleY,b._rotation,b._skewX,b._skewY,this.width*(this._transform._originX-this._anchorX),this.height*(this._transform._originY-this._anchorY))},b.prototype.getTransformBound=function(a,c,d){c=d?this.getMeasuredBound(c):this.getBoundingRect(c),a||(a=this.getTransformMatrix(bi.identity));var e=b._point;e||(e=b._point={x:0,y:0}),e.x=c.left,e.y=c.top,a.transformPoint(e);var f=e.x,g=f,h=e.y,i=h;return e.x=c.right,e.y=c.top,a.transformPoint(e),e.x<f?f=e.x:e.x>g&&(g=e.x),e.y<h?h=e.y:e.y>i&&(i=e.y),e.x=c.right,e.y=c.bottom,a.transformPoint(e),e.x<f?f=e.x:e.x>g&&(g=e.x),e.y<h?h=e.y:e.y>i&&(i=e.y),e.x=c.left,e.y=c.bottom,a.transformPoint(e),e.x<f?f=e.x:e.x>g&&(g=e.x),e.y<h?h=e.y:e.y>i&&(i=e.y),c.set(f,h,g-f,i-h)},b.prototype.onTransformUpdate=function(){this._transform._x=bc(this._displayX+this._computedWidth*(this._transform._originX-this._anchorX)-this._actualWidth*this._transform._originX),this._transform._y=bc(this._displayY+this._computedHeight*(this._transform._originY-this._anchorY)-this._actualHeight*this._transform._originY);var a=0;this._actualWidth&&(a=bc(this._computedWidth/this._actualWidth),0===a||a||(a=1),this._transform._sx=a),this._actualHeight&&(a=bc(this._computedHeight/this._actualHeight),0===a||a||(a=1),this._transform._sy=a)},b.prototype.setProperty=function(a,b){if(arguments.length<2)for(var c in a)this.setProperty(c,a[c]);else{var d=this;if(a.indexOf(".")>=0){for(var e=a.split("."),f=-1,g=e.length-1;++f<g&&null!=d;)d,d=d[e[f]];d&&("function"==typeof d[e[f]]?d[e[f]].call(d,b):d.setAttribute?d.setAttribute(e[f],b):d[e[f]]=b)}else"!"!==a&&(d[a]=b)}},b.prototype.getProperty=function(a){var b=this;if("!"===a)return null;if(a.indexOf(".")>=0){for(var c=a.split("."),d=-1,e=c.length-1;++d<e&&null!=b;)b=b[c[d]];return b&&b[c[d]]}return b[a]},b.prototype.addEventListener=function(b,c,d,e){void 0===e&&(e=0),a.prototype.addEventListener.call(this,b,c,d,e),Vh[b]&&Qe.delegate(this,b)},b.prototype.dispatchEvent=function(b){if(!b.bubbles)return a.prototype.dispatchEvent.call(this,b);for(var c=[],d=this,e=b.type;d;)d.hasEventListener(e)&&c.push(d),d=d._parent;return this._dispatchPropagationEvent(b,c,c[0]===this?0:-1),!b._defaultPrevented},b.prototype._dispatchPropagationEvent=function(a,b,c){for(var d=0,e=b.length;d<e;++d){var f=b[d];if(a._setCurrentTarget(f),a._target=this,a._eventPhase=d===c?2:3,f._notifyListener(a),a._isPropagationStopped||a._isImmediatePropagationStopped)break}},b.prototype.enter=function(a){this._stage=a,this._visible?eb(this._dom):fb(this._dom),Qe.flushDelegates(this),a.context.components.add(this)},b.prototype.leave=function(){fb(this._dom),this._stage&&(this._stage.context.components.remove(this),this._stage=null)},b.prototype.destroy=function(){this._parent?this._parent.remove(this):this._stage&&(this.leave(),this.dispatchSimpleEvent(Wh.LEAVE_STAGE)),a.prototype.destroy.call(this),Qe.removeDelegates(this),this.destroyNode(this._node),this._transform.destroy(),this._transform=null,this._node=null,this._dom=null},b}(pc);Ge.register("default",null,{left:"x",top:"y",visible:"visible",opacity:"opacity",rotate:"transform.rotation",shadow:"shadow",width:"width",height:"height",zIndex:"zIndex"},function(a,b){return $g.KEYWORDS[a]?"transform."+a:null}),He.register("gotopage",Ie),He.register("unkown",Ie);var Je=function(a){function b(){a.call(this),this._textContent="",this._bgColor="transparent",this._shadow="none",this._paddingLeft=0,this._paddingRight=0,this._paddingTop=0}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--txt"),this._contentEl=this.node.el("div").addClass("leo-comp--txt__content"),this._textFormat=new Bi(this._contentEl,this),this._textFormat.deep=!0},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(this._textContent!==a){var b=this._textContent;this._contentEl.html(this._textContent=a,!0),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),d(b.prototype,"bgColor",{get:function(){return this._bgColor},set:function(a){if(this._bgColor!==a){this._dom.style.backgroundColor=a;var b=this._bgColor;this._bgColor=a,this.notifyPropertyChange("bgColor",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{get:function(){return this._shadow},set:function(a){var b=this._shadow;a!==b&&(Ve(this._dom,"textShadow",this._shadow=a),this.notifyPropertyChange("shadow",b))},enumerable:!0,configurable:!0}),d(b.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){if(this._paddingLeft!==a){var b=this._paddingLeft;this._dom.style.paddingLeft=(this._paddingLeft=a)+"px",this.notifyPropertyChange("paddingLeft",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){if(this._paddingRight!==a){var b=this._paddingRight;this._dom.style.paddingRight=(this._paddingRight=a)+"px",this.notifyPropertyChange("paddingRight",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){if(this._paddingTop!==a){var b=this._paddingTop;this._dom.style.paddingTop=(this._paddingTop=a)+"px",this.notifyPropertyChange("paddingTop",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{get:function(){return this._borderColor||"#fff"},set:function(a){if(a!==this._borderColor){var b=this._borderColor;this._borderColor=a,this.node.style("bordrColor",a),this.notifyPropertyChange("borderColor",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderWidth",{get:function(){return this._borderWidth||0},set:function(a){if(a!==this._borderWidth){var b=this._borderWidth;this._borderWidth=a,this.node.style("borderWidth",a),this._contentEl.style({left:-a,top:-a}),this.notifyPropertyChange("borderWidth",b)}},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this._textFormat.destroy(),this._textFormat=null,a.prototype.destroy.call(this),this._contentEl=null},b.textType=2,b}(Ie);Ge.register("text",null,{backgroundColor:"bgColor",topMargin:"paddingTop",marginTop:"paddingTop",marginLeft:"paddingLeft",marginRight:"paddingRight",borderWidth:"borderWidth",borderColor:"borderColor"},function(a){return Bi.compatProperty(a)}),He.register("text",Je);var Ke=function(a){function b(){a.call(this),this._textContent="",this._state=0,this._bgColor="transparent",this._bgSrc="",this._bgImage=null,this._borderWidth=3,this._borderRadius=0,this._borderColor="rgb(0,0,0)"}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--btn"),this._textFormat=new Ai(this._node,this),this._bindEvents()},b.prototype.createNode=function(){var a=vi("div");return this._button=a.el("button"),a},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(this._textContent!==a){var b=this._textContent;this._button.html(this._textContent=a),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),d(b.prototype,"state",{get:function(){return this._state},set:function(a){a>=0&&a<=2&&this._state!==a&&this._updateColor(this._state=a)},enumerable:!0,configurable:!0}),b.prototype._updateColor=function(a){var b=this._button[0],c=Ee.toHSLAArray(this._bgColor);a&&(c[2]=Math.max(0,c[2]-10)),b.style.backgroundColor=Ee.stringifyHSLA(c),c=Ee.toHSLAArray(this._borderColor),a&&(c[2]=Math.max(0,c[2]-10)),b.style.borderColor=Ee.stringifyHSLA(c)},d(b.prototype,"bgColor",{get:function(){return this._bgColor},set:function(a){if(this._bgColor!==a){var b=this._bgColor;this._button[0].style.backgroundColor=this._bgColor=a,this.notifyPropertyChange("bgColor",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"bgSrc",{get:function(){return this._bgSrc},set:function(a){var b=this;if((!a||"none"===a||a.indexOf(".")<0&&"data/image"!==a.substr(0,10))&&(a=""),this._bgSrc!==a){var c=this._bgSrc;a?(this._bgImage||(this._bgImage=new Image),this._bgImage.onload=this._bgImage.onerror=function(){b._bgImage.onload=b._bgImage.onerror=null,b._button[0].style.backgroundImage=a.indexOf(".")>=0?"url("+a+")":a,b._node.addClass("leo-comp--btn__has-bg"),b.dispatchSimpleEvent("bgLoad")},this._bgImage.src=this._bgSrc=a):(this._bgImage&&(this._bgImage.onload=this._bgImage.onerror=null,this._bgImage.src=Ac),this._button[0].style.backgroundImage="none",this._bgSrc=a,this._node.removeClass("leo-comp--btn__has-bg"),this.dispatchSimpleEvent("bgLoad")),this.notifyPropertyChange("bgSrc",c)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(a){if(this._borderWidth!==a){var b=this._borderWidth;this._button[0].style.borderWidth=(this._borderWidth=a)+"px",this.notifyPropertyChange("borderWidth",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(a){if(this._borderRadius!==a){var b=this._borderRadius;this._borderRadius=a;var c=uf("borderRadius"),d=a+"px";We(this._button[0],c,d),We(this._dom,c,d),this.notifyPropertyChange("borderRadius",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{get:function(){return this._borderColor},set:function(a){if(this._borderColor!==a){var b=this._borderColor;this._button[0].style.borderColor=this._borderColor=a,this.notifyPropertyChange("borderColor",b)}},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(){this._button[0].style.width=this.actualWidth+"px"},b.prototype._onActualHeightChange=function(){this._button[0].style.height=this.actualHeight+"px"},b.prototype._destroyBgImg=function(){this._bgImage&&(this._bgImage.onload=this._bgImage.onerror=null,this._bgImage.src=Ac,this._bgImage=null)},b.prototype._bindEvents=function(){var a=this;this.addEventListener("mouseenter",function(){a.state=1},null),this.addEventListener("mouseleave",function(){a.state=0},null);var b=0;this.addEventListener("tapstart",function(){b=a._state,a.state=2},null),this.addEventListener("tapend",function(){2===a._state&&(a.state=2===b?0:b,b=0)},null),this.watch("visible",function(){a.state=0},null)},b.prototype.destroy=function(){this._destroyBgImg(),this._textFormat.destroy(),this._textFormat=null,this._button=null,a.prototype.destroy.call(this)},b.textType=1,b}(Ie);Ge.register("button",null,{backgroundColor:"bgColor",backgroundImage:"bgSrc",borderRadius:"borderRadius",borderWidth:"borderWidth",borderColor:"borderColor"},function(a){return Ai.compatProperty(a)}),He.register("button",Ke);var Le=function(a){function b(){a.call(this),this._overflowMode="auto",this._children=[]}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._node.addClass("leo-comp--container"),this._initViewport()},d(b.prototype,"isSymbol",{get:function(){return this._isSymbol},enumerable:!0,configurable:!0}),b.prototype._asSymbol=function(){this._isSymbol=!0,this._resizeMode=1},d(b.prototype,"overflowMode",{get:function(){return this._overflowMode},set:function(a){var b=this._overflowMode;b!==a&&(this._overflowMode=a,this._dom.style.overflow=a,this.notifyPropertyChange("overflowMode",b))},enumerable:!0,configurable:!0}),d(b.prototype,"resizeMode",{get:function(){return this._resizeMode},set:function(a){this._isSymbol||Ii.fatal("leo_DOMComponentContainer.resizeMode","only symbol can switch the resizeMode"),this._setResizeMode(a)},enumerable:!0,configurable:!0}),d(b.prototype,"viewport",{get:function(){return this._viewport},enumerable:!0,configurable:!0}),b.prototype._initViewport=function(){this._viewport=new gf(this,0,0,0,0)},b.prototype._onActualWidthChange=function(a){this._viewport._rect.width=a},b.prototype._onActualHeightChange=function(a){this._viewport._rect.height=a},b.prototype.getMeasuredBound=function(a){return a||(a=new ci(0,0,0,0)),a=gf.getContentBound(this._children,a,!1),a.left-=this._viewport.left+this.anchorX*this.width,
a.top-=this._viewport.top+this.anchorY*this.height,a},b.prototype.autofit=function(){var a=this._viewport,b=gf.getContentBound(this._children,ci.identity,!1),c=b.left-a.left,d=b.top-a.top,e=(b.right,a.left,b.bottom,a.top,a.width),f=a.height;a.set(b.left,b.top,b.width,b.height);var g=this._transform.deferred;this._transform.deferred=!1,b.width&&(this.anchorX=(this.anchorX*e-c)/b.width),b.height&&(this.anchorY=(this.anchorY*f-d)/b.height),this._transform.deferred=g},b.prototype._updateChildrenDisplayPosition=function(){for(var a=this._children,b=this._viewport.left,c=this._viewport.top,d=-1,e=a.length;++d<e;){var f=a[d],g=f._transform.deferred;f._transform.deferred=!1,f.displayX=f.x-b,f.displayY=f.y-c,f._transform.deferred=g}},d(b.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),d(b.prototype,"size",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),b.prototype.each=function(a){for(var b=this._children,c=-1,d=b.length;++c<d;){var e=b[c];e[c]&&a.call(e,c)}return this},b.prototype.append=function(a){var b=this._children.length;return this._doAddChild(a,a._parent===this?b-1:b)},b.prototype.insert=function(a,b){return this._doAddChild(a,b)},b.prototype._doAddChild=function(a,c,d){if(a===this)return-1;(c<0||c>this._children.length)&&Ii.fatal("leo_DOMComponentContainer._doAddChild()","index %s is out of range [0, %s]",c,this._children.length);var e=a.parent;return e===this?(this.setChildIndex(a,c),c):(e&&e.remove(a),this._children.splice(c,0,a),a._setParent(this),a.zIndex=b.DEFAULT_ZINDEX+this._children.length,a.backface=this.backface,this._insertDOM(a._dom,c+1===this._children.length?null:this._children[c]._dom),this._updateDisplayPositionOf(a),this.dispatchSimpleEvent(Wh.CHILD_ADDED,c),this._stage&&!d&&(a.enter(this._stage),a.dispatchSimpleEvent(Wh.ENTER_STAGE)),c)},b.prototype._insertDOM=function(a,b){b?this._dom.insertBefore(a,b):this._dom.appendChild(a)},b.prototype._updateDisplayPositionOf=function(a){a.displayX=a.x-this._viewport.left,a.displayY=a.y-this._viewport.top},b.prototype.setChildIndex=function(a,c){var d=this._children,e=b.DEFAULT_ZINDEX,f=d.indexOf(a);if(f<0&&Ii.fatal("leo_DOMComponentContainer._doSetChildIndex()","child is not in current container"),f!==c)if(d.splice(f,1),c<0||d.length<=c)d.push(a),a.zIndex=e+d.length;else{this._children.splice(c,0,a),a.zIndex=e+c+1;for(var g=d.length;++c<g;)a.zIndex=e+c+1}},b.prototype.remove=function(a){a._parent!==this&&Ii.fatal("leo_DOMComponentContainer.remove()","child is not in current container");var b=this._children.indexOf(a);if(b>=0)return this._doRemoveChild(b),b;Ii.fatal("leo_DOMComponentContainer.remove()","child is not in the children list")},b.prototype.removeAt=function(a){if(a>=0&&a<this._children.length)return this._doRemoveChild(a);Ii.fatal("leo_DOMComponentContainer.removeAt()","index %s is out of range [0, %s]",a,this._children.length-1)},b.prototype.removeAll=function(){for(var a=this._children,b=a.length;--b>=0;)this._doRemoveChild(b,!0)},b.prototype._doRemoveChild=function(a,c,d){var e=this._children,f=e[a],g=b.DEFAULT_ZINDEX;if(this.dispatchSimpleEvent(Wh.CHILD_REMOVED,a),f._stage&&!d&&(f.leave(),f.dispatchSimpleEvent(Wh.LEAVE_STAGE)),f._setParent(null),this._removeDOM(f._dom),e.splice(a--,1),!c)for(var h=e.length;++a<h;)e[a].zIndex=g+a+1;return f},b.prototype._removeDOM=function(a){this._dom.removeChild(a)},b.prototype.at=function(a){if(a>=0&&a<this._children.length)return this._children[a];Ii.fatal("leo_DOMComponentContainer.at()","index %s is out of range [0, %s]",a,this._children.length-1)},b.prototype.indexOf=function(a){return a._parent!==this?-1:this._children.indexOf(a)},b.prototype.contains=function(a){for(;a;){if(a===this)return!0;a=a._parent}return!1},b.prototype.getChildByName=function(a){for(var b=this._children,c=0,d=b.length;c<d;++c){var e=b[c];if(e.name===a)return e}return null},b.prototype.replace=function(a,b){if(a>=0&&a<this._children.length){if(b._parent===this){if(a===this.indexOf(b))return b;var c=this.removeAt(a);return this.setChildIndex(b,a),c}var c=this.removeAt(a);return this.insert(b,a),c}Ii.fatal("leo_DOMComponentContainer.replace()","index %s is out of range [0, %s]",a,this._children.length-1)},b.prototype.enter=function(b){a.prototype.enter.call(this,b);for(var c=this._children,d=Wh.ENTER_STAGE,e=-1,f=c.length;++e<f;){var g=c[e];g.enter(b),g.dispatchSimpleEvent(d)}},b.prototype.leave=function(){a.prototype.leave.call(this);for(var b=this._children,c=Wh.LEAVE_STAGE,d=-1,e=b.length;++d<e;){var f=b[d];f.leave(),f.dispatchSimpleEvent(c)}},b.prototype.destroy=function(){var b=this._children.concat();this.removeAll();for(var c=b.length;--c>=0;)b[c].destroy();a.prototype.destroy.call(this)},b.group=function(a,c,d){for(var e=d?b.createSymbol():new b,f=-1,g=a.length;++f<g;)e.append(a[f]);var h=gf.getContentBound(e._children,ci.identity);return e._viewport.set(h.left,h.top,h.width,h.height),e.x=h.left,e.y=h.top,c&&c.append(e),e},b.ungroup=function(a){a._isSymbol&&Ii.fatal("leo_DOMComponentContainer::ungroup()","Cannot ungroup a symbol");for(var b=a._children,c=a._parent,d=a.getBoundingRect(ci.identity),e=d.left+a.x,f=d.top+a.y;b.length;){var g=b[0];g.x=g.displayX+e,g.y=g.displayY+f,a._doRemoveChild(0),c&&c.append(g)}c&&c.remove(a)},b.flatten=function(a){a._isSymbol&&Ii.fatal("leo_DOMComponentContainer::flatten()","Cannot flatten a symbol");for(var c=a._children,d=a._parent,e=a.getBoundingRect(ci.identity),f=e.left+a.x,g=e.top+a.y;c.length;){var h=c[0];h instanceof b&&!h._isSymbol?b.flatten(h):(h.x=h.displayX+f,h.y=h.displayY+g,a._doRemoveChild(0),d&&d.append(h))}d&&d.remove(a)},b.createSymbol=function(){var a=new b;return a._asSymbol(),a},b.convertToSymbol=function(a,c){return b.group(a,c,!0)},b.DEFAULT_ZINDEX=1,b}(Ie);He.register("group",Le);var Me=function(a){function b(b){a.call(this),this.target=b,this.prevContext=null,this.components=new Ne,this._variables={}}return oc(b,a),b.prototype.getVariable=function(a){return this.containsOwnVariable(a)?this._variables[a]:this.prevContext&&this.prevContext.getVariable(a)},b.prototype.getInnerVariable=function(a){return this.getVariable("\0"+a)},b.prototype.defineVariable=function(a,b){"object"!=typeof b||"function"!=typeof b.get&&"function"!=typeof b.set?this._variables[a]=b:d(this._variables,a,b)},b.prototype.getOwnVariable=function(a){return this._variables[a]},b.prototype.containsOwnVariable=function(a){return this._variables.hasOwnProperty(a)},b.prototype.containsVariable=function(a){return this.containsOwnVariable(a)||this.prevContext&&this.prevContext.containsVariable(a)},b.prototype.setVariable=function(a,b){return this._variables[a]=b},b.prototype.setInnerVariable=function(a,b){return this._variables["\0"+a]=b},b.prototype.removeVariable=function(a){if(this.containsOwnVariable(a)){var b=this._variables[a];return delete this._variables[a],b}return c},b.prototype.destroy=function(){this.target=null,this._variables=null,this.prevContext=null,this.components=null},b.CONTEXT_UKEY="__context_val__",b}(nc),Ne=function(){function a(){this._map={},this._nameMap={}}return a.prototype.queryByGuid=function(a){return this._map[a]},a.prototype.queryByName=function(a){return this.queryByGuid(this._nameMap[a])},a.prototype.queryByElement=function(a){return this.queryByGuid(+a.getAttribute("data-guid"))},a.prototype.add=function(a){this._map[a.guid]||(this._map[a.guid]=a,this._nameMap[a.name]=a.guid)},a.prototype.updateName=function(a,b){this._nameMap[b]&&(delete this._nameMap[b],this._nameMap[a.name]=a.guid)},a.prototype.remove=function(a){this._map[a.guid]&&delete this._map[a.guid]},a}(),Oe=function(b){function e(){b.call(this)}return oc(e,b),e.prototype.init=function(){var d=this;b.prototype.init.call(this);var e=this.node.addClass("leo-comp--html-embed-box");/^((?!chrome).)*safari/i.test(navigator.userAgent)&&e.style({webkitOverflowScrolling:"touch",overflow:"scroll"});this.iFrame=this.node.el("iframe").attr({frameBorder:0,onmousewheel:!0,allowfullscreen:"",mozallowfullscreen:!0,webkitallowfullscreen:!0,width:"100%",height:"100%"})[0];this.watch("visible",function(){this.visible?this.insertIFrame():this.removeIFrame()},this),fh(a,"message",this.messageListener=function(a){var b=a.data;if(b){var e=b.__leo_guid__;if(d.__leo_guid__===e){var f=d.iFrame,g=f.contentDocument,h=g.body,i=g.documentElement,j=d.actualWidth,k=d.actualHeight;f.width=j<0||j==c?d.actualWidth=d.getMaxWidth(h,i):j,f.height=k<0||k==c?d.actualHeight=d.getMaxHeight(h,i):k}}})},e.prototype.getMaxWidth=function(a,b){return Math.max(a.scrollWidth,a.offsetWidth,b.clientWidth,b.scrollWidth,b.offsetWidth)},e.prototype.getMaxHeight=function(a,b){return Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight)},e.prototype.insertIFrame=function(){var a=this.iFrame;a.src="javascript:document.write('"+this.parseCode(this.embedCode).replace(/'/g,"\\'").replace(/%22/g,"").replace(/%27/g,"")+"');",this.node.append(a)},e.prototype.removeIFrame=function(){this.iFrame.parentNode&&this.iFrame.parentNode.removeChild(this.iFrame)},e.prototype.parseCode=function(a){var b=Ad("div");b.innerHTML=a;for(var c,d=b.childNodes,e=0,f=0;c=d[e++];)if("SCRIPT"===c.nodeName&&c.src){f++;var g=c.onload;g=g?"("+g.toString()+").apply(this,arguments);":"",c.setAttribute("onload","leo_loadCallback();"+g)}var h="<style>body {margin: 0;padding: 0;}</style><script>var count = 0;var LEO_SCRIPT_COUNT = "+f+";function leo_loadCallback() {if (++count !== LEO_SCRIPT_COUNT) return;setTimeout(function(){var windowLaodedEvent = document.createEvent('CustomEvent');windowLaodedEvent.initCustomEvent('load',true,true);window.dispatchEvent(windowLaodedEvent);var documentLoadedEvent = document.createEvent('Event');documentLoadedEvent.initEvent('DOMContentLoaded',true,true);window.document.dispatchEvent(documentLoadedEvent);}, 0);}<\/script>",i="<script>window.parent.postMessage({ __leo_guid__: "+this.__leo_guid__+" }, '*');<\/script>";return h=h+b.innerHTML+i,b.innerHTML="",b=null,h},d(e.prototype,"embedCode",{get:function(){return this._embedCode},set:function(a){this._embedCode!==a&&(this._embedCode=a,this.visible&&this.insertIFrame())},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){b.prototype.destroy.call(this),ih(a,"message",this.messageListener),this.iFrame=null},e}(Ie);He.register("htmlembedbox",Oe),Ge.register("htmlembedbox",null);var Pe=function(b){function c(){b.call(this),this.fsed=!1}return oc(c,b),c.prototype.createNode=function(){var a=this,b=vi("div").addClass("leo-comp--embed-web"),c=this.container=b.el("div").addClass("embed-web--container");c.bind("touchstar",function(b){parseInt(a.toolbar.style("bottom"))?a.hideToolbar():a.showToolbar()});this.iframe=c.el("iframe").addClass("embed-web--iframe").attr({frameborder:0,allowfullscreen:!0});return/^((?!chrome).)*safari/i.test(navigator.userAgent)&&c.style({webkitOverflowScrolling:"touch",overflow:"scroll"}),b},c.prototype.createControls=function(){var a=this,b=this.container,c=b.el("div").addClass("embed-web--toolbar-cover");c.bind("mouseover",function(){clearTimeout(d),a.showToolbar()});var d;c.bind("mouseout",function(){d=setTimeout(function(){a.hideToolbar()},1e3)}),(this.toolbar=c.el("div").addClass("embed-web--toolbar")).el("div").addClass("toolbar--fs").attr("title","Open in new window.").bind("tap",function(){a.openInNewWindow()})},c.prototype.openInNewWindow=function(){a.open(this._src,"_blank","")},c.prototype.showToolbar=function(){clearTimeout(this.enterTimeout),this.toolbar&&this.toolbar.style({bottom:0})},c.prototype.hideToolbar=function(){clearTimeout(this.enterTimeout),this.toolbar&&this.toolbar.style({bottom:-50})},c.prototype.enter=function(a){var c=this;b.prototype.enter.call(this,a),this.enterTimeout=setTimeout(function(){c.hideToolbar()},3e3)},c.prototype.destroy=function(){b.prototype.destroy.call(this),this.container=null,this.iframe=null},d(c.prototype,"controls",{set:function(a){this._controls!==a&&(this._controls=a,a&&this.createControls())},enumerable:!0,configurable:!0}),d(c.prototype,"url",{set:function(a){this._url!==a&&(this._url=a,a.indexOf("://")<0&&(a="http://"+a),this.iframe.attr("src",a),this._src=a)},enumerable:!0,configurable:!0}),c}(Ie);He.register("embedweb",Pe);var Qe=function(){function a(){}return a._hasEventListened=function(b,c){return!(!a._eventTable[b.guid]||!a._eventTable[b.guid].events[c])},a._addDelegateListener=function(b,c,d){var e=a._eventTable[b.guid];e||(e=a._eventTable[b.guid]={target:b,events:{}}),e.events[c]=!0,fh(b.dom,c,d?a.onProxy:a.onDelegate)},a.removeDelegateListeners=function(b,c){var d=a._eventTable[b.guid];if(d){var e=ih,f=c?a.onProxy:a.onDelegate,g=b.dom,h=d.events;for(var i in h)e(g,i,f);d.target=null,d.events=null,delete a._eventTable[b.guid]}},a.flushDelegates=function(b){var c=a._cache[b.guid],d=b.stage,e=a._hasEventListened,f=a._addDelegateListener;if(c&&d){for(var g=(d.dom,-1),h=c.length;++g<h;){var i=c[g];e(d,i)||f(d,i)}delete a._cache[b.guid]}},a.removeDelegates=function(b){a._cache[b.guid]&&delete a._cache[b.guid],a.removeDelegateListeners(b,!0)},a.delegate=function(b,c){if(a.SELF_PROXY_MAP[c])return void this._addDelegateListener(b,c,!0);var d=b.stage;if(d)a._hasEventListened(d,c)||a._addDelegateListener(d,c);else{var e=a._cache[b.guid];e||(e=a._cache[b.guid]=[]),e.indexOf(c)<0&&e.push(c)}},a.onProxy=function(b){var c=a._eventTable[b.target.getAttribute("data-guid")];if(c){var d=c.target;d.stage&&d.DOMEventsEnabled&&d.dispatchEvent(b)}},a.onDelegate=function(a){var b=Ue.stages[a.currentTarget.getAttribute("data-guid")];if(b){var c=+a.target.getAttribute("data-guid");if(!c)for(var d=a.target.parentNode,e=a.currentTarget;!c&&d&&d!==e;)c=+d.getAttribute("data-guid"),d=d.parentNode;var f;c&&(f=b.context.components.queryByGuid(c))&&f.DOMEventsEnabled&&f.dispatchEvent(a)}else Ii.fatal("leo_DOMEventDelegate.onDelegate()","Cannot find stage")},a._cache={},a._eventTable={},a.SELF_PROXY_MAP={mouseenter:!0,mouseleave:!0},a}(),Re=function(a){function b(){a.call(this),this.repeatDelay=500,this.duration=2e3}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.canvas=this.node.addClass("leo-comp--hotspot").el("canvas")[0],this.watch("visible",this.playPauseAnimation,this),this.color="#e55"},b.prototype.playPauseAnimation=function(){var a=this.animation;this.visible&&this.stage?(a||(a=this.createAnimation(),this.animation=a),a.resume()):a&&a.stop()},b.prototype.createAnimation=function(){var a=this;if(this.actualWidth&&this.actualHeight){var b=Sc.create(null,this.duration,{onRender:function(b){var c=a.canvas.getContext("2d"),d=a.actualWidth,e=a.actualHeight,f=Math.min(d,e)/2,g=.35*f,h=d/2,i=e/2,j=a._color;c.clearRect(0,0,d,e),c.fillStyle=j,c.beginPath(),c.arc(h,i,g,0,2*Math.PI,!1),c.fill(),c.closePath();var k=.25*g,l=.6,m=0,n=f-k/2;c.beginPath(),c.arc(h,i,m+(n-m)*b,0,2*Math.PI,!1),c.lineWidth=k,c.strokeStyle=Ee.transparentize(j,b>l?1-(b-l)/(1-l):1),c.stroke(),c.closePath()}},{repeat:1/0,easing:"easeInSine",repeatDelay:this.repeatDelay});return Wc.getInstance().add(b),b.stop(),b}},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation&&this.animation.destroy(),this.canvas=null,this.unwatch("visible",this.playPauseAnimation,this)},b.prototype._onActualWidthChange=function(){this.canvas.width=this.actualWidth},b.prototype._onActualHeightChange=function(){this.canvas.height=this.actualHeight},d(b.prototype,"color",{set:function(a){(a=Ee.parseToString(a))&&this._color!==a&&(this._color=a)},enumerable:!0,configurable:!0}),b}(Ie);Ge.register("hotspot",null,{hotSpotColor:"color"}),He.register("hotspot",Re);var Se=function(a){function b(){a.call(this),this._readyState=0,this._filter=null,this._borderWidth=0}return oc(b,a),b.prototype.createNode=function(){return vi("div").addClass("leo-comp--img")},b.prototype.showLoading=function(){this.node.addClass("leo-loading")},b.prototype.hideLoading=function(){this.node.removeClass("leo-loading")},b.prototype.fadeIn=function(a){a.node.style.opacity=1},b.prototype.fadeOut=function(a){a.node.style.opacity=0},b.prototype.load=function(){this.readyState=1,this.src=this._src},b.prototype.newImage=function(){var a=this,b=new Image,c={};c.left=c.top=-this.borderWidth+"px",this.readyState>1&&(c.transition="opacity .3s"),Ye(b,c),this.node.prepend(b);var d={onload:null,state:0,node:b};return b.onload=function(){a.onload(d,2)},b.onerror=function(){a.onload(d,4)},d},b.prototype.onload=function(a,b){var c=a.node;a.state=b,Ye(c,{width:"",height:""}),a.width=c.naturalWidth||c.width,a.height=c.naturalHeight||c.height,Ye(c,{width:this.actualWidth,height:this.actualHeight}),a.onload&&(a.onload.call(this,b),a.onload=null)},b.prototype._onActualHeightChange=function(){this.resize(),this.updateReflection("height",this._actualHeight)},b.prototype._onActualWidthChange=function(){this.resize(),this.updateReflection("width",this._actualWidth)},b.prototype._onXChange=function(){var a=this._reflection,b=this.x;if(a&&b){var c=a.canvas;Ye(c,"tx",this.x)}},b.prototype._onYChange=function(){var a=this._reflection,b=this.y;if(a&&b){var c=a.canvas;Ye(c,"ty",this.y)}},b.prototype.resize=function(){var a=this.image;a&&Ye(a.node,{width:this.actualWidth,height:this.actualHeight}),this.borderRadius=this.borderRadius},b.prototype.updateReflection=function(a,b){var c=this._reflection;c&&(c[a]=b)},b.prototype.appendCanvas=function(a){cb(Ye(a,{tx:this.x,ty:this.y,transformOrigin:"50% 100%",scaleY:-1,zIndex:this.zIndex}),this.dom)},b.prototype.enter=function(b){a.prototype.enter.call(this,b);var c=this._reflection;c&&this.appendCanvas(c.canvas)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._filter&&this._filter.destroy();var b=this.image;b&&1===b.state&&(b.node.src=Ac)},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"readyState",{get:function(){return this._readyState},set:function(a){this._readyState=a},enumerable:!0,configurable:!0}),d(b.prototype,"filter",{get:function(){return this._filter?this._filter:this._filter=new Oh(this.node[0],this)},enumerable:!0,configurable:!0}),d(b.prototype,"src",{get:function(){return this.__src},set:function(a){var b=this;if((a=a||Ac)!==this.__src&&this.readyState>0){this.__src=a;var c=this.image,d=this.prevImage||this.newImage();c&&(c.onload=null,this.fadeOut(c)),this.showLoading();var e=function(a){b.hideLoading(),b.fadeIn(d),1===b.readyState&&(b.readyState=a,b.dispatchSimpleEvent("load"),Ye(d.node,"transition","opacity .3s")),b.updateReflection("image",d.node)};d.onload=e,d.src===a?d.state>1&&this.onload(d,d.state):(d.state=1,d.node.src=d.src=a),this.image=d,this.prevImage=c}this._src=a},enumerable:!0,configurable:!0}),d(b.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(a){if(this._borderWidth!==a){this._borderWidth=a,this.node.style("borderWidth",a);var b=this.image;b&&Ye(b.node,{left:-a,top:-a}),this.updateReflection("borderWidth",a)}},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{get:function(){return this._borderColor},set:function(a){this._borderColor!==a&&(this._borderColor=a,this.node.style("borderColor",a),this.updateReflection("borderColor",a))},enumerable:!0,configurable:!0}),d(b.prototype,"borderRadius",{get:function(){return this._borderRadius},set:function(a){this._borderRadius=a,a/=2;var b,c=Math.max(this._actualWidth,this._actualHeight),d=Math.min(this._actualWidth,this._actualHeight),e=a/100*c;b=e>d/2?a+"%":e+"px",this.node.style("borderRadius",b),this.updateReflection("borderRadius",a)},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{get:function(){return this._shadow},set:function(a){this._shadow!==a&&(this._shadow=a,this.node.style("boxShadow",a))},enumerable:!0,configurable:!0}),d(b.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(a){a!==this._backgroundColor&&(this._backgroundColor=a,this.image&&(this.image.node.style.backgroundColor=a),this.updateReflection("backgroundColor",a))},enumerable:!0,configurable:!0}),d(b.prototype,"reflection",{get:function(){return this._reflection},set:function(a){if(a&&!this._reflection){var b=new qi({src:this._src,width:this._actualWidth,height:this._actualHeight,borderWidth:this._borderWidth,borderColor:this._borderColor,borderRadius:this._borderRadius,backgroundColor:this._backgroundColor,depth:a.depth,offset:a.offset,opacity:a.opacity,originX:a.originX,originY:a.originY});this.appendCanvas(b.canvas),this._onXChange(),this._onYChange(),this.stage&&this.visible&&b.render(),this.watch("visible",function(){this._stage&&this._visible&&this._reflection&&this._reflection.render()},this),this._reflection=b}else this._reflection&&(this._reflection.destroy(),this._reflection=null)},enumerable:!0,configurable:!0}),b}(Ie);Ge.register("image",null,{borderWidth:"borderWidth",borderColor:"borderColor",borderRadius:"borderRadius",frameColor:"backgroundColor"},function(a){return Oh.KEYWORDS[a]?"filter."+a:null}),He.register("image",Se);var Te=function(a){function b(){a.call(this),this.readyState=0,this.node.addClass("leo-reflection"),this.img=new Se,eb(this.img.dom),this.node.append(this.img.node),this.watch("reflection src borderWidth actualWidth actualHeight borderRadius borderColor backgroundColor",this.updateImage,this),this.img.addEventListener("load",this.onload,this)}return oc(b,a),d(b.prototype,"image",{get:function(){return this.img.image},enumerable:!0,configurable:!0}),d(b.prototype,"prevImage",{get:function(){return this.img.prevImage()},enumerable:!0,configurable:!0}),b.prototype.updateImage=function(a){var b=a.type,c=b.substring(0,b.length-6);this.img[c]=this[c]},b.prototype.load=function(){this.readyState=1,this.img.load()},b.prototype.onload=function(){this.readyState=this.img.readyState,this.dispatchSimpleEvent("load")},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this.img.destroy(),a.prototype.destroy.call(this)},b}(Ie);Ra(Te.prototype,{src:c,borderWidth:c,borderColor:c,borderRadius:c,backgroundColor:c,reflection:c}),He.register("image with reflectoin",Se);var Ue=function(a){function b(b){a.call(this),this.responder=b,this.rootContext=new ff(this),this._context=this.rootContext,this._prevScene=null,this._currentScene=null,this.fastTransition=!0,this.transitionConfig={enter:{name:"Show",duration:0,easing:"easeInQuad"},leave:{name:"Hide",duration:0,easing:"easeOutQuad"}},this.isInTransition=!1,this._transition=null}return oc(b,a),d(b.prototype,"context",{get:function(){return this._context},set:function(a){this._context!==a&&(null==a&&(a=this.rootContext),a!==this.rootContext&&(a.prevContext=this.rootContext),this._context=a)},enumerable:!0,configurable:!0}),b.prototype.addScene=function(a){return a.visible=!1,this._doAddChild(a,this._children.length,!0)},b.prototype.removeScene=function(a){var b=this;if(this._currentScene===a){this.currentScene=null;var c=function(){b.removeEventListener("transitionend",c,null),b.remove(a)};this.addEventListener("transitionend",c,null)}else this.remove(a)},d(b.prototype,"currentScene",{get:function(){return this._currentScene},set:function(a){if(this._currentScene!==a){var b=this._currentScene;this._setScene(a)&&this.notifyPropertyChange("currentScene",b)}},enumerable:!0,configurable:!0}),b.prototype._setScene=function(a){if(this.isInTransition){if(!this.fastTransition)return!1;this.stopTransition()}return a&&!this.contains(a)&&this.addScene(a),this._prevScene=this._currentScene,this._currentScene=a,this._startTransition(),!0},b.prototype._startTransition=function(){var a=this._currentScene,b=this._prevScene;if(a&&b){this.enterScene(a);var c=a.transitionConfig;this._transition=Rc.transition(b,a,c.name,c.duration,c)}else if(a||b){var d=a,c=this.transitionConfig.enter;b?(d=b,c=this.transitionConfig.leave):this.enterScene(a),this._transition=Rc.animate(d,c.name,c.duration,c)}this._transition&&(this.isInTransition=!0,this._transition.addEventListener("end",this.stopTransition,this),this.dispatchSimpleEvent("transitionStart"))},b.prototype.stopTransition=function(){null!=this._transition&&(this._transition.removeEventListener("end",this.stopTransition,this),this._transition.currentTotalTime=this._transition.totalDuration,this._transition=null,this.isInTransition=!1,this._prevScene&&(this.leaveScene(this._prevScene),this._prevScene=null),this.dispatchSimpleEvent("transitionEnd",this._currentScene))},b.prototype.enterScene=function(a){return this.contains(a)&&(this.context=a.context,a.enter(this),a.dispatchSimpleEvent(Wh.ENTER_STAGE)),this},b.prototype.leaveScene=function(a){if(this.contains(a)){var b=this.context;this.context=a.context,a.leave(),this.context=b,a.dispatchSimpleEvent(Wh.LEAVE_STAGE)}return this},b.prototype.init=function(){a.prototype.init.call(this),this._asSymbol(),this._node.addClass("leo-comp--stage"),b.stages[this.guid]=this},b.prototype.leave=function(){this.stopTransition(),this.context=null,a.prototype.leave.call(this)},b.prototype.destroy=function(){Qe.removeDelegateListeners(this),this.stopTransition(),a.prototype.destroy.call(this),this.context=null,this.rootContext.destroy(),this.rootContext=null,delete b.stages[this.guid]},b.stages={},b}(Le);He.register("stage",Ue);var Ve=function(a,b,c){var d=Rh[b];!c&&0!==c||!isFinite(c)||Qh[b]||(c+="px"),d&&d.set?d.set(a,c,b):a.style[uf(b)||b]=c+""},We=function(a,b,c){var d=Rh[b];d&&d.set?d.set(a,c,b):a.style[b]=c+""},Xe=function(a,b,c){var d,e=Rh[b];return b=uf(b)||b,d=e&&e.get?e.get(a,b):ob(a,b),c?parseFloat(d)||0:d},Ye=function(a,b,c){if(arguments.length<3){if("string"==typeof b)return Xe(a,b,!1);for(var d in b)Ve(a,d,b[d]);return a}return"boolean"==typeof c?Xe(a,b,c):(Ve(a,b,c),a)},Ze=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--link"),this._bindEvents(),this.addEventListener("enterComplete",function(){this.state=0},this)},b.prototype.enter=function(b){a.prototype.enter.call(this,b);var c="rgba(255, 255, 255, .5)";Ee.isTransparent(this.defaultColor)?Ee.isTransparent(this.hoverColor)?Ee.isTransparent(this.activeColor)||(c=this.activeColor):c=this.hoverColor:c=this.defaultColor,Ye(this.dom,"backgroundColor",c)},b.prototype.leave=function(){a.prototype.leave.call(this),this.state=0},d(b.prototype,"state",{get:function(){return this._state},set:function(a){if(this._state!==a){this._state=a;var b=this.defaultColor;1===a?b=this.hoverColor:2===a&&(b=this.activeColor),this._updateColor(b)}},enumerable:!0,configurable:!0}),b.prototype._updateColor=function(a){Ye(this.dom,"backgroundColor",a)},b.prototype._bindEvents=function(){this.addEventListener("mouseenter",function(){this.state=b.HOVER},this),this.addEventListener("mouseleave",function(){this.state=b.DEFAULT},this),this.addEventListener("tapstart",function(){this.state=b.ACTIVE},this),this.addEventListener("tapend",function(){this.state=b.HOVER},this)},b.DEFAULT=0,b.HOVER=1,b.ACTIVE=2,b}(Ie);Ge.register("link",null,{linkNormalColor:"defaultColor",linkOverColor:"hoverColor",linkDownColor:"activeColor",shadow:"!"}),He.register("link",Ze);var $e=function(a){function b(){a.call(this),this.readyState=0,this.loadonce=!1,this.node.addClass("leo-comp--movingbackground");var b=Ad("canvas");this.node.append(b),this.canvas=b,this.ctx=b.getContext("2d"),this.animation=this.globalAnimation(),this.watch("visible",this.playAnimation,this)}return oc(b,a),b.prototype.playAnimation=function(){var a=this.animation;this.dom.parentNode&&this.visible&&this.data?a.resume():a.pause()},b.prototype.globalAnimation=function(){var a=this,b=Sc.create(null,1e9,{onRender:function(b,c,d){var e=a.data,f=a.canvas,g=a.ctx,h=e.size,i=e.dx,j=e.dy,k=e.flag?j:i,l=(c-d)/1e3*a.speed;e.type?k-=l:k+=l,k%=h,k>0?k-=h:k<-h&&(k+=h),e.flag?j=e.dy=k:i=e.dx=k,g.clearRect(0,0,f.width,f.height),g.drawImage(a.icanvas,i,j)}},{easing:"linear",repeat:1/0});return Wc.getInstance().add(b.pause()),b},b.prototype.update=function(){var a=this.img;if(a){var b=this.actualWidth,c=this.actualHeight,d=a.width,e=a.height;if(d&&e&&c&&b){var f,g,h=this.direction,i=this.getLength,j="top"===h||"bottom"===h,k=this.canvas;k.width=b,k.height=c;var l=this.icanvas,m=this.ictx;l||(l=this.icanvas=k.cloneNode(!1),m=this.ictx=l.getContext("2d")),g=i(e,c),f=i(d,b),l.width=f,l.height=g;var n,o=Math.ceil(f/d),p=Math.ceil(g/e),q=0;for(m.clearRect(0,0,f,g);q<o;q++)for(n=0;n<p;n++)this.drawImageToCavans(m,a,q,n,d,e);var r,s,t=this.data;t?(r=t.dx,s=t.dy):(r=0,s=0),t=this.data={flag:j,type:"left"===h||"top"===h,size:j?e:d,dx:r,dy:s},this.playAnimation()}}},b.prototype.drawImageToCavans=function(a,b,c,d,e,f){a.drawImage(b,c*e,d*f)},b.prototype.getLength=function(a,b){return a>=b?a+b:Math.ceil(b/a)*a+a},b.prototype._onDirectionChange=function(){this.update()},b.prototype._onSrcChange=function(){this.animation.pause(),this.readyState=0,this.loadonce&&this.load()},b.prototype.load=function(){var a=this;if(!(this.readyState>0)){this.readyState=1,this.loadonce=!0;var b=this.img;b?b.onload=b.onerror=null:b=this.img=new Image,b.onload=function(){b.onload=null,a._onload(2),a.update()},b.onerror=function(){b.onerror=null,a._onload(4)},b.src=this.src}},b.prototype._onload=function(a){this.readyState=a,this.dispatchSimpleEvent("load")},b.prototype._onActualWidthChange=function(){this.update()},b.prototype._onActualHeightChange=function(){this.update()},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation.destroy();var b=this.img;b.onload=b.onerror=null},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),b}(Ie);Ra($e.prototype,{direction:"right",speed:20,src:null}),He.register("movingbackground",$e);var _e=function(a){function b(){a.apply(this,arguments),this.anchorX=.5,this.anchorY=.5,this.timer=0,this._backgroundImage="",this._direction=0,this._speed=0,this._mode="normal",this.moveMode=this.normal,this._spin=0,this._zoomSpeedX=0,this._zoomSpeedY=0,this._zoomWidth=0,this._zoomHeight=0}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.img=this.node.el("img").addClass("leo-comp--moving-object-img"),this.watch("visible",this.changeVisible,this)},b.prototype.leave=function(){a.prototype.leave.call(this),this.changeVisible()},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.changeVisible()},b.prototype.changeVisible=function(){this.animation||(this.animation=this.createAnimation()),this.animation[this.visible&&this.stage?"resume":"pause"]()},b.prototype.createAnimation=function(){var a=this,b=Sc.create(null,1/0,{onRender:function(b,d,e){var f=(d-e)/1e3,g=a.timer+=f;if(a.img.style("rotation",g*a._spin%360),a._zoomSpeedX>0){var h=Math.abs(a._actualWidthCopy-a._zoomWidth),i=g*a._zoomSpeedX%(2*h);i>h&&(i=2*h-i),a.actualWidth=a._actualWidthCopy+i*(a._actualWidthCopy>=a._zoomWidth?-1:1)}if(a._zoomSpeedY>0){var j=Math.abs(a._actualHeightCopy-a._zoomHeight),k=g*a._zoomSpeedY%(2*j);k>j&&(k=2*j-k),a.actualHeight=a._actualHeightCopy+k*(a._actualHeightCopy>=a._zoomHeight?-1:1)}if(a._initX!==c&&a._initY!==c){var l=a.x+f*a._speed*Math.cos(a._direction/180*Math.PI),m=a.y-f*a._speed*Math.sin(a._direction/180*Math.PI);a.moveMode(parseFloat(l.toFixed(4)),parseFloat(m.toFixed(4)))}}},{easing:"linear"});return Wc.getInstance().add(b.pause()),b},b.prototype.collision=function(a,b){var c=this.getTransformBound(),d=this._direction,e=this.stage.actualWidth-c.width-c.left,f=-c.left,g=this.stage.actualHeight-c.height-c.top,h=-c.top;(a>e&&this.isQuadrant(d,1,4)||a<f&&this.isQuadrant(d,2,3))&&(this.direction=180-d),(b>g&&this.isQuadrant(d,3,4)||b<h&&this.isQuadrant(d,1,2))&&(this.direction=360-d),a>e&&this.isQuadrant(d,1,4)&&(a=e),a<f&&this.isQuadrant(d,2,3)&&(a=f),b>g&&this.isQuadrant(d,3,4)&&(b=g),b<h&&this.isQuadrant(d,1,2)&&(b=h),this.x=a,this.y=b},b.prototype.alternate=function(a,b){var c=this.getTransformBound(),d=this._direction,e=this.stage.actualWidth-c.width-c.left,f=-c.left,g=this.stage.actualHeight-c.height-c.top,h=-c.top
;(a>e&&this.isQuadrant(d,1,4)||a<f&&this.isQuadrant(d,2,3)||b>g&&this.isQuadrant(d,3,4)||b<h&&this.isQuadrant(d,1,2))&&(this.direction=180+d),a>e&&this.isQuadrant(d,1,4)&&(a=e,b=-this.getY(a)),a<f&&this.isQuadrant(d,2,3)&&(a=f,b=-this.getY(a)),b>g&&this.isQuadrant(d,3,4)&&(b=g,a=this.getX(-b)),b<h&&this.isQuadrant(d,1,2)&&(b=h,a=this.getX(-b)),this.x=a,this.y=b},b.prototype.normal=function(a,b){var c=this.getTransformBound(),d=10,e=this._direction;if(90===e||270===e){var f=this.stage.actualHeight-c.top+d,g=-c.height-c.top-d;b<g&&(b=f,this.timer=0),b>f&&(b=g,this.timer=0)}else{var h=0===e||180===e?-1/0:this.getX(-this.stage.actualHeight+c.top),i=0===e||180===e?1/0:this.getX(c.height+c.top),j=[-c.width-c.left,h,i,this.stage.actualWidth-c.left];j.sort(function(a,b){return a-b}),j[2]+=d,j[1]-=d,a>j[2]&&(a=j[1],b=-this.getY(a)||b,this.timer=0),a<j[1]&&(a=j[2],b=-this.getY(a)||b,this.timer=0)}this.x=a,this.y=b},b.prototype.getX=function(a){return(a-(-this._initY-Math.tan(this._direction/180*Math.PI)*this._initX))/Math.tan(this._direction/180*Math.PI)},b.prototype.getY=function(a){return Math.tan(this._direction/180*Math.PI)*a+(-this._initY-Math.tan(this._direction/180*Math.PI)*this._initX)},b.prototype.isQuadrant=function(a,b,c){return a>=90*(b-1)&&a<90*b||a>=90*(c-1)&&a<90*c},b.prototype._onActualWidthChange=function(a){this._actualWidthCopy||(this._actualWidthCopy=a)},b.prototype._onActualHeightChange=function(a){this._actualHeightCopy||(this._actualHeightCopy=a)},d(b.prototype,"backgroundImage",{set:function(a){this._backgroundImage!==a&&(this._backgroundImage=a,this.node.select("img").attr("src",a))},enumerable:!0,configurable:!0}),d(b.prototype,"initX",{set:function(a){this._initX=this.x=a+this._actualWidth/2},enumerable:!0,configurable:!0}),d(b.prototype,"initY",{set:function(a){this._initY=this.y=a+this._actualHeight/2},enumerable:!0,configurable:!0}),d(b.prototype,"direction",{set:function(a){a<0&&(a=360*(-a%360+1)+a),this._direction=a%360},enumerable:!0,configurable:!0}),d(b.prototype,"speed",{set:function(a){this._speed=a},enumerable:!0,configurable:!0}),d(b.prototype,"mode",{set:function(a){this._mode!==a&&(this._mode=a,this.moveMode="collision"===a?this.collision:"alternate"===a?this.alternate:this.normal)},enumerable:!0,configurable:!0}),d(b.prototype,"spin",{set:function(a){this._spin=a},enumerable:!0,configurable:!0}),d(b.prototype,"zoomSpeedX",{set:function(a){this._zoomSpeedX=a},enumerable:!0,configurable:!0}),d(b.prototype,"zoomSpeedY",{set:function(a){this._zoomSpeedY=a},enumerable:!0,configurable:!0}),d(b.prototype,"zoomWidth",{set:function(a){this._zoomWidth=a},enumerable:!0,configurable:!0}),d(b.prototype,"zoomHeight",{set:function(a){this._zoomHeight=a},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animation&&(this.animation.destroy(),this.animation=null),this.unwatch("visible",this.changeVisible,this),this.img=null},b}(Ie);Ge.register("movingobject",null,{left:"initX",top:"initY"}),He.register("movingobject",_e);var af=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("visible",this.showHideSWF,this),this.node.addClass("leo-comp-flash leo-animation-unnecessary")},b.prototype.showHideSWF=function(){this.swf&&(this.visible&&this.stage?this.swf.replay():this.swf.stop())},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.swf&&this.swf.destroy()},d(b.prototype,"src",{set:function(a){this._src!==a&&(this._src=a,this.swf?this.swf.src=a:this.swf=new zi(this.dom,{swf:a,width:this.actualWidth,height:this.actualHeight,play:!1,wmode:"transparent"}))},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(){this.swf&&(this.swf.width=this.actualWidth)},b.prototype._onActualHeightChange=function(){this.swf&&(this.swf.height=this.actualHeight)},b}(Ie);He.register("flash",af);var bf=function(a){function b(){a.call(this),this.context=new Me(this),this.transitionConfig={name:"None",duration:500,easing:"easeInOutCubic"}}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._asSymbol(),this._node.addClass("leo-comp--scene"),this._node.bind("mousedown",function(a){var b=a.target.nodeName;"IMG"!==b&&"CANVAS"!==b||a.preventDefault()})},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.context.destroy(),this.context=null},b.prototype.enter=function(b){a.prototype.enter.call(this,b)},b.prototype.leave=function(){a.prototype.leave.call(this)},b}(Le);He.register("scene",bf);var cf=function(a){function b(){a.call(this),this._deferred=!1,this._dirty=!1,this._spotWidth=0,this._spotHeight=0,this._spotX=0,this._spotY=0}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--spotlight"),this._context=this.dom.getContext("2d"),this._transform.accelerate=!0,this.watch("visible",function(){this.visible&&this._dirty&&this.render()},this)},d(b.prototype,"deferredRender",{get:function(){return this._deferred},set:function(a){this._deferred=a,!a&&this._dirty&&this.visible&&this.render()},enumerable:!0,configurable:!0}),b.prototype._setDirty=function(){this._dirty||(this._dirty=!0,this.visible&&!this._deferred&&this.render())},b.prototype.createNode=function(){return vi("canvas")},b.prototype._onActualWidthChange=function(){var a=this.actualWidth;this.dom.width=a,this.dom.style.width=a+"px",this._setDirty()},b.prototype._onActualHeightChange=function(){var a=this.actualHeight;this.dom.height=a,this.dom.style.height=a+"px",this._setDirty()},d(b.prototype,"spotWidth",{get:function(){return this._spotWidth},set:function(a){this._spotWidth!==a&&(this._spotWidth=a,this._setDirty())},enumerable:!0,configurable:!0}),d(b.prototype,"spotHeight",{get:function(){return this._spotHeight},set:function(a){this._spotHeight!==a&&(this._spotHeight=a,this._setDirty())},enumerable:!0,configurable:!0}),d(b.prototype,"spotX",{get:function(){return this._spotX},set:function(a){this._spotX!==a&&(this._spotX=a,this._setDirty())},enumerable:!0,configurable:!0}),d(b.prototype,"spotY",{get:function(){return this._spotY},set:function(a){this._spotY!==a&&(this._spotY=a,this._setDirty())},enumerable:!0,configurable:!0}),b.prototype.enter=function(b){a.prototype.enter.call(this,b),b.watch("actualWidth",this._onStageWidthChange,this),b.watch("actualHeight",this._onStageHeightChange,this),this.actualWidth=b.actualWidth,this.actualHeight=b.actualHeight,this.zIndex=10*b.context.getVariable("maxZIndex"),this.render()},b.prototype.leave=function(){this.stage.unwatch("actualWidth",this._onStageWidthChange,this),this.stage.unwatch("actualHeight",this._onStageHeightChange,this),a.prototype.leave.call(this)},b.prototype.render=function(a){if(a||this.visible&&this._dirty){this._dirty=!1;var b=this.actualWidth,c=this.actualHeight,d=this.spotWidth,e=this.spotHeight,f=this._context,g=Math.max(d,e)/2,h=this.spotX+d/2,i=this.spotY+e/2,j=this.getMaxRadius(h,i,b,c);f.clearRect(0,0,b,c);var k=f.createRadialGradient(h,i,0,h,i,j),l=Math.min(g/j,1);k.addColorStop(0,"transparent"),k.addColorStop(l,"transparent"),k.addColorStop(Math.min(1,(g+20)/j),"#000"),f.fillStyle=k,f.fillRect(0,0,b,c)}},b.prototype._onStageWidthChange=function(a){this.actualWidth=a},b.prototype._onStageHeightChange=function(a){this.actualHeight=a},b.prototype.getMaxRadius=function(a,b,c,d){return Math.sqrt(Math.max(a*a+b*b,(a-c)*(a-c)+b*b,a*a+(b-d)*(b-d),(a-c)*(a-c)+(b-d)*(b-d)))},b}(Ie);Ge.register("stagelight",null,{width:"spotWidth",height:"spotHeight",left:"spotX",top:"spotY",rotate:"!",shadow:"!"}),He.register("stagelight",cf);var df=function(a){function b(){a.call(this),this.actionConfigs=null,this._filter=null,this._readyState=0,this.initialActionName=null}return oc(b,a),b.prototype.init=function(){var b=this;a.prototype.init.call(this),this.node.addClass("leo-comp--sprite"),this.resizeMode=1,this._sprite=new yi(this.dom),this._sprite.onload=function(){b._onload()},this._sprite.onSizeChange=function(a,c){b._onSpriteSizeChange(a,c)}},d(b.prototype,"sprite",{get:function(){return this._sprite},enumerable:!0,configurable:!0}),d(b.prototype,"filter",{get:function(){return this._filter?this._filter:this._filter=new Oh(this._sprite.element,this)},enumerable:!0,configurable:!0}),d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"srcset",{get:function(){return this._sprite.srcset},set:function(a){this._sprite.srcset=a,this._readyState=this._sprite.loaded?this._readyState:1},enumerable:!0,configurable:!0}),d(b.prototype,"frames",{get:function(){return this._sprite.frames},set:function(a){this._sprite.frames=a},enumerable:!0,configurable:!0}),d(b.prototype,"actions",{get:function(){return this._sprite.actions},set:function(a){this._sprite.actions=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionName",{get:function(){return this._sprite.currentActionName},set:function(a){this._sprite.currentActionName=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionIndex",{get:function(){return this._sprite.currentActionIndex},set:function(a){this._sprite.currentActionIndex=a},enumerable:!0,configurable:!0}),b.prototype.load=function(a){this.srcset=a.srcset},d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),b.prototype._onload=function(){this._readyState=this._sprite.loaded>0?2:4,this.dispatchSimpleEvent("load")},b.prototype._onSpriteSizeChange=function(a,b){this.actualWidth=a,this.actualHeight=b},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this._sprite.currentActionName=this.initialActionName,this._sprite.currentActionIndex=0},b.prototype.destroy=function(){this._filter&&(this._filter.destroy(),this._filter=null),this._sprite.destroy(),this._sprite=null,a.prototype.destroy.call(this)},b}(Ie),ef=function(a){function b(){a.call(this),this.spriteLoaded=!1,this._readyState=0,this.append(this.spriteComponent=new df),this.node.addClass("leo-comp--sprite-container"),this.spriteComponent.addEventListener("load",function(){this.spriteLoaded=!0,this.__onload()},this)}return oc(b,a),b.prototype._onActualWidthChange=function(){this.spriteComponent.width=this._actualWidth},b.prototype._onActualHeightChange=function(){this.spriteComponent.height=this._actualHeight},d(b.prototype,"filter",{get:function(){return this.spriteComponent.filter},enumerable:!0,configurable:!0}),d(b.prototype,"actionConfigs",{get:function(){return this.spriteComponent.actionConfigs},set:function(a){this.spriteComponent.actionConfigs=a},enumerable:!0,configurable:!0}),d(b.prototype,"sprite",{get:function(){return this.spriteComponent.sprite},enumerable:!0,configurable:!0}),d(b.prototype,"srcset",{get:function(){return this.spriteComponent.srcset},set:function(a){this.spriteComponent.srcset=a},enumerable:!0,configurable:!0}),d(b.prototype,"frames",{get:function(){return this.spriteComponent.frames},set:function(a){this.spriteComponent.frames=a},enumerable:!0,configurable:!0}),d(b.prototype,"initialActionName",{get:function(){return this.spriteComponent.initialActionName},set:function(a){this.spriteComponent.initialActionName=a},enumerable:!0,configurable:!0}),d(b.prototype,"actions",{get:function(){return this.spriteComponent.actions},set:function(a){this.spriteComponent.actions=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionName",{get:function(){return this.spriteComponent.currentActionName},set:function(a){this.spriteComponent.currentActionName=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionIndex",{get:function(){return this.spriteComponent.currentActionIndex},set:function(a){this.spriteComponent.currentActionIndex=a},enumerable:!0,configurable:!0}),b.prototype.load=function(a){this.spriteComponent.load(a)},d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),b.prototype.__onload=function(a){a&&(this.error=a),2!==this._readyState&&4!==this._readyState&&this.soundsLoaded&&this.spriteLoaded&&(this._readyState=this.error?2:4,this.dispatchSimpleEvent("load"))},d(b.prototype,"soundURLs",{set:function(a){this._urls=a,this.destroyAudioList();var b=a.length;if(this._readyState=1,this.soundsLoaded=!1,0===b)this.soundsLoaded=!0,this.__onload();else{this.soundsLoaded=!1;for(var c,d=0,e=0,f=this.audioList;d<b;d++)a[d]?(c=new hi,f||(this.audioList=f=[]),f.push(c),c.src=a[d],c.addEventListener("canplaythrough",function(){++e===b&&(this.soundsLoaded=!0,this.__onload(!1))},this),c.addEventListener("error",function(){++e===b&&(this.soundsLoaded=!0,this.__onload(!0))},this),c.load()):(this.audioList.push(""),++e===b&&(this.soundsLoaded=!0,this.__onload()))}},enumerable:!0,configurable:!0}),b.prototype.getAudio=function(a){return this.audioList[this._urls.indexOf(a)]},b.prototype.destroyAudioList=function(){var a=this.audioList;if(a){for(var b,c=0,d=a.length;c<d;c++)(b=a[c])&&b.destroy();a.length=0}},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.destroyAudioList(),this.spriteComponent.destroy()},d(b.prototype,"spriteScaleX",{get:function(){return this.spriteComponent.transform.scaleX},set:function(a){this.spriteComponent.transform.scaleX=a},enumerable:!0,configurable:!0}),d(b.prototype,"spriteScaleY",{get:function(){return this.spriteComponent.transform.scaleY},set:function(a){this.spriteComponent.transform.scaleY=a},enumerable:!0,configurable:!0}),b}(Le);Ge.register("sprite",null,{scaleX:"spriteScaleX",scaleY:"spriteScaleY"},function(a){return Oh.KEYWORDS[a]?"filter."+a:null}),He.register("sprite",ef);var ff=function(a){function b(b){var c=this;a.call(this,b),this.controller=null,this.defineVariable("maxZIndex",{get:function(){var a=c.target.currentScene,b=0;if(a)for(var d=a.children,e=-1,f=d.length;++e<f;){var g=d[e].zIndex;g>b&&(b=g)}return b+1},set:Ec})}return oc(b,a),b}(Me),gf=function(a){function b(b,c,d,e,f){a.call(this),this._rect=new ci(c,d,e,f),this._container=b}return oc(b,a),d(b.prototype,"rect",{get:function(){return this._rect.clone()},enumerable:!0,configurable:!0}),d(b.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),d(b.prototype,"left",{get:function(){return this._rect.x},set:function(a){this._rect.x!==a&&(this._rect.x=a,this._container._updateChildrenDisplayPosition())},enumerable:!0,configurable:!0}),d(b.prototype,"top",{get:function(){return this._rect.y},set:function(a){this._rect.y!==a&&(this._rect.y=a,this._container._updateChildrenDisplayPosition())},enumerable:!0,configurable:!0}),d(b.prototype,"width",{get:function(){return this._rect.width},set:function(a){this._rect.width!==a&&(this._rect.width=a,this._container.actualWidth=a)},enumerable:!0,configurable:!0}),d(b.prototype,"height",{get:function(){return this._rect.height},set:function(a){this._rect.height!==a&&(this._rect.height=a,this._container.actualHeight=a)},enumerable:!0,configurable:!0}),d(b.prototype,"right",{get:function(){return this._rect.right},set:function(a){this._rect.right!==a&&(this.width=a-this._rect.left)},enumerable:!0,configurable:!0}),d(b.prototype,"bottom",{get:function(){return this._rect.bottom},set:function(a){this._rect.bottom!==a&&(this.height=a-this._rect.top)},enumerable:!0,configurable:!0}),b.prototype.set=function(a,b,c,d){var e=!1;this._rect.x!==a&&(this._rect.x=a,e=!0),this._rect.y!==b&&(this._rect.y=b,e=!0),this.width=c,this.height=d,e&&this._container._updateChildrenDisplayPosition()},b.getContentBound=function(a,b,c){if(b||(b=new ci(0,0,0,0)),!a.length)return b.set(0,0,0,0);var d=ci.identity,e=a[0],f=e.getTransformBound(null,d,c);f.left+=e.x,f.top+=e.y;for(var g=f.left,h=f.top,i=f.right,j=f.bottom,k=0,l=a.length;++k<l;){e=a[k],f=e.getTransformBound(null,d),f.left+=e.x,f.top+=e.y;var m=f.left;m<g&&(g=m),m=f.top,m<h&&(h=m),m=f.right,m>i&&(i=m),m=f.bottom,m>j&&(j=m)}return b.set(g,h,i-g,j-h)},b}(nc),hf=function(a){function b(){a.call(this),this._srcChanged=!1,this._readyState=0,this._autoplay=!1}return oc(b,a),b.prototype.init=function(){var b=this;a.prototype.init.call(this),this.node.addClass("leo-comp--media"),this.watch("visible",this._pauseWhenHidden,this),this._media=this._createMedia(),this.media.onload=function(){b._onload()}},d(b.prototype,"media",{get:function(){return this._media},enumerable:!0,configurable:!0}),b.prototype._createMedia=function(){return null},b.prototype._destroyMedia=function(){try{this._media.destroy()}catch(a){}},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"src",{get:function(){return this._src},set:function(a){if(this._src!==a){var b=this._src;this._readyState=1,this.stage&&(this._srcChanged=!0),this._media.src=this._src=a,this.notifyPropertyChange("src",b)}},enumerable:!0,configurable:!0}),b.prototype.load=function(a){this.src=a.src},d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),b.prototype._onload=function(){var a=this._media.loaded;this._readyState=a>0?2:4,(this._autoplay||this._srcChanged)&&this._stage&&this.visible?this._media.resume():this._media.pause(),this.dispatchSimpleEvent("load")},d(b.prototype,"autoplay",{get:function(){return this._autoplay},set:function(a){this._autoplay!==a&&(this._autoplay=a,this.unwatch("visible",this._playWhenVisible,this),a&&(this.watch("visible",this._playWhenVisible,this),this._stage&&this._media.resume()))},enumerable:!0,configurable:!0}),b.prototype._playWhenVisible=function(){this._visible&&this._stage&&this._media.resume()},b.prototype._pauseWhenHidden=function(){this._visible||this._media.pause()},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this._srcChanged=!1,this._autoplay&&this._visible?(this._media.resume(),this._media.currentTime>=this._media.duration-.001&&(this._media.currentTime=0)):this._media.pause()},b.prototype.leave=function(){this._media&&this._media.pause(),a.prototype.leave.call(this)},b.prototype.destroy=function(){this._destroyMedia(),this._media=null,a.prototype.destroy.call(this)},b}(Ie),jf=function(a){function b(){a.call(this),this._readyState=0,this.onceloaded=!1,this.destroyed=!1}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.audio=new hi,this.node.addClass("leo-comp--BGM"),this.visible=!1},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"loop",{set:function(a){this._loop!==a&&(this._loop=a,this.audio.loop=a)},enumerable:!0,configurable:!0}),d(b.prototype,"src",{set:function(a){this._src!==a&&(this._src=a,this.audio.src=a,this._readyState=0,this.onceloaded&&this.load())},enumerable:!0,configurable:!0}),b.prototype.load=function(){0===this._readyState&&(this._readyState=1,this.audio.addEventListener("canplaythrough",this._onload,this),this.audio.addEventListener("error",this._onload,this),this.audio.load())},d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),b.prototype._onload=function(){this.destroyed||(this.audio.removeEventListener("canplaythrough",this._onload,this),this.audio.removeEventListener("error",this._onload,this),this._readyState=this.audio.readyState||2,this.onceloaded?this.stage&&this.audio.play():(this.onceloaded=!0,this.dispatchSimpleEvent("load")))},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.stage&&4===this.readyState&&this.audio.replay()},b.prototype.leave=function(){a.prototype.leave.call(this),this.audio.pause()},b.prototype.destroy=function(){this.destroyed=!0,a.prototype.destroy.call(this),this.audio.destroy()},b}(Ie);He.register("sound",jf);var kf=function(a){function e(){a.call(this),this._readyState=0,this.onceloaded=!1,this.onceload=!1}return oc(e,a),e.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--audio-player"),this.audio=new hi,this.container=this.node.el("div")},e.prototype.parseHandler=function(a){var c=this;return function(d){var e=d.button;if(!b.implementation.hasFeature("MouseEvents","2.0"))switch(event.button){case 0:case 1:case 3:case 5:case 7:e=0;break;case 2:case 6:e=2;break;case 4:e=1}!e&&c.audio.duration&&a(d)}},e.prototype.formatTime=function(a){a=Math.round(a);var b=Math.floor(a/60),c=a%60;return(b<10?"0":"")+b+":"+(c<10?"0":"")+c},e.prototype.elTime=function(){this.time=this.container.el("div").addClass("time").text("00:00")[0]},e.prototype.updateTime=function(a){var b,d=this.progressBar,e=a.target,f=a.originalEvent,g=f.offsetX,h=g===c?f.layerX:g;if(e===d)b=h;else{if(!d.contains(e))return;b=e.offsetLeft+h}this.audio.currentTime=b/jd(d)*this.audio.duration},e.prototype.unbindDocMove=function(){this.docMove&&(ih(b,"mousemove",this.docMove),this.docMove=null)},e.prototype.unbindDocUp=function(){this.docUp&&(ih(b,"mousemove",this.docUp),this.docUp=null)},e.prototype.updateVolume=function(a){var b,d=this.volumeBar,e=a.target,f=a.originalEvent,g=f.offsetX,h=g===c?f.layerX:g;if(e===d)b=h;else{if(!d.contains(e))return;b=e.offsetLeft+h}var i=b/jd(d);(i>1||i!==i)&&(i=1),i<0&&(i=0),this.audio.volume=i},e.prototype.elVolumeBar=function(){var a=this,d=this.container,e=d.el("div").addClass("volumebar bar");this.volumeBar=e[0];var f=e.el("div").addClass("fg").style("width","100%"),g=e.el("div").addClass("cursor");this.audio.addEventListener("volumechange",function(){var a=this.audio.muted?0:this.audio.volume;f.style("width",100*a+"%"),g.style("left",a*(100*(1-Xe(g[0],"width",!0)/Xe(e[0],"width",!0))+2)-1+"%")},this),e.bind("mousedown",function(c){a.unbindDocMove(),a.updateVolume(c),fh(b,"mousemove",a.docMove=function(b){a.updateVolume(b)}),a.unbindDocUp(),mh(b,"mouseup",a.docUp=function(b){a.updateVolume(b),a.unbindDocMove()})});var h=this.parseHandler(function(a){var b=e[0];if(a.target===b||b.contains(a.target)){var d=a.originalEvent.offsetX;b.title=Math.round((d===c?a.originalEvent.layerX:d)/b.offsetWidth*100)+""}});e.bind("mouseover",h),e.bind("mousemove",h)},e.prototype.elProgressBar=function(){var a=this,d=this.container,e=d.el("div").addClass("progressbar bar"),f=e.el("div").addClass("bg"),g=e.el("div").addClass("fg"),h=e.el("div").addClass("cursor");this.progressBar=e[0];this.audio;this.audio.addEventListener("progress",function(){f.style("width",this.audio.buffered.end(0)/this.audio.duration*100+"%")},this),this.audio.addEventListener("timeupdate",function(){var a=this.audio.currentTime,b=a/this.audio.duration;g.style("width",100*b+"%"),h.style("left",b*(100*(1-Xe(h[0],"width",!0)/Xe(e[0],"width",!0))+2)-1+"%"),this.time.innerHTML=this.formatTime(a)},this),e.bind("mousedown",this.parseHandler(function(c){a.unbindDocMove(),a.updateTime(c),fh(b,"mousemove",a.docMove=a.parseHandler(function(b){a.updateTime(b)})),a.unbindDocUp(),mh(b,"mouseup",a.docUp=a.parseHandler(function(b){a.updateTime(b),a.unbindDocMove()}))}));var i=this.parseHandler(function(b){var d=e[0];if(b.target===d||d.contains(b.target)){var f=b.originalEvent.offsetX;d.title=a.formatTime((f===c?b.originalEvent.layerX:f)/d.offsetWidth*a.audio.duration)}});e.bind("mouseover",i),e.bind("mousemove",i)},e.prototype.elPlayPauseButton=function(){var a=this.container,b=a.el("div").addClass("playButton");b.el("div");var c=this.audio,d=this.playPauseButton=b[0];fh(d,"tap",function(){c.playPause()}),c.addEventListener("play",function(){d.className="pauseButton"},this),c.addEventListener("pause",function(){d.className="playButton"},this)},e.prototype.elVolumeIcon=function(){var a=this.container,b=this.audio,c=a.el("div").addClass("volumeIcon"),d=c.el("div").addClass("volume66");d.el("div"),d.el("div"),d.el("div"),d.el("div"),this.volumeIcon=c[0],c.bind("mousedown",function(){b.muted=!b.muted}),b.addEventListener("volumechange",function(){var a,c=b.volume;b.muted||0===c?a="volumeMute":c>=.66?a="volume66":c>=.33?a="volume33":c>0&&(a="volume"),d[0].className=a},this)},d(e.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(e.prototype,"readyState",{get:function(){return this._readyState},set:function(a){if(this._readyState!==a){this._readyState=a;var b=this.playPauseButton;if(b)switch(a){case 1:b.className="loadButton";default:b.className="playButton"}}},enumerable:!0,configurable:!0}),e.prototype.load=function(){1!==this.readyState&&(this.onceload||(this.onceload=!0),this.readyState=1,this.audio.addEventListener("canplay",this._onload,this),this.audio.addEventListener("error",this._onload,this),this.audio.load())},e.prototype._onload=function(){this.audio.removeEventListener("canplay",this._onload,this),this.audio.removeEventListener("error",this._onload,this),this.readyState=this.audio.readyState||2,this.onceloaded?this.stage&&this._autoplay&&4===this.readyState&&this.audio.play():(this.onceloaded=!0,this.elTime(),this.elProgressBar(),this.elPlayPauseButton(),this.elVolumeIcon(),this.elVolumeBar(),this.dispatchSimpleEvent("load"))},d(e.prototype,"autoPlay",{set:function(a){this._autoplay=a},enumerable:!0,configurable:!0}),d(e.prototype,"backgroundColor",{set:function(a){this.container.style("backgroundColor",a)},enumerable:!0,configurable:!0}),d(e.prototype,"src",{set:function(a){this._src!==a&&(this._src=a,this.audio.src=a,this._onload())},enumerable:!0,configurable:!0}),d(e.prototype,"volume",{set:function(a){this.audio.volume=a},enumerable:!0,configurable:!0}),e.prototype.enter=function(b){a.prototype.enter.call(this,b),this.stage&&this._autoplay&&4===this.readyState&&this.audio.play()},e.prototype.leave=function(){a.prototype.leave.call(this),this.audio.pause()},d(e.prototype,"playerType",{set:function(a){this._playerType=a,this.container.addClass(a),this.resize()},enumerable:!0,configurable:!0}),e.prototype.resize=function(){var a=this._playerType;if(a){var b,c=e.size[a].width,d=e.size[a].height,f=this.actualWidth,g=this.actualHeight;b=c/d>f/g?f/c:g/d,this.container.style({scaleX:b,scaleY:b})}},e.prototype._onActualWidthChange=function(){this.resize()},e.prototype._onActualHeightChange=function(){this.resize()},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.audio.destroy(),this.audio=null,this.unbindDocMove(),this.unbindDocUp(),this.progressBar&&(ui(this.progressBar).unbindAll(),ui(this.volumeBar).unbindAll(),ui(this.volumeIcon).unbindAll(),jh(this.playPauseButton))},d(e.prototype,"shadow",{get:function(){return this._shadow},set:function(a){this._shadow!==a&&(this._shadow=a,this.container.style("boxShadow",a))},enumerable:!0,configurable:!0}),e.size={default:{width:400,height:30},mini:{width:62,height:30},simple:{width:200,height:60},classical:{width:400,height:32}},e}(Ie);Ge.register("soundplayer",null,{backgroundColor:"backgroundColor",shadow:"shadow"}),He.register("soundplayer",kf);var lf=function(a){function b(){a.call(this),this.node.addClass("leo-comp--html5video")}return oc(b,a),b.prototype._createMedia=function(){return new ii(null,this._dom)},d(b.prototype,"controlable",{get:function(){return this._media.controlable},set:function(a){this._media.controlable=a},enumerable:!0,configurable:!0}),b}(hf);He.register("html5-video",lf);var mf=function(a){function b(){a.call(this),this.node.addClass("leo-comp--vimeo")}return oc(b,a),b.prototype._createMedia=function(){return new ji(null,this._dom)},b}(hf);He.register("vimeo-video",mf);var nf=function(a){function b(){a.call(this),this.node.addClass("leo-comp--youtube")}return oc(b,a),b.prototype._createMedia=function(){return new li(null,this._dom)},d(b.prototype,"startTime",{set:function(a){this._media.startTime=a},enumerable:!0,configurable:!0}),d(b.prototype,"loop",{get:function(){return this._media.loop},set:function(a){this._media.loop=a},enumerable:!0,configurable:!0}),b}(hf);He.register("youtube-video",nf);var of=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--paypalbuy")},b.prototype._onActualWidthChange=function(){a.prototype._onActualWidthChange.call(this),this._button.style({paddingLeft:.25*this.actualWidth})},b}(Ke);He.register("paypalbuy",of,"button");var pf=function(a){function b(){a.call(this),this._textContent="",this._bgSrc="",this.animation=null}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._textFormat=new Ai(this._node,this),this.watch("textFormat.size",function(){this.span.style({fontSize:this._textFormat.size/2+"px"})},this),this.watch("visible",function(){this._visible?this._resumeZoom():this._pauseZoom()},this),this.node.addClass("leo-comp--paypaldiscount")},d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),b.prototype._onActualHeightChange=function(){this.div.style({lineHeight:this.actualHeight+"px"})},b.prototype.createNode=function(){var a=this,b=vi("div").bind("mouseover",function(){a.node.style({scaleX:1.05,scaleY:1.05})}).bind("mouseout",function(){a.node.style({scaleX:1,scaleY:1})});return this.img=b.el("img"),this.div=b.el("div"),this.span=this.div.el("span").html("OFF"),b},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){this.div.text(a+"%").append(this.span),this._textContent=a},enumerable:!0,configurable:!0}),d(b.prototype,"bgSrc",{get:function(){return this._bgSrc},set:function(a){this.img.attr("src",a)},enumerable:!0,configurable:!0}),b.prototype.leave=function(){a.prototype.leave.call(this),this.animation&&(this.animation.destroy(),this.animation=null)},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.animation=this._createZoom(),this._resumeZoom()},b.prototype._createZoom=function(){var a=Rc.getAnimation(this.img[0],"Zoom",4e3,{repeat:1/0,scale:.05});return a.pause(),Wc.getInstance().add(a),a},b.prototype._resumeZoom=function(){this._stage&&this.animation&&this.visible&&this.animation.resume()},b.prototype._pauseZoom=function(){this.animation&&this.animation.pause()},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._textFormat.destroy(),this._textFormat=null},b}(Ie);Ge.register("paypaldiscount",null,{backgroundImage:"bgSrc"},function(a){return Ai.compatProperty(a)}),He.register("paypaldiscount",pf);var qf=function(a){function b(){a.call(this),this._textContent=""}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._textFormat=new Ai(this.node,this),this.watch("textFormat.size",function(){this.content.style({fontSize:3*this._textFormat.size/10+"px"}),this.node.select("sup").style({fontSize:Math.floor(4*this._textFormat.size/7)+"px"})},this),this.watch("visible",function(){this.fixTextPosition()},this),this.node.addClass("leo-comp--paypalprice")},d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),b.prototype.fixTextPosition=function(){this.visible&&this.actualWidth&&this.actualHeight&&this.div&&this.div.style({top:(this.actualHeight-md(this.div[0]))/2,left:(this.actualWidth-jd(this.div[0]))/2})},b.prototype._onActualHeightChange=function(){this.fixTextPosition()},b.prototype._onActualWidthChange=function(){this.fixTextPosition()},b.prototype.createNode=function(){var a=this,b=vi("div").bind("mouseover",function(){a.node.style({scaleX:1.1,scaleY:1.1})}).bind("mouseout",function(){a.node.style({scaleX:1,scaleY:1})});return this.img=b.el("img"),this.div=b.el("div"),this.content=this.div.el("p"),this.DOMPrice=this.div.el("p"),b},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){this.content.text(a),this._textContent=a},enumerable:!0,configurable:!0}),d(b.prototype,"price",{get:function(){return this.priceString||""},set:function(a){this.priceString=a;var b,c,d=parseFloat(a),e="";d&&(d=d.toString(),b=a.split(d)[1],c=d.split("."),e=c[0],c[1]&&(e+="<sup>"+c[1]+"</sup>"),e+=b||""),this.DOMPrice.html(e)},enumerable:!0,configurable:!0}),d(b.prototype,"src",{get:function(){return this.img.attr("src")},set:function(a){this.img.attr("src",a)},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){a.prototype.destroy.call(this),this._textFormat.destroy(),this._textFormat=null,
this.img=null,this.div=null,this.DOMPrice=null},b}(Ie);Ge.register("paypalprice",null,{backgroundImage:"src"},function(a){return Ai.compatProperty(a)}),He.register("paypalprice",qf);var rf=function(a){function b(){a.call(this),this.hotSize=78,this.li=function(){var a=vi("div").addClass("ppproduct--li");a.el("img");return a}(),this.urlArray=[]}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--paypalproductbox")},b.prototype.liHeight=function(){return Math.round(.2*this.actualHeight)},b.prototype._onActualWidthChange=function(){var a=Math.min(this.hotSize,Math.min(this.actualWidth,this.actualHeight)/2);this.hot.style({width:a,height:a}),this.centerThumbnail()},b.prototype._onActualHeightChange=function(){var a=Math.min(this.hotSize,Math.min(this.actualWidth,this.actualHeight)/2);this.hot.style({width:a,height:a});var b=this.liHeight(),c=Math.round(.05*b);this.li.style({width:b,padding:c}),k(this.ul.select(".ppproduct--li"),function(a,d){Ye(a,{width:b,padding:c})}),this.centerThumbnail()},b.prototype.centerThumbnail=function(){var a=this.actualWidth,b=this.urlArray.length*(this.liHeight()+10)-10;this.ul.style("tx",b<a?(a-b)/2:0)},d(b.prototype,"hotSrc",{set:function(a){var b=this;this.hot.bind("load",function(){eb(b.hot[0])}),this.hot.bind("error",function(){fb(b.hot[0])}),this.hot.attr("src",a)},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{set:function(a){this.slideContainer.style("borderColor",a)},enumerable:!0,configurable:!0}),d(b.prototype,"boxShadow",{set:function(a){this.slideContainer.style("boxShadow",a)},enumerable:!0,configurable:!0}),d(b.prototype,"padding",{set:function(a){this.slideContainer.style("padding",a)},enumerable:!0,configurable:!0}),d(b.prototype,"paddingColor",{set:function(a){this.slideContainer.style("backgroundColor",a)},enumerable:!0,configurable:!0}),d(b.prototype,"urls",{set:function(a){var b=this;this.urlArray=(a||"").split(";");var c,d,e=this.urlArray.length;1!==e?(c=eb,d=100*this.slideHeight+"%",this.ul.html(""),k(this.urlArray,function(a,c){var d=b.li.clone().bind("tap",function(){b.skipTo(c,d)});d.select("img").attr("src",a);b.ul.append(d)}),this.centerThumbnail()):(c=fb,d="100%"),c(this.thumbnailContainer[0]),this.slideContainer.style("height",d),this.imgWrap.html(""),this.skipTo(0,this.ul.select(".ppproduct--li:first-child"))},enumerable:!0,configurable:!0}),b.prototype.skipTo=function(a,b){function c(){this.slideContainer.removeClass("leo-loading")}var d=this,e=this.ul.select(".active");if(!(e.length>0&&e[0]===b[0])){this.slideContainer.addClass("leo-loading");var f=this.imgWrap.select(".active").removeClass("active"),g=this.imgWrap.el("img").bind("load",function(){c.call(d)}).bind("error",function(){c.call(d)}).attr("src",this.urlArray[a]).addClass("active");if(f[0]){var h=Rc.getTransition(f[0],g[0],Object.keys(Rc._transitionFactories)[Math.floor(Object.keys(Rc._transitionFactories).length*Math.random())],500);h.addEventListener("end",function(){f.remove(),h.destroy()},this),Wc.getInstance().add(h)}e.removeClass("active"),b.addClass("active");var i=this.width,j=10,k=this.liHeight()+j,l=0,m=i-this.urlArray.length*k+j,n=(1-a)*k,o=i-(a+2)*k+j,p=parseInt(this.ul.style("tx"),10);n>l&&(n=l),o<m&&(o=m),p<n&&(p=n),p>o&&(p=o),this.ul.style("tx",p)}},b.prototype.createNode=function(){var a=vi("div");return this.hot=a.el("img"),this.slideContainer=a.el("div").addClass("ppproduct--slide"),this.imgWrap=this.slideContainer.el("div"),this.thumbnailContainer=a.el("div").addClass("ppproduct--thumbnail"),this.ul=this.thumbnailContainer.el("div"),a},b}(Ie);Ge.register("paypalproductbox",null,{backgroundImage:"hotSrc",borderColor:"borderColor",frameWidth:"padding",frameColor:"paddingColor",shadow:"!"}),He.register("paypalproductbox",rf);var sf=function(a){function b(){a.call(this),this._readyState=0,this._rate=5}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("visible",function(){this.visible?this._resumeAnimation():this._pauseAnimation()},this),this.node.addClass("leo-comp--paypalstar")},d(b.prototype,"maxrate",{get:function(){return 5},enumerable:!0,configurable:!0}),b.prototype._onActualWidthChange=function(){var a=this.actualWidth;this.canvas.width=a,this.canvas.style.width=a+"px",this.updateCanvas()},b.prototype._onActualHeightChange=function(){var a=this.actualHeight;this.canvas.height=a,this.canvas.style.height=a+"px",this.updateCanvas()},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"readyState",{get:function(){return this._readyState},enumerable:!0,configurable:!0}),b.prototype.updateStar=function(){var a,b=this.node.select("img"),c=this.maxrate,d=this.rate;if(this.star_url)for(;c--;){var a=b[c];a.src=c>=d?this.gray_star_url:this.star_url}},b.prototype.onload=function(a){this._readyState=2,this.dispatchSimpleEvent("load"),this.updateStar(),this.updateCanvas()},b.prototype.updateCanvas=function(){if(2===this.readyState){var a=this.canvas,b=a.cloneNode(!1).getContext("2d");if(b){for(var c=this.maxrate,d=a.width,e=a.height;c--;)b.drawImage(this.img,c*d/5,0,d/5,e);var f=Math.round(.5*d),g=a.cloneNode(!1).getContext("2d"),h=g.createLinearGradient(0,0,f,0);h.addColorStop(0,"rgba(255,255,255,0)"),h.addColorStop(.1,"rgba(255,255,255,.1)"),h.addColorStop(.5,"rgba(255,255,255,.7)"),h.addColorStop(.9,"rgba(255,255,255,.1)"),h.addColorStop(1,"rgba(255,255,255,0)"),g.save(),g.fillStyle=h,g.rotate(15*Math.PI/180),g.translate(Math.atan(15*Math.PI/180)*e,0),g.fillRect(0,-f,f,e+2*f),g.restore(),this.animation&&this.animation.destroy();var i=a.getContext("2d");this.animation=Sc.create(this,8e3,{onRender:function(a){i.clearRect(0,0,d,e),i.globalCompositeOperation="source-over",i.drawImage(g.canvas,(5*a-1)*d,0),i.globalCompositeOperation="destination-in",i.drawImage(b.canvas,0,0)}},{repeat:1/0,easing:"easeOutCubic"}),this.animation.pause(),Wc.getInstance().add(this.animation),this._resumeAnimation()}}},d(b.prototype,"src",{set:function(a){var b=a.split(";");this.star_url=b[0],this.gray_star_url=b[1]},enumerable:!0,configurable:!0}),b.prototype.load=function(){var a=this,b=new Image,c=new Image,d=!1,e=!1;this._readyState=1,b.onload=function(){b.onload=b.onerror=null,(d=!0)&&e&&a.onload(b)},c.onload=function(){c.onload=c.onerror=null,e=!0,d&&e&&a.onload(c)},b.onerror=c.onerror=function(){a._readyState=4,a.dispatchSimpleEvent("load")},b.src=this.star_url,c.src=this.gray_star_url,this.img=b},d(b.prototype,"rate",{get:function(){return this._rate},set:function(a){var b=this.maxrate;a=Math.min(a,b),a=Math.max(a,0),this._rate=a,this.updateStar()},enumerable:!0,configurable:!0}),b.prototype.createNode=function(){var b=a.prototype.createNode.call(this),c=vi("img"),d=this.maxrate,e=c[0],f=0;do{b.append(e),e=e.cloneNode(!1)}while(++f<d);var g=vi("canvas").appendTo(b);return this.canvas=g[0],b},b.prototype.leave=function(){a.prototype.leave.call(this),this.animation&&(this.animation.destroy(),this.animation=null)},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.updateCanvas()},b.prototype._resumeAnimation=function(){this._stage&&this.animation&&this.visible&&this.animation.resume()},b.prototype._pauseAnimation=function(){this.animation&&this.animation.pause()},b}(Ie);He.register("paypalstar",sf);var tf={background:"backgroundColor"},uf=function(a){var b=tf[a];if(b)return b;var c=qc.style;if(a in c)return tf[a]=a;for(var d=rc,e=a.charAt(0).toUpperCase()+a.substr(1),f=-1,g=d.length;++f<g;){var h=d[f]+e;if(h in c)return tf[a]=h}return null},vf=(navigator.userAgent||navigator.vendor||a.opera).toLowerCase(),wf=-1!==vf.indexOf("mobile")||-1!==vf.indexOf("android"),xf=-1!==vf.indexOf("IEMobile"),yf=!!("ontouchstart"in a||a.DocumentTouch&&b instanceof a.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),zf=uf("transform"),Af=uf("transformOrigin"),Bf=!1,Cf=!1,Df=!1,Ef=!1,Ff=!1,Gf=!1,Hf=!1,If="";!function(){var a=Ad("div");Bf=function(){return a.style.cssText="float:left;",!!a.style.cssFloat}(),tf.float=Bf?"cssFloat":"styleFloat",Cf=function(){var b="transform:translate3d(1px,1px,1px);";return a.style.cssText=sc.join(b)+b+b,!!~(a.style[zf]+"").indexOf("3d")}(),Df=function(){var b="transform-style:preserve-3d;";return a.style.cssText=sc.join(b)+b+b,!!~(a.style[uf("transformStyle")]+"").indexOf("3d")}(),Ef=function(){return a.style.cssText="-webkit-filter:blur(10px);",!!~(a.style.getPropertyValue("-webkit-filter")+"").indexOf("blur")}(),Ff=function(){return a.style.cssText="filter:blur(10px);",!!~(a.style.getPropertyValue("filter")+"").indexOf("blur")}(),Gf=function(){a.style.cssText="background-image:linear-gradient(to bottom,#000,#fff);";var b=Hf=!!~(a.style.backgroundImage+"").indexOf("gradient");if(!b){var c="background-image:",d="linear-gradient(bottom,#000,#fff);",e=sc;if(a.style.cssText=c+e.join(d+c)+d+c+d,d=a.style.backgroundImage+"",Hf=!!~d.indexOf("gradient"))for(var f=-1,g=e.length;++f<g;)if(d.indexOf(e[f])>=0){If=e[f];break}}return b}(),a=null}();var Jf=function(a){function b(){var b=this;a.call(this),this._shadowConfig=null,this._gradient="",this._gradientEl=null,this._strokeWidth=1,this._strokeColor="rgba(0,0,0,0)",this._updateTimer=null,this.needUpdateViewBox=!0,this.watch("visible",function(){b.visible&&b.stage&&b.needUpdateViewBox&&b.updateViewBox()},null)}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--shape"),this._svg=this.node.el("svg").style("overflow","visible"),this._shape=this.createShape().appendTo(this._svg).attr({"stroke-linecap":"round","stroke-linejoin":"round"})},b.prototype.createShape=function(){return vi("svg:g")},b.prototype.destroyShape=function(){this._shape=null},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._clearUpdateTimer()},d(b.prototype,"shadow",{get:function(){return this._shadow},set:function(a){var b=this._shadow;if(a!==b){var c=this._shadowConfig;if(this._shadow=a,"none"===a)this._svg.style("filter","none");else if(Ef)this._svg[0].style.webkitFilter="drop-shadow("+a+")";else if(Ff)this._svg[0].style.filter="drop-shadow("+a+")";else{c||(c=this._createShadowConfig()),"none"===b&&this._svg.style("filter","url(#"+c.id+")");var d=a.split(" ");c.offset.setAttribute("dx",parseInt(d[0],10)+""),c.offset.setAttribute("dy",parseInt(d[1],10)+""),c.blur.setAttribute("stdDeviation",parseInt(d[2],10)+""),c.color.setAttribute("flood-color",d[3])}this.updateViewBox(!0),this.notifyPropertyChange("shadow",b)}},enumerable:!0,configurable:!0}),b.prototype._createShadowConfig=function(){var a="shadow_"+this.guid+"_"+f(),b="result_"+this.guid+"_"+f(),c="blur_"+this.guid+"_"+f(),d="flood_"+this.guid+"_"+f();this.node.select("defs")[0]||this._updateGradient("rgba(0,0,0,0);rgba(0,0,0,0)");var e=this.node.select("defs").el("filter").attr("id",a),g=e.el("feGaussianBlur").attr("in","SourceAlpha").attr("result",c),h=e.el("feOffset").attr("result",b).attr("in",c),i=e.el("feFlood").attr("result",d);e.el("feComposite").attr({in:d,in2:b,operator:"in"});var j=e.el("feMerge");return j.el("feMergeNode"),j.el("feMergeNode").attr("in","SourceGraphic"),{id:a,blur:g[0],offset:h[0],color:i[0]}},d(b.prototype,"gradient",{get:function(){return this._gradient},set:function(a){a!==this._gradient&&(this._gradient=a,this._updateGradient(a))},enumerable:!0,configurable:!0}),b.prototype._updateGradient=function(a){if(""===a||"none"===a)this._gradient="",this._shape.attr("fill","none");else{if(this._gradientEl)this._gradient||this._shape.attr("fill","url(#"+this._gradientEl.attr("id")+")");else{var b="gradient"+this.guid+"_"+f();this._gradientEl=this._svg.el("defs").el("linearGradient").attr({id:b,x1:"0%",y1:"0%",x2:"0%",y2:"100%"}),this._shape.attr("fill","url(#"+b+")")}var c=this._gradientEl,d=a.split(";");1===d.length&&(d=d.concat(d));for(var e=c.select("stop"),g=e.length,h=d.length,i=1/(h-1),j=0;j<g&&j<h;++j){var k=e[j];k.setAttribute("offset",j*i+""),k.setAttribute("stop-color",d[j])}for(;j<h;++j)c.el("stop").attr({offset:j*i,"stop-color":d[j]});for(;j<g;++j)c[0].removeChild(e[j])}},b.prototype._onActualWidthChange=function(){this._onActualSizeChange()},b.prototype._onActualHeightChange=function(){this._onActualSizeChange()},b.prototype._onActualSizeChange=function(){this.updateViewBox(!0)},d(b.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(a){if(this._strokeWidth!==a){var b=this._strokeWidth;this._shape[0].setAttribute("stroke-width",(this._strokeWidth=a)+""),this.updateViewBox(!0),this.notifyPropertyChange("strokeWidth",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(a){if(this._strokeColor!==a){var b=this._strokeColor;this._shape[0].setAttribute("stroke",a),this.notifyPropertyChange("strokeColor",b)}},enumerable:!0,configurable:!0}),b.prototype._clearUpdateTimer=function(){null!=this._updateTimer&&(uc(this._updateTimer),this._updateTimer=null)},b.prototype.updateViewBox=function(a){var b=this;if(this._visible&&this._stage){if(a||this.needUpdateViewBox){this._clearUpdateTimer();var c=this._svg[0],d=c.getBBox();if(d.width+d.height===0)return void(this._updateTimer=tc(function(){b.updateViewBox()},16));var e=1.45*this._strokeWidth,f=0,g=0,h=0,i=this._shadow;if(i&&"none"!==i){var j=i.split(" ");f=+j[0].slice(0,-2)||0,g=+j[1].slice(0,-2)||0,h=(+j[2].slice(0,-2)||0)/2+1}var k=Math.max,l=Math.min,m=d.x+l(0,f-h)-e,n=d.y+l(0,g-h)-e,o=d.width+2*e+k(0,h-f)+k(0,f+h),p=d.height+2*e+k(0,h-g)+k(0,g+h);c.setAttribute("viewBox",m+" "+n+" "+o+" "+p),c.setAttribute("height",""+p),c.setAttribute("width",""+o),Ye(c,{left:m,top:n}),this.needUpdateViewBox=!1}}else a&&(this.needUpdateViewBox=!0)},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this.updateViewBox()},b}(Ie);Ge.register("shape",null,{borderColor:"strokeColor",borderWidth:"strokeWidth"});var Kf=function(a){function b(){a.call(this),this._textContent=""}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this)},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(a=a||"",this._textContent!==a){this._wrapper||(this._wrapper=this._node.addClass("leo-comp--shape-adv").el("div").addClass("leo-comp--shape__text leo-center-wrapper"),this._text=this._wrapper.el("div").addClass("leo-center-target"),this._textFormat=new Bi(this._text,this),this._textFormat.deep=!0);var b=this._textContent;this._text.html(this._textContent=a,!0),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),b.prototype._onActualSizeChange=function(){this.render(),a.prototype._onActualSizeChange.call(this)},b.prototype.render=function(){},b.prototype.destroy=function(){this.textFormat&&this._textFormat.destroy(),a.prototype.destroy.call(this)},b.textType=2,b}(Jf);Ge.register("advshape","shape",{gradient:"gradient"},function(a){return Bi.compatProperty(a)});var Lf=function(a){function b(){a.call(this),this._maxArrowWidth=60,this._maxTailWidth=40}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},d(b.prototype,"maxArrowWidth",{get:function(){return this._maxArrowWidth},set:function(a){this._maxArrowWidth!==a&&(this._maxArrowWidth=a,this.render())},enumerable:!0,configurable:!0}),d(b.prototype,"maxTailWidth",{get:function(){return this._maxTailWidth},set:function(a){this._maxTailWidth!==a&&(this._maxTailWidth=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=Math.min(this._maxTailWidth,b/2),d=Math.min(this._maxArrowWidth,2*a/3),e=(b-c)/2;this._shape.attr("points",[0,e+c,0,e,a-d,e,a-d,0,a,b/2,a-d,b,a-d,e+c].join(","))},b}(Kf);He.register("arrow",Lf,"advshape");var Mf=function(a){function b(){a.call(this),this._x1=0,this._y1=0,this._x2=0,this._y2=0}return oc(b,a),b.prototype.createShape=function(){return this._line=vi("svg:line")},d(b.prototype,"x1",{get:function(){return this._x1},set:function(a){if(this._x1!==a){var b=this._x1;this._updateXY(!0,this._x1=a,this._x2),this.notifyPropertyChange("x1",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"y1",{get:function(){return this._y1},set:function(a){if(this._y1!==a){var b=this._y1;this._updateXY(!1,this._y1=a,this._y2),this.notifyPropertyChange("y1",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"x2",{get:function(){return this._x2},set:function(a){if(this._x2!==a){var b=this._x2;this._updateXY(!0,this._x1,this._x2=a),this.notifyPropertyChange("x2",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"y2",{get:function(){return this._y2},set:function(a){if(this._y2!==a){var b=this._y2;this._updateXY(!1,this._y1,this._y2=a),this.notifyPropertyChange("y2",b)}},enumerable:!0,configurable:!0}),b.prototype._updateXY=function(a,b,c){var d=this._line,e=a?"x":"y";b<c?d.attr(e+"1","0").attr(e+"2",c-b+""):d.attr(e+"2","0").attr(e+"1",b-c+""),a?(this.x=Math.min(b,c),this.actualWidth=Math.abs(c-b)):(this.y=Math.min(b,c),this.actualHeight=Math.abs(c-b))},b}(Jf);Ge.register("line","shape",{width:"!",height:"!",left:"!",top:"!",rotate:"!"}),He.register("line",Mf);var Nf=function(a){function b(){a.call(this),this._angle=45}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("strokeWidth",this._updateArrows,this)},b.prototype.createShape=function(){var b=vi("svg:g");return b.append(a.prototype.createShape.call(this)),this._arrows=[b.el("line").attr({"stroke-linecap":"round","stroke-linejoin":"round"}),b.el("line").attr({"stroke-linecap":"round","stroke-linejoin":"round"})],b},d(b.prototype,"arrowAngle",{get:function(){return this._angle},set:function(a){this._angle!==a&&(this._angle=a,this._updateArrows())},enumerable:!0,configurable:!0}),b.prototype._updateXY=function(b,c,d){a.prototype._updateXY.call(this,b,c,d),this._updateArrows()},b.prototype._updateArrows=function(){var a=this.x1,b=this.x2,c=this.y1,d=this.y2,e=Math.min(a,b),f=Math.min(c,d),g=b-a,h=d-c,i=g?Math.atan(h/g):Lc;(h*i<0||!h&&g<=0)&&(i+=Kc);var j=Math.sqrt(g*g+h*h),k=Math.min(2*this.strokeWidth,j/3),l=k/j-1,m=l*k*Math.cos(i),n=l*k*Math.sin(i),o=Math.cos(this._angle*Nc),p=Math.sin(this._angle*Nc);this._arrows[0].attr({x1:(b-=e)+"",y1:(d-=f)+"",x2:b+m*o-n*p,y2:d+n*o+m*p}),this._arrows[1].attr({x1:b+"",y1:d+"",x2:b+m*o+n*p,y2:d+n*o-m*p})},b}(Mf);He.register("arrowline",Nf,"line");var Of=function(a){function b(){a.call(this),this._maxCrossWidth=40}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},d(b.prototype,"maxCrossWidth",{get:function(){return this._maxCrossWidth},set:function(a){this._maxCrossWidth!==a&&(this._maxCrossWidth=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=Math.min(this._maxCrossWidth,a/2),d=(a-c)/2,e=(b-c)/2;this._shape.attr("points",[0,e+c,0,e,d,e,d,0,d+c,0,d+c,e,a,e,a,e+c,d+c,e+c,d+c,b,d,b,d,b-e].join(","))},b}(Kf);He.register("cross",Of,"advshape");var Pf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.watch("strokeWidth",this._updateDashArray,this)},b.prototype._updateXY=function(b,c,d){a.prototype._updateXY.call(this,b,c,d),this._updateDashArray()},b.prototype._updateDashArray=function(){this._line.attr("stroke-dasharray",this.strokeWidth+5+"px")},b}(Mf);He.register("dottedline",Pf,"line");var Qf=function(a){function b(){a.call(this),this._angle=30}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},d(b.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle!==a&&(this._angle=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=b/2*Math.tan(this._angle*Nc);this._shape.attr("points",[0,0,a-c,0,a,b/2,a-c,b,0,b,c,b/2].join(","))},b}(Kf);He.register("dovetailed",Qf,"advshape");var Rf=function(a){function b(){a.call(this),this._textContent="",this._strokeWidth=1,this._strokeColor="rgba(0,0,0,0)",this._gradient=""}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._node.addClass("leo-comp--shape-rect leo-center-wrapper"),this._text=this._node.el("div").addClass("leo-center-target"),this._textFormat=new Bi(this._text,this),this._textFormat.deep=!0},d(b.prototype,"textContent",{get:function(){return this._textContent},set:function(a){if(this._textContent!==a){var b=this._textContent;this._text.html(this._textContent=a,!0),this.notifyPropertyChange("textContent",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"textFormat",{get:function(){return this._textFormat},enumerable:!0,configurable:!0}),d(b.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(a){if(this._strokeWidth!==a){var b=this._strokeWidth;this._dom.style.borderWidth=(this._strokeWidth=a)+"px",this.notifyPropertyChange("strokeWidth",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(a){if(this._strokeColor!==a){var b=this._strokeColor;this._dom.style.borderColor=this._strokeColor=a,this.notifyPropertyChange("strokeColor",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"gradient",{get:function(){return this._gradient},set:function(a){if(this._gradient!==a)if(this._gradient=a,"none"!==a&&a){var b=a.split(";");1===b.length?(this._dom.style.backgroundImage="none",this._dom.style.backgroundColor=b[0]):this._dom.style.backgroundImage=Ub("bottom",b)}else this._dom.style.backgroundImage="none",this._dom.style.backgroundColor=""},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this._textFormat.destroy(),this._textFormat=null,this._text=null,a.prototype.destroy.call(this)},b.textType=2,b}(Ie);Ge.register("rectangle",null,{borderColor:"strokeColor",borderWidth:"strokeWidth",gradient:"gradient"},function(a){return Bi.compatProperty(a)}),He.register("rectangle",Rf),He.register("hightlightarea",Rf,"rectangle");var Sf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this._node.style("borderRadius","100%")},b}(Rf);He.register("ellipse",Sf,"advshape");var Tf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){var b=a.prototype.createShape.call(this);return this._rects=[b.el("rect"),b.el("rect"),b.el("rect")],b},b.prototype.render=function(){for(var a=this.actualWidth/6,b=~~a,c=this.actualHeight,d=[0,0,b,c,b,0,a<<2,c,~~(5*a),0,b,c],e=this._rects,f=-4,g=d.length;(f+=4)+3<g;)e[f>>2].attr({x:d[f],y:d[f+1],width:d[f+2],height:d[f+3]})},b}(Kf);He.register("flowchart",Tf,"advshape");var Uf=function(a){function b(){a.call(this),this._hasAngleSet=!1,this._angle=0}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},d(b.prototype,"angle",{get:function(){return this._angle},set:function(a){this._hasAngleSet?this._angle!==a&&(this._angle=a,this.render()):(this._hasAngleSet=!0,this._angle=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=this._hasAngleSet?b/2*Math.tan(this._angle*Nc):a/4;this._shape.attr("points",[0,b/2,c,0,a-c,0,a,b/2,a-c,b,c,b].join(","))},b}(Kf);He.register("hexagon",Uf,"advshape");var Vf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b,.75*a,b,a,0,.25*a,0].join(","))},b}(Kf);He.register("parallelogram",Vf,"advshape");var Wf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b/3,a/2,0,a,b/3,.8*a,b,.2*a,b].join(","))},b}(Kf);He.register("pentagon",Wf,"advshape");var Xf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth/2,b=this.actualHeight/2;this._shape.attr("points",[0,b,a,2*b,2*a,b,a,0].join(","))},b}(Kf);He.register("prismatic",Xf,"advshape");var Yf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b,a,b,.75*a,0,.25*a,0].join(","))},b}(Kf);He.register("trapezoid",Yf,"advshape");var Zf=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;this._shape.attr("points",[0,b,a,b,a/2,0].join(","))},b}(Kf);He.register("triangle",Zf,"advshape");var $f=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this)},b.prototype.createShape=function(){var b=a.prototype.createShape.call(this);b[0].style.setProperty("fill","none","important");for(var c=this._lines=[b.el("line"),b.el("line"),b.el("line"),b.el("line")],d={x1:0,y1:0,x2:0,stroke:"#808080","stroke-linecap":"square","stroke-width":2},e=-1,f=c.length;++e<f;)c[e].attr(d);return c[1].attr("y2",0),c[2].attr("stroke","#e6e6e6"),c[3].attr({x1:0,stroke:"#e6e6e6"}),b},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=this._lines;c[0].attr("y2",b),c[1].attr("x2",a),c[2].attr({x1:a,x2:a,y2:b}),c[3].attr({y1:b,y2:b,x2:a})},b}(Kf);He.register("virtualbox",$f,"advshape");var _f=function(a){function b(){a.call(this),this._maxArrowWidth=60,this._maxTailHeight=40}return oc(b,a),b.prototype.createShape=function(){var a=vi("svg:g");return this._polygons=[a.el("polygon"),a.el("rect"),a.el("rect")],a},d(b.prototype,"maxArrowWidth",{get:function(){return this._maxArrowWidth},set:function(a){this._maxArrowWidth!==a&&(this._maxArrowWidth=a,this.render())},enumerable:!0,configurable:!0}),d(b.prototype,"maxTailHeight",{get:function(){return this._maxTailHeight},set:function(a){this._maxTailHeight!==a&&(this._maxTailHeight=a,this.render())},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight,c=Math.min(this._maxTailHeight,b/2),d=Math.min(this._maxArrowWidth,2*a/3),e=(a-d)/36,f=3*e,g=(b-c)/2,h=this._polygons;h[0].attr("points",[2*f+" "+(g+c),2*f+" "+g,a-d+" "+g,a-d+" 0",a+" "+b/2,a-d+" "+b,a-d+" "+(g+c)].join(","));for(var i=[0,g,e,c,2*e,g,f,c],j=-4,k=i.length;(j+=4)+3<k;)h[1+(j>>2)].attr({x:i[j],y:i[j+1],width:i[j+2],height:i[j+3]})},b}(Kf);He.register("virtualend",_f,"advshape");var ag=function(a){function b(){a.call(this),this._actualHandlerX=0,this._actualHandlerY=0}return oc(b,a),d(b.prototype,"handlerX",{get:function(){return this._actualHandlerX+this.x},set:function(a){a-=this.x,this._actualHandlerX!==a&&(this._actualHandlerX=a,this.render())},enumerable:!0,configurable:!0}),d(b.prototype,"handlerY",{get:function(){return this._actualHandlerY+this.y},set:function(a){a-=this.y,this._actualHandlerY!==a&&(this._actualHandlerY=a,this.render())},enumerable:!0,configurable:!0}),b.prototype._onXChange=function(a){this._actualHandlerX+=a-this.x,this.render()},b.prototype._onYChange=function(a){this._actualHandlerY+=a-this.y,this.render()},b}(Kf),bg=function(a){function b(){a.call(this),this.quadValPercentage=.25}return oc(b,a),b.prototype.createShape=function(){return vi("svg:polygon")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;if(a&&b){var c=[0,0,a,0,a,b,0,b],d=this._getArea(),e=this._getHandlerPoints(d);if(e)for(var f=(d+2)%4<<1,g=-1,h=e.length;++g<h;)c.splice(f+g,0,e[g]);this._shape.attr("points",c.join(","))}},b.prototype._getArea=function(){return~~((Math.atan2(this._actualHandlerY-this.actualHeight/2,this._actualHandlerX-this.actualWidth/2)*Oc+45+360)/90)%4},b.prototype._getHandlerPoints=function(a,b){var c=this._actualHandlerX,d=this._actualHandlerY,e=this.actualWidth,f=this.actualHeight;if(!b&&c>=0&&c<=e&&d>=0&&d<=f)return null;var g=this.quadValPercentage;switch(a){case 0:var h=f*g;return d<f/2?[e,Math.max(d,0),c,d,e,Math.max(d+h,h)]:[e,Math.min(d-h,3*h),c,d,e,Math.min(d,f)];case 2:var h=f*g;return d>=f/2?[0,Math.min(d,f),c,d,0,Math.min(d-h,3*h)]:[0,Math.max(d+h,h),c,d,0,Math.max(d,0)];case 1:var h=e*g;return c>=e/2?[Math.min(c,e),f,c,d,Math.min(c-h,3*h),f]:[Math.max(c+h,h),f,c,d,Math.max(c,0),f];case 3:var h=e*g;return c<e/2?[Math.max(c,0),0,c,d,Math.max(c+h,h),0]:[Math.min(c-h,3*h),0,c,d,Math.min(c,e),0]}},b}(ag);He.register("rectangulardialogbox",bg,"advshape");var cg=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){return vi("svg:path")},b.prototype.render=function(){var a=this.actualWidth,b=this.actualHeight;if(a&&b){var c=this._getHandlerPoints(this._getArea(),!0),d=this.borderRadius||Math.min(a/8,10),e=["M"+d+" 0","L"+(a-d)+" 0","A"+d+" "+d+" 0 0 1 "+a+" "+d,"L"+a+" "+(b-d),"A"+d+" "+d+" 0 0 1 "+(a-d)+" "+b,"L"+d+" "+b,"A"+d+" "+d+" 0 0 1 0 "+(b-d),"L0 "+d,"A"+d+" "+d+" 0 0 1 "+d+" 0","Z"];this._shape.attr("d",this._insertHandlerPoints(c,e,d).join(" "))}},b.prototype._getGridPosition=function(a,b,c){return(a<=c?0:a<=this.actualWidth-c?3:6)+(b<=c?1:b<=this.actualHeight-c?2:3)},b.prototype._insertHandlerPoints=function(a,c,d){var e=this._getGridPosition(a[0],a[1],d),f=this._getGridPosition(a[4],a[5],d),g=b._cornerPosMap,h=b._insPosMap,i=this.actualWidth,j=this.actualHeight;if(e===f){g[e]?c.splice(h[e],0,"A"+d+" "+d+" 0 0 1 "+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]):c.splice(h[e],0,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5])}else switch(e){case 1:c.splice(0,1,"M"+a[4]+" "+a[5]),c.splice(8,1,(a[0]?"A"+d+" "+d+" 0 0 1 ":"L")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]),4!==f&&c.splice(1,2);break;case 2:c.splice(7,a[5]?1:2,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 3:c.splice(6,2!==f?2:1,(a[1]===j?"L":"A"+d+" "+d+" 0 0 1 ")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 4:c.splice(1,a[4]===i?2:1,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 6:c.splice(5,a[4]?1:2,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 7:c.splice(2,8!==f?2:1,(a[1]?"A"+d+" "+d+" 0 0 1 ":"L")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 8:c.splice(3,a[5]===j?2:1,"L"+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5]);break;case 9:c.splice(4,f+3!==e?2:1,(a[0]===i?"L":"A"+d+" "+d+" 0 0 1 ")+a[0]+" "+a[1],"L"+a[2]+" "+a[3],"L"+a[4]+" "+a[5])}return c},b._cornerPosMap={1:!0,3:!0,7:!0,9:!0},b._insPosMap=[0,8,7,6,1,0,5,2,3,4],b}(bg);He.register("roundedrectangulardialogbox",cg,"advshape");var dg=function(a){function b(){a.call(this),this.node.addClass("leo-comp--bubble-dialog"),this.watch("actualWidth actualHeight x y",this._onLocatedChange,this)}return oc(b,a),b.prototype._onLocatedChange=function(){var a=this.actualWidth,b=this.actualHeight;if(a&&b){this.borderRadius=Math.min(a/20,10);var c,d,e=this.located.toLowerCase(),f=.06,g=320;switch(e){case"right":c=a+f*Math.min(b,g),d=b/2;break;case"left":c=-f*Math.min(b,g),d=b/2;break;case"top":c=a/2,d=-f*Math.min(a,g);break;default:c=a/2,d=b+f*Math.min(a,g)}this._actualHandlerX=c,this._actualHandlerY=d,this.render()}},b.prototype._getHandlerPoints=function(a,b){var c=this._actualHandlerX,d=this._actualHandlerY,e=this.actualWidth,f=this.actualHeight;if(!b&&c>=0&&c<=e&&d>=0&&d<=f)return null;var g,h=.12,i=162;switch(a){case 0:return g=Math.min(f,i)*h,[e,d-g/2,c,d,e,d+g/2];case 2:return g=Math.min(f,i)*h,[0,d+g/2,c,d,0,d-g/2];case 1:return g=Math.min(e,i)*h,[c+g/2,f,c,d,c-g/2,f];case 3:return g=Math.min(e,i)*h,[c-g/2,0,c,d,c+g/2,0]}},b.prototype._onBackgroundColorChange=function(){var a=this.backgroundColor;a&&!this.gradient&&this._shape.attr("fill",a)},b.prototype._onXChange=function(a){},b.prototype._onYChange=function(a){},b}(cg);Ra(dg.prototype,{located:"top",backgroundColor:""}),Ge.register("bubbledialogbox","advshape",{backgroundColor:"backgroundColor",
borderRadius:"borderRadius"}),He.register("bubbledialogbox",dg);var eg=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){var b=a.prototype.createShape.call(this);return this._cloud=b.el("path"),this._circles=[b.el("circle"),b.el("circle")],b},b.prototype._renderCircles=function(){var a=this._circles,b=this.actualWidth/2,c=this.actualHeight/2,d=Math.max(2*b,2*c)/25,e=this._actualHandlerX,f=this._actualHandlerY;a[1].attr({r:3*d/5,cx:e,cy:f});var g=tb(e-b,f-c,b,c);a[0].attr({r:d,cx:(g[0]+b+e)/2,cy:(g[1]+c+f)/2})},b.prototype.render=function(){var a=b.pathData,c=this.actualWidth/a.width,d=this.actualHeight/a.height;this._cloud.attr("d",c*d?gg.transformPath(a.path,c,d):""),this._renderCircles()},b.pathData={path:"M42.128,47.696c0,0-7.188,0.875-11.438-0.688c-2.563-0.941-4.188-3.563-4.188-3.563s-9.439,1.243-13.939,0.43S4.812,40.563,3,38.813s-2.948-4.77-2.999-8.244c-0.05-3.438,1.123-6.746,2.938-8.438c3.688-3.438,7.938-4.938,7.938-4.938s-0.53-1.672,0.467-3.674c0.908-1.826,1.902-3.023,5.347-4.514c4.188-1.813,7.563-0.5,9.188-0.125s4.188,2.438,4.188,2.438s5.5-11,21.437-11.313c15.938-0.313,21.348,11.016,21.811,11.877c1.314,2.438,1.375,5.688,1.375,5.688s7.5,2.75,9.564,7.188c2.063,4.438,1.188,7.872,0.438,9.938c-2.75,7.563-8.941,8.617-8.941,8.617s-1.061,2.884-5.936,5.071c-4.938,2.125-12.176,1.813-12.176,1.813s-1.643,6.071-7.764,5.974C43.752,56.074,42.128,47.696,42.128,47.696z",width:88,height:58},b}(ag);He.register("clouddialogbox",eg,"advshape");var fg=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){return vi("svg:path")},b.prototype.render=function(){var a=this.actualWidth/2,b=this.actualHeight/2,c=this._actualHandlerX-a,d=this._actualHandlerY-b;if(c*c/(a*a)+d*d/(b*b)<1)return void this._shape.attr("d","M"+a+" 0 A"+a+" "+b+" 0 1 1 0 "+b+" A"+a+" "+b+" 0 0 1 "+a+" 0 Z");var e=Math.atan2(d,c)*Oc,f=Math.tan((e-15)*Nc),g=Math.tan((e+15)*Nc),h=a*b/Math.sqrt(b*b+f*f*a*a)||0,i=f*h,j=(h-c)*(h-c)+(i-d)*(i-d),k=(h+c)*(h+c)+(i+d)*(i+d);j>k&&(h*=-1,i*=-1);var l=a*b/Math.sqrt(b*b+g*g*a*a)||0,m=g*l,j=(l-c)*(l-c)+(m-d)*(m-d),k=(l+c)*(l+c)+(m+d)*(m+d);j>k&&(l*=-1,m*=-1),this._shape.attr("d",["M"+(h+a)+" "+(i+b),"A"+a+" "+b+" 0 1 0 "+(l+a)+" "+(m+b),"L"+(c+a)+" "+(d+b),"Z"].join(" "))},b}(ag);He.register("ovaldialogbox",fg,"advshape");var gg=function(a){function b(){a.call(this)}return oc(b,a),b.prototype.createShape=function(){var a=vi("svg:g");return this._createPaths(a),this._createFills(a),this._createStrokes(a),a},b.prototype._createPaths=function(a){this._pathEls=null;var b=this._paths;if(b){this._pathEls=[];for(var c=-1,d=b.length;++c<d;)this._pathEls.push(a.el("path"))}},b.prototype._createStrokes=function(a){this._strokeEls=null;var b=this._strokes;if(b){this._strokeEls=[];for(var c=-1,d=b.length;++c<d;)this._strokeEls.push(a.el("path").attr({fill:"none","stroke-linejoin":"round"}))}},b.prototype._createFills=function(a){this._fillEls=null;var b=this._fills;if(b){this._fillEls=[];for(var c=-1,d=b.length;++c<d;)this._fillEls.push(a.el("path").attr({stroke:"none","fill-rule":"evenodd","clip-rule":"evenodd"}))}},d(b.prototype,"_paths",{get:function(){return this.constructor.pathData.paths},enumerable:!0,configurable:!0}),d(b.prototype,"_strokes",{get:function(){return this.constructor.pathData.strokes},enumerable:!0,configurable:!0}),d(b.prototype,"_fills",{get:function(){return this.constructor.pathData.fills},enumerable:!0,configurable:!0}),d(b.prototype,"_baseWidth",{get:function(){return this.constructor.pathData.width},enumerable:!0,configurable:!0}),d(b.prototype,"_baseHeight",{get:function(){return this.constructor.pathData.height},enumerable:!0,configurable:!0}),b.prototype.render=function(){var a,c,d=this.actualWidth/this._baseWidth,e=this.actualHeight/this._baseHeight,f=b.transformPath;if(a=this._pathEls){c=this._paths;for(var g=-1,h=c.length;++g<h;)a[g].attr("d",d*e?f(c[g],d,e):null)}if(a=this._fillEls){c=this._fills;for(var g=-1,h=c.length;++g<h;)a[g].attr("d",d*e?f(c[g],d,e):null)}if(a=this._strokeEls){c=this._strokes;for(var g=-1,h=c.length;++g<h;)a[g].attr("d",d*e?f(c[g],d,e):null)}},b.transformPath=function(a,b,c){for(var d,e=/([a-zA-Z])([\d.,\s\-]*)/g,f=/(-?[\d.]+)(,?\s*)/g,g="",h=0;d=e.exec(a);){var i=d[1],j=d[2];switch(g+=a.substring(h,d.index)+i,h=e.lastIndex,i=i.toLowerCase(),f.lastIndex=0,i){case"v":d=f.exec(j),g+=+d[1]*c+d[2];break;case"h":d=f.exec(j),g+=+d[1]*b+d[2];break;default:for(var k=0,l=0,m="a"===i;d=f.exec(j);){var n=+d[1],o=d[2];m?(k<2||k>4)&&(n*=(k+(k>4?1:0))%2?c:b):n*=k%2?c:b,++k,g+=n+o,l=f.lastIndex}g+=j.substr(l)}}return g+a.substr(h)},b}(Kf),hg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M0,36.727L36.64,36.727L47.962,0 59.285,36.727L95.924,36.727L66.282,59.424L77.605,96.151L47.962,73.453L18.32,96.151L29.643,59.424L0,36.727z"],strokes:["M0,36.727L36.64,36.727L47.962,0L59.285,36.727L95.924,36.727L66.282,59.424L77.605,96.151L47.962,73.453L18.32,96.151L29.643,59.424L0,36.727z"],width:98,height:99},b}(gg);He.register("5pointstar",hg,"advshape");var ig=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={paths:["M0,60.095C0,26.905,26.842,0,59.953,0l0,0l0,0c33.11,0,59.952,26.905,59.952,60.095l0,0l0,0c0,33.189-26.842,60.095-59.952,60.095l0,0l0,0C26.842,120.189,0,93.284,0,60.095L0,60.095L0,60.095z M29.977,60.095c0,16.595,13.421,30.047,29.977,30.047l0,0l0,0c16.555,0,29.976-13.452,29.976-30.047S76.508,30.047,59.953,30.047l0,0l0,0C43.397,30.047,29.977,43.5,29.977,60.095L29.977,60.095z"],width:124,height:124},b}(gg);He.register("circle",ig,"advshape");var jg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={paths:["M19.758,54.438c-2.523-19.239,10.468-36.957,29.017-39.573c7.516-1.061,15.158,0.524,21.703,4.502l0,0c6.935-13.559,23.141-18.712,36.196-11.51c2.283,1.26,4.378,2.856,6.221,4.739l0,0c5.401-11.24,18.557-15.806,29.385-10.199c2.996,1.552,5.61,3.796,7.642,6.56v0c8.705-10.629,24.089-11.942,34.359-2.933c4.316,3.787,7.226,9.009,8.229,14.772l0,0c14.265,4.037,22.679,19.329,18.795,34.155c-0.326,1.247-0.736,2.468-1.226,3.655l0,0c11.439,15.449,8.639,37.591-6.255,49.456c-4.637,3.694-10.113,6.086-15.9,6.944l0,0c-0.129,16.62-13.232,29.985-29.268,29.852c-5.357-0.044-10.599-1.624-15.144-4.564l0,0c-5.424,18.633-24.343,29.165-42.256,23.523c-7.507-2.364-13.994-7.365-18.354-14.148l0,0c-18.341,11.477-42.147,5.304-53.173-13.788c-0.139-0.24-0.275-0.482-0.41-0.726l0,0c-12.003,1.457-22.876-7.428-24.285-19.846c-0.751-6.619,1.355-13.244,5.757-18.11l0,0C0.398,90.853-3.094,76.921,2.993,66.083c3.511-6.253,9.67-10.386,16.582-11.129L19.758,54.438z","M23.738,99.605c-4.437,0.36-8.874-0.703-12.714-3.049 M34.956,132.971c-1.785,0.736-3.655,1.228-5.563,1.459 M82.889,149.003c-1.342-2.088-2.466-4.319-3.352-6.656 M144.872,132.405c-0.198,2.477-0.646,4.925-1.339,7.304 M171.483,87.276c10.061,5.079,16.409,15.699,16.319,27.297 M209.975,58.203c-1.629,3.949-4.116,7.453-7.267,10.235 M192.539,20.223c0.277,1.595,0.406,3.214,0.384,4.834 M146.131,14.584c0.946-2.23,2.2-4.307,3.723-6.165 M111.313,17.522c0.386-1.843,0.992-3.629,1.803-5.317 M70.452,19.328c2.368,1.439,4.559,3.171,6.524,5.158 M20.897,59.867c-0.517-1.775-0.897-3.59-1.139-5.427"],width:226,height:174},b}(gg);He.register("cloud",jg,"advshape");var kg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={paths:["M0,38.611L158.163,38.611L158.163,154.445L0,154.445L0,38.611","M158.163,38.611L191.977,0L191.977,115.834L158.163,154.445L158.163,38.611","M0,38.611L33.814,0L191.977,0L158.163,38.611L0,38.611"],width:196,height:158},b}(gg);He.register("cube",kg,"advshape");var lg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M0,86.019l15.19-16.471v7.611l0,0c22.612-3.768,39.878-15.563,44.415-30.344l0,0C65.859,67.2,46.376,87.19,15.19,92.386l0,0v7.613L0,86.019L0,86.019z","M60.76,54.429c0-21.65-27.204-39.203-60.761-39.203l0,0l0,0V0l0,0C33.556,0,60.76,17.552,60.76,39.203l0,0V54.429z"],strokes:["M60.76,54.429c0-21.65-27.204-39.203-60.761-39.203l0,0l0,0V0l0,0C33.556,0,60.76,17.552,60.76,39.203l0,0l0,0V54.429L60.76,54.429c0,17.877-18.742,33.488-45.57,37.959l0,0v7.613L0,86.019l15.19-16.471v7.611l0,0c22.612-3.768,39.878-15.563,44.415-30.344"],width:64,height:100},b}(gg);He.register("curvedleftarrow",lg,"advshape");var mg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={paths:["M0.012,39.205c0,17.875,18.744,33.488,45.571,37.957l0,0v-7.613l15.189,16.473l-15.189,13.98v-7.613l0,0C18.756,87.917,0.012,72.306,0.012,54.431V39.205z","M60.773,15.227c-29.009,0-53.971,13.23-59.604,31.589l0,0C-5.349,25.578,16.055,4.952,48.973,0.747C52.86,0.25,56.811,0,60.773,0V15.227L60.773,15.227z"],strokes:["M0.012,39.205c0,17.875,18.744,33.488,45.571,37.957l0,0v-7.613l15.189,16.473l-15.189,13.98v-7.613l0,0C18.756,87.917,0.012,72.306,0.012,54.431l0,0V39.205L0.012,39.205c0-21.651,27.204-39.203,60.761-39.203l0,0v15.227l0,0c-29.009,0-53.971,13.23-59.604,31.59"],width:64,height:100},b}(gg);He.register("curvedrightarrow",mg,"advshape");var ng=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M0,10.512c0,5.806,21.546,10.512,48.125,10.512S96.25,16.318,96.25,10.512l0,0v63.072l0,0c0,5.805-21.546,10.512-48.125,10.512S0,79.39,0,73.584l0,0V10.512z","M0,10.512C0,4.707,21.546,0,48.125,0S96.25,4.707,96.25,10.512l0,0l0,0c0,5.806-21.546,10.512-48.125,10.512S0,16.318,0,10.512L0,10.512L0,10.512z"],strokes:["M96.25,10.512c0,5.806-21.546,10.512-48.125,10.512S0,16.318,0,10.512l0,0l0,0C0,4.707,21.546,0,48.125,0S96.25,4.707,96.25,10.512L96.25,10.512L96.25,10.512v63.072l0,0c0,5.805-21.546,10.512-48.125,10.512S0,79.39,0,73.584l0,0v0V10.512"],width:100,height:88},b}(gg);He.register("cylinder",ng,"advshape");var og=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={paths:["M0,71.112C0,31.838,31.987,0,71.444,0l0,0l0,0c39.457,0,71.443,31.838,71.443,71.112l0,0l0,0c0,39.274-31.986,71.112-71.443,71.112l0,0l0,0C31.987,142.224,0,110.386,0,71.112L0,71.112L0,71.112z M110.866,92.29c11.8-21.581,3.716-48.557-18.057-60.253c-13.295-7.142-29.326-7.161-42.638-0.05L110.866,92.29zM32.021,49.935c-11.8,21.581-3.715,48.556,18.057,60.252c13.295,7.142,29.326,7.16,42.638,0.05L32.021,49.935z"],width:145,height:144},b}(gg);He.register("doublecircle",og,"advshape");var pg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M47.962,25.818L64.491,0L62.861,23.704L81.624,19.84L74.173,32.563L93.69,36.221L78.191,46.629L95.924,59.16L74.772,57.611L80.581,80.549L62.262,64.355L58.829,87.858L46.772,66.482L37.681,96.151L34.262,69.563L21.147,78.421L25.167,62.04L0.599,64.933L16.529,52.416L0,38.349L20.548,33.907L1.643,10.216L32.472,28.133L37.091,10.216L47.962,25.818z"],strokes:["M47.962,25.818L64.491,0L62.861,23.704L81.624,19.84L74.173,32.563L93.69,36.221L78.191,46.629L95.924,59.16L74.772,57.611L80.581,80.549L62.262,64.355L58.829,87.858L46.772,66.482L37.681,96.151L34.262,69.563L21.147,78.421L25.167,62.04L0.599,64.933L16.529,52.416L0,38.349L20.548,33.907L1.643,10.216L32.472,28.133L37.091,10.216L47.962,25.818z"],width:98,height:99},b}(gg);He.register("explosion1",pg,"advshape");var qg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M50,23.645c20.683-58.048,101.344,0,0,74.634C-51.344,23.645,29.317-34.403,50,23.645L50,23.645z"],strokes:["M50,23.645c20.683-58.048,101.344,0,0,74.634C-51.344,23.645,29.317-34.403,50,23.645L50,23.645z"],width:104,height:102},b}(gg);He.register("heart",qg,"advshape");var rg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M0,19.969L19.921,0L19.921,9.984L80.077,9.984L80.077,0L100,19.969L80.077,39.938L80.077,29.953L19.921,29.953L19.921,39.938L0,19.969z"],strokes:["M0,19.969L19.921,0L19.921,9.984L80.077,9.984L80.077,0L100,19.969L80.077,39.938L80.077,29.953L19.921,29.953L19.921,39.938L0,19.969z"],width:103,height:42},b}(gg);He.register("leftrightarrow",rg,"advshape");var sg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M37.624,0L57.11,27.065L49.072,30.256L73.617,53.449L65.579,57.321L95.924,96.151L44.462,66.393L54.277,62.262L22.302,43.201L33.76,37.312L0,17.316L37.624,0z"],strokes:["M37.624,0L57.11,27.065L49.072,30.256L73.617,53.449L65.579,57.321L95.924,96.151L44.462,66.393L54.277,62.262L22.302,43.201L33.76,37.312L0,17.316L37.624,0z"],width:98,height:99},b}(gg);He.register("lightningbolt",sg,"advshape");var tg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M21.79,6.582c0,3.634-2.438,6.582-5.447,6.582l0,0c-1.505,0-2.725-1.474-2.725-3.29c0-1.818,1.22-3.292,2.725-3.292l0,0H21.79z","M10.896,211.519c0,3.635-2.44,6.582-5.448,6.582S0,215.154,0,211.519c0-3.637,2.439-6.584,5.447-6.584l0,0l0,0c1.505,0,2.724,1.477,2.724,3.293c0,1.818-1.219,3.291-2.724,3.291l0,0H10.896z","M5.447,218.101c3.009,0,5.448-2.947,5.448-6.582l0,0H5.447l0,0c1.505,0,2.724-1.473,2.724-3.291c0-1.816-1.219-3.293-2.724-3.293l0,0l0,0h5.448V6.582l0,0C10.896,2.947,13.334,0,16.343,0l0,0l0,0h65.369l0,0c3.008,0,5.447,2.947,5.447,6.582c0,3.634-2.439,6.582-5.447,6.582l0,0l0,0h-5.447v198.355l0,0c0,3.635-2.44,6.582-5.448,6.582l0,0H5.447z M21.79,6.582c0,3.634-2.438,6.582-5.447,6.582l0,0c-1.505,0-2.725-1.474-2.725-3.29c0-1.818,1.22-3.292,2.725-3.292l0,0H21.79z"],strokes:["M10.896,204.935V6.582l0,0C10.896,2.947,13.334,0,16.343,0l0,0l0,0h65.369l0,0c3.008,0,5.447,2.947,5.447,6.582c0,3.634-2.439,6.582-5.447,6.582l0,0l0,0h-5.447v198.355l0,0c0,3.635-2.44,6.582-5.448,6.582l0,0l0,0H5.447l0,0c-3.008,0-5.447-2.947-5.447-6.582c0-3.637,2.439-6.584,5.447-6.584l0,0H10.896z M16.343,0c3.008,0,5.447,2.947,5.447,6.582c0,3.634-2.438,6.582-5.447,6.582l0,0l0,0c-1.505,0-2.725-1.474-2.725-3.29c0-1.818,1.22-3.292,2.725-3.292l0,0l0,0h5.447 M76.265,13.164H16.343 M5.447,204.935c1.505,0,2.724,1.477,2.724,3.293c0,1.818-1.219,3.291-2.724,3.291l0,0l0,0h5.448 M5.447,218.101c3.009,0,5.448-2.947,5.448-6.582l0,0v-6.584"],width:89,height:200},b}(gg);He.register("paper",tg,"advshape");var ug=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={paths:["M0,105.666L52.708,52.833L52.708,79.25L58.316,79.25L58.316,0L166.507,0L166.507,79.25L172.115,79.25L172.115,52.833L224.823,105.666L172.115,158.499L172.115,132.083L166.507,132.083L166.507,211.332L58.316,211.332L58.316,132.083L52.708,132.083L52.708,158.499L0,105.666"],width:227,height:213},b}(gg);He.register("polygon",ug,"advshape");var vg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M0,50L22.447,27.5L22.447,38.75L38.658,38.75L38.658,22.5L27.435,22.5L49.882,0L72.329,22.5L61.105,22.5L61.105,38.75L77.317,38.75L77.317,27.5L99.765,50L77.317,72.5L77.317,61.25L61.105,61.25L61.105,77.5L72.329,77.5L49.882,100L27.435,77.5L38.658,77.5L38.658,61.25L22.447,61.25L22.447,72.5L0,50z"],strokes:["M0,50L22.447,27.5L22.447,38.75L38.658,38.75L38.658,22.5L27.435,22.5L49.882,0L72.329,22.5L61.105,22.5L61.105,38.75L77.317,38.75L77.317,27.5L99.765,50L77.317,72.5L77.317,61.25L61.105,61.25L61.105,77.5L72.329,77.5L49.882,100L27.435,77.5L38.658,77.5L38.658,61.25L22.447,61.25L22.447,72.5L0,50z"],width:102,height:102},b}(gg);He.register("quadarrow",vg,"advshape");var wg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M0,40C0,17.909,17.866,0,39.905,0c22.04,0,39.905,17.909,39.905,40c0,22.092-17.865,40-39.905,40C17.866,80,0,62.092,0,40L0,40z","M22.964,28.037c0-2.301,1.86-4.167,4.156-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.861,4.167-4.157,4.167C24.825,32.204,22.964,30.338,22.964,28.037L22.964,28.037zM48.533,28.037c0-2.301,1.861-4.167,4.157-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.862,4.167-4.157,4.167C50.395,32.204,48.533,30.338,48.533,28.037L48.533,28.037z"],strokes:["M22.964,28.037c0-2.301,1.86-4.167,4.156-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.861,4.167-4.157,4.167C24.825,32.204,22.964,30.338,22.964,28.037L22.964,28.037z M48.533,28.037c0-2.301,1.861-4.167,4.157-4.167c2.295,0,4.157,1.865,4.157,4.167c0,2.302-1.862,4.167-4.157,4.167C50.395,32.204,48.533,30.338,48.533,28.037L48.533,28.037z","M18.276,57.443c14.419,9.928,28.822,9.928,43.208,0","M0,40C0,17.909,17.866,0,39.905,0c22.04,0,39.905,17.909,39.905,40c0,22.092-17.865,40-39.905,40C17.866,80,0,62.092,0,40L0,40z"],width:82,height:82},b}(gg);He.register("smileyface",wg,"advshape");var xg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={paths:["M0 0L100 0L100 80 Q75 80,50 92T0 93.3Z"],width:100,height:100},b}(gg);He.register("textflowchart",xg,"advshape");var yg=function(a){function b(){a.call(this)}return oc(b,a),b.pathData={fills:["M9.305,37.309c5.139,0,9.305-4.176,9.305-9.328l0,0c0-2.576-2.083-4.664-4.653-4.664c-2.569,0-4.652,2.088-4.652,4.664l0,0V37.309z","M245.494,18.655c5.139,0,9.305-4.176,9.305-9.328c0-5.151-4.166-9.327-9.305-9.327c-5.14,0-9.306,4.176-9.306,9.327l0,0l0,0c0,2.576,2.083,4.664,4.652,4.664c2.57,0,4.653-2.088,4.653-4.664V18.655z","M254.799,9.328c0,5.151-4.166,9.327-9.305,9.327l0,0l0,0V9.328l0,0c0,2.575-2.083,4.664-4.653,4.664c-2.569,0-4.652-2.088-4.652-4.664l0,0l0,0v9.327H9.305l0,0C4.166,18.655,0,22.831,0,27.982l0,0v111.926l0,0c0,5.151,4.166,9.327,9.305,9.327s9.305-4.176,9.305-9.327l0,0v-9.327h226.884l0,0c5.139,0,9.305-4.176,9.305-9.327V9.328z M9.305,37.309c5.139,0,9.305-4.176,9.305-9.328l0,0c0-2.576-2.083-4.664-4.653-4.664c-2.569,0-4.652,2.088-4.652,4.664l0,0V37.309z"],strokes:["M0,27.982c0-5.151,4.166-9.327,9.305-9.327l0,0l0,0h226.883V9.328l0,0c0-5.151,4.166-9.328,9.306-9.328c5.139,0,9.305,4.176,9.305,9.328l0,0l0,0v111.926l0,0c0,5.151-4.166,9.327-9.305,9.327l0,0l0,0H18.61v9.327l0,0c0,5.151-4.166,9.327-9.305,9.327S0,145.059,0,139.908l0,0V27.982z M236.188,18.655h9.306l0,0c5.139,0,9.305-4.176,9.305-9.328 M245.494,18.655V9.328l0,0c0,2.575-2.083,4.664-4.653,4.664c-2.569,0-4.652-2.088-4.652-4.664l0,0 M9.305,37.309v-9.327c0-2.576,2.083-4.664,4.652-4.664c2.57,0,4.653,2.088,4.653,4.664l0,0l0,0C18.61,33.133,14.444,37.309,9.305,37.309S0,33.133,0,27.982l0,0 M18.61,27.982v102.599"],width:257,height:151},b}(tg);He.register("tranpaper",yg,"advshape");var zg=function(a){function b(){a.call(this),this._backgroundColor="#000"}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("shortcut"),this.active(),this._shape.attr("fill","#fff")},b.prototype.active=function(){var a=this,b=this._backgroundColor;this.node.bind("tapstart",function(){b=a._backgroundColor,a.backgroundColor=Ee.brighter(a._backgroundColor,.3)}),this.node.bind("tapend",function(){a.backgroundColor=b}),this.node.bind("mouseleave",function(){a.backgroundColor=b})},d(b.prototype,"backgroundColor",{set:function(a){this.backgroundColor!==a&&(this._backgroundColor=a,this.node.style("backgroundColor",a))},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{set:function(a){a&&this._shadow!==a&&(this._shadow=a,this.node.style("boxShadow",a))},enumerable:!0,configurable:!0}),d(b.prototype,"textContent",{set:function(a){},enumerable:!0,configurable:!0}),d(b.prototype,"gradient",{set:function(a){},enumerable:!0,configurable:!0}),b}(gg);Ge.register("shortcut","advshape",{backgroundColor:"backgroundColor",shadow:"shadow"},null);var Ag=function(a){function b(){a.call(this),this.node.addClass("shortcut--download")}return oc(b,a),b.pathData={fills:["M35.81,35.949H14.197    c-0.661,0-1.197,0.539-1.197,1.195v1.598c0,0.66,0.541,1.195,1.197,1.195h21.605c0.661,0,1.197-0.539,1.197-1.195v-1.598    C37.013,36.479,36.471,35.949,35.81,35.949z","M24.167,33.805    c0.234,0.234,0.541,0.355,0.842,0.355c0.308,0,0.615-0.121,0.844-0.355l8.186-8.186c0.464-0.462,0.464-1.22,0-1.694l-1.134-1.136    c-0.463-0.462-1.221-0.462-1.695,0l-4.208,4.215V11.196c0-0.661-0.54-1.196-1.196-1.196h-1.597c-0.66,0-1.198,0.532-1.198,1.196    V27.01l-4.212-4.211c-0.463-0.463-1.225-0.463-1.695,0l-1.134,1.132c-0.464,0.464-0.464,1.226,0,1.694L24.167,33.805z"],width:50,height:50},b}(zg);He.register("shortcut-download",Ag,"shortcut");var Bg=function(a){function b(){a.call(this),this.node.addClass("shortcut--earth")}return oc(b,a),b.pathData={fills:["M37.998,24.867    c-0.005-0.381-0.023-0.758-0.059-1.13c-0.121-1.239-0.418-2.426-0.86-3.539c-0.033-0.083-0.063-0.167-0.099-0.249    c-0.592-1.396-1.422-2.669-2.439-3.768c-0.066-0.071-0.134-0.144-0.203-0.212c-0.191-0.199-0.389-0.395-0.593-0.581    C31.434,13.285,28.365,12,25,12c-3.393,0-6.484,1.308-8.801,3.443c-0.541,0.498-1.037,1.042-1.487,1.623    C13.014,19.263,12,22.014,12,25c0,7.168,5.832,13,13,13c5.042,0,9.42-2.888,11.575-7.094c0.461-0.899,0.819-1.858,1.062-2.863    c0.062-0.255,0.113-0.511,0.16-0.771C37.928,26.534,38,25.774,38,25C38.001,24.956,37.999,24.911,37.998,24.867z M35.551,19.671    l0.075-0.084c0.101,0.19,0.192,0.387,0.28,0.585l-0.123-0.006l-0.232,0.032V19.671L35.551,19.671z M33.672,17.402l0.002-0.58    c0.205,0.216,0.401,0.439,0.59,0.67l-0.234,0.35l-0.818-0.007l-0.051-0.172L33.672,17.402z M17.991,15.959v-0.021h0.26    l0.022-0.089h0.426v0.186l-0.123,0.164H17.99L17.991,15.959L17.991,15.959z M18.407,16.54c0,0,0.26-0.045,0.282-0.045    c0.023,0,0,0.261,0,0.261l-0.586,0.036l-0.112-0.134L18.407,16.54z M36.379,21.7h-0.952l-0.579-0.432l-0.609,0.06V21.7h-0.193    l-0.208-0.147l-1.056-0.27V20.6l-1.34,0.104l-0.414,0.223h-0.532l-0.261-0.026l-0.646,0.359v0.674l-1.318,0.952l0.109,0.405h0.268    l-0.07,0.388l-0.188,0.068l-0.012,1.013l1.141,1.299h0.496l0.03-0.08h0.892l0.258-0.238h0.506l0.277,0.278l0.754,0.078    l-0.101,1.003l0.836,1.478l-0.44,0.843l0.029,0.396l0.348,0.346v0.954l0.455,0.612v0.792h0.395    c-2.191,2.689-5.523,4.412-9.253,4.412c-6.578,0-11.93-5.354-11.93-11.932c0-1.655,0.34-3.232,0.952-4.669v-0.372l0.427-0.519    c0.148-0.279,0.307-0.553,0.476-0.818l0.02,0.218l-0.495,0.602c-0.154,0.289-0.297,0.586-0.427,0.891v0.68l0.495,0.237v0.943    l0.476,0.813l0.386,0.061l0.05-0.278l-0.456-0.704l-0.089-0.684h0.267l0.113,0.704l0.66,0.962l-0.17,0.31l0.419,0.643l1.041,0.258    v-0.169l0.416,0.06l-0.04,0.299l0.327,0.06l0.506,0.137l0.713,0.814l0.912,0.067l0.089,0.745l-0.624,0.437l-0.029,0.664    l-0.089,0.406l0.902,1.129l0.069,0.389c0,0,0.327,0.088,0.367,0.088s0.734,0.526,0.734,0.526v2.041l0.247,0.069l-0.168,0.941    l0.417,0.556l-0.077,0.936l0.55,0.967l0.707,0.617l0.71,0.013l0.069-0.228l-0.522-0.44l0.03-0.218l0.094-0.269l0.02-0.272    l-0.353-0.01l-0.179-0.225l0.293-0.282l0.04-0.212l-0.327-0.094l0.019-0.198l0.466-0.069l0.709-0.342l0.238-0.437l0.743-0.952    l-0.169-0.744l0.229-0.396l0.685,0.021l0.459-0.363l0.149-1.438l0.511-0.648l0.09-0.417l-0.467-0.147l-0.308-0.505l-1.051-0.011    l-0.833-0.317l-0.039-0.595l-0.278-0.485l-0.754-0.011l-0.435-0.685l-0.386-0.188l-0.02,0.209l-0.704,0.041l-0.258-0.358    l-0.734-0.148l-0.605,0.698l-0.952-0.161l-0.069-1.072l-0.695-0.118l0.279-0.526l-0.08-0.302l-0.913,0.61l-0.575-0.07    l-0.205-0.449l0.125-0.463l0.317-0.583l0.729-0.368l1.407-0.001l-0.003,0.431l0.506,0.233l-0.041-0.732l0.365-0.366l0.736-0.483    l0.05-0.341l0.734-0.764l0.78-0.433l-0.069-0.057l0.528-0.497l0.193,0.051l0.089,0.111l0.201-0.223l0.049-0.021l-0.22-0.03    l-0.223-0.073v-0.215l0.118-0.098h0.261l0.119,0.053l0.103,0.208l0.126-0.019v-0.02l0.036,0.013l0.366-0.057l0.052-0.179    l0.208,0.053v0.193l-0.193,0.133l0,0l0.028,0.213l0.663,0.204c0,0,0,0.003,0.002,0.008l0.152-0.013l0.01-0.287l-0.525-0.238    l-0.03-0.139L25.25,18.3l0.019-0.418l-0.455-0.276l-0.03-0.703l-0.625,0.307h-0.228l0.061-0.535l-0.851-0.2l-0.352,0.266v0.812    l-0.632,0.2l-0.254,0.528l-0.274,0.044v-0.676l-0.595-0.082l-0.297-0.194l-0.12-0.438l1.063-0.622l0.521-0.159l0.052,0.352    l0.29-0.016l0.022-0.176l0.303-0.043l0.006-0.063l-0.13-0.055l-0.03-0.186l0.373-0.031l0.225-0.233l0.012-0.018l0.002,0.001    l0.069-0.071l0.784-0.099l0.346,0.295l-0.909,0.482l1.156,0.273l0.149-0.388h0.506l0.178-0.337l-0.357-0.089v-0.428l-1.12-0.496    l-0.773,0.09l-0.437,0.229l0.03,0.555l-0.456-0.068l-0.07-0.309l0.437-0.396l-0.793-0.039l-0.228,0.067l-0.098,0.269l0.297,0.051    l-0.06,0.297l-0.505,0.03l-0.079,0.198l-0.733,0.019c0,0-0.021-0.415-0.05-0.415c-0.029,0,0.575-0.01,0.575-0.01l0.437-0.427    l-0.239-0.12l-0.317,0.308l-0.526-0.028l-0.317-0.437h-0.674l-0.703,0.525h0.645l0.059,0.188l-0.167,0.155l0.713,0.021    l0.109,0.258l-0.804-0.029l-0.039-0.198l-0.505-0.109l-0.268-0.147l-0.601,0.005c1.969-1.435,4.391-2.284,7.008-2.284    c3.018,0,5.773,1.129,7.876,2.981l-0.141,0.252l-0.55,0.216l-0.232,0.252l0.053,0.293l0.284,0.04l0.172,0.428l0.489-0.195    l0.081,0.571h-0.147l-0.402-0.061l-0.445,0.075l-0.432,0.608l-0.617,0.099l-0.09,0.526l0.261,0.063l-0.076,0.34l-0.612-0.123    l-0.562,0.123l-0.12,0.313l0.098,0.657l0.33,0.154l0.553-0.003l0.375-0.034l0.113-0.297l0.584-0.759l0.385,0.078l0.379-0.344    l0.07,0.27l0.932,0.628l-0.114,0.153l-0.419-0.022l0.161,0.229l0.258,0.057l0.303-0.126l-0.006-0.364l0.134-0.067l-0.107-0.113    l-0.622-0.349l-0.163-0.46h0.517l0.165,0.163l0.445,0.385l0.02,0.464l0.461,0.49l0.17-0.674l0.319-0.173l0.06,0.55l0.313,0.343    l0.623-0.012c0.12,0.311,0.229,0.624,0.323,0.946L36.379,21.7z M19.092,17.908l0.312-0.148l0.282,0.066l-0.097,0.379l-0.305,0.098    L19.092,17.908z M20.749,18.8v0.245h-0.713l-0.268-0.073l0.067-0.172l0.343-0.143h0.468V18.8H20.749z M21.077,19.142v0.238    l-0.178,0.114l-0.223,0.041c0,0,0-0.355,0-0.395L21.077,19.142L21.077,19.142z M20.875,19.045v-0.283l0.246,0.224L20.875,19.045z     M20.987,19.617v0.231l-0.171,0.172h-0.378l0.059-0.26l0.179-0.017l0.037-0.091L20.987,19.617z M20.043,19.142h0.395l-0.505,0.707    l-0.209-0.111l0.045-0.298L20.043,19.142z M21.657,19.536v0.23h-0.379l-0.104-0.149v-0.214h0.03L21.657,19.536z M21.307,19.219    l0.108-0.113l0.182,0.113l-0.146,0.12L21.307,19.219z M36.573,22.303l0.036-0.044c0.017,0.066,0.033,0.135,0.048,0.202    L36.573,22.303z"],width:50,height:50},b}(zg);He.register("shortcut-earth",Bg,"shortcut");var Cg=function(a){function b(){a.call(this),this.node.addClass("shortcut--mail")}return oc(b,a),b.pathData={fills:["M25,27.984C25,27.984,10,16,11.353,16   c5.397,0,27.293,0,27.293,0L25,27.984z","M19.564,25.387L10,33.786   c0,0,0-12.598,0-16.797C10,16,19.564,25.387,19.564,25.387z","M20.803,26.477L25,30.161l4.195-3.685   c0,0,10.555,8.307,9.459,8.307c-6.828,0-27.31,0-27.31,0L20.803,26.477z","M30.436,25.388c0,0,7.29-6.174,9.564-8.399   c0.5-0.489,0,16.797,0,16.797L30.436,25.388z"],width:50,height:50},b}(zg);He.register("shortcut-mail",Cg,"shortcut");var Dg=function(a){function b(){a.call(this),this.node.addClass("shortcut--first")}return oc(b,a),b.pathData={fills:["M13.831,36.951l0.053-23.646    c0.002-0.713-0.561-1.297-1.27-1.301L11.387,12c-0.713-0.002-1.295,0.58-1.299,1.289L10,36.639    c-0.002,0.714,0.58,1.296,1.289,1.299l1.224,0.007C13.23,37.961,13.828,37.664,13.831,36.951z","M14.269,24.027    c-0.254,0.252-0.384,0.583-0.385,0.909c-0.002,0.331,0.126,0.665,0.378,0.914l8.812,8.882c0.5,0.503,1.318,0.507,1.833,0.006    l1.229-1.22c0.504-0.5,0.506-1.318,0.006-1.832l-4.536-4.564l17.084,0.063c0.715,0.003,1.295-0.58,1.301-1.289L40,24.171    c0.002-0.713-0.57-1.294-1.289-1.296L21.62,22.808l4.569-4.535c0.504-0.5,0.508-1.324,0.008-1.832l-1.221-1.229    c-0.498-0.504-1.324-0.508-1.833-0.008L14.269,24.027z"],width:50,height:50},b}(zg);He.register("shortcut-first",Dg,"shortcut");var Eg=function(a){function b(){a.call(this),this.node.addClass("shortcut--last")}return oc(b,a),b.pathData={fills:["M36.169,12.993l-0.053,23.647    c-0.003,0.713,0.562,1.297,1.271,1.301l1.227,0.004c0.713,0.002,1.295-0.579,1.299-1.288L40,13.306    c0.002-0.714-0.58-1.296-1.289-1.299L37.486,12C36.77,11.983,36.173,12.279,36.169,12.993z","M35.73,25.918    c0.254-0.253,0.385-0.584,0.386-0.91c0.002-0.33-0.126-0.664-0.378-0.912l-8.813-8.883c-0.5-0.502-1.317-0.506-1.833-0.006    l-1.229,1.221c-0.504,0.5-0.507,1.318-0.007,1.832l4.537,4.564L11.306,22.76c-0.713-0.003-1.295,0.579-1.299,1.289L10,25.771    c-0.002,0.714,0.571,1.296,1.289,1.298l17.091,0.065l-4.57,4.533c-0.503,0.5-0.507,1.324-0.007,1.832l1.22,1.229    c0.499,0.504,1.325,0.507,1.833,0.007L35.73,25.918z"],width:50,height:50},b}(zg);He.register("shortcut-last",Eg,"shortcut");var Fg=function(a){function b(){a.call(this),this.node.addClass("shortcut--arrow-left")}return oc(b,a),b.pathData={fills:["M12.385,24.195    c-0.254,0.252-0.384,0.583-0.385,0.909c-0.002,0.331,0.126,0.666,0.378,0.914l8.812,8.883c0.5,0.502,1.318,0.507,1.833,0.006    l1.229-1.221c0.504-0.5,0.506-1.317,0.006-1.832l-4.537-4.563l17.083,0.063c0.715,0.002,1.295-0.58,1.302-1.289l0.009-1.726    c0.002-0.713-0.57-1.294-1.289-1.296l-17.091-0.067l4.569-4.535c0.504-0.5,0.508-1.324,0.008-1.832l-1.221-1.229    c-0.498-0.504-1.324-0.508-1.833-0.008L12.385,24.195z"],width:50,height:50.3},b}(zg);He.register("shortcut-left-arrow",Fg,"shortcut");var Gg=function(a){function b(){a.call(this),this.node.addClass("shortcut--page")}return oc(b,a),b.pathData={fills:["M33.996,35.73   c0,0.277-0.223,0.492-0.498,0.492H16.484c-0.274,0-0.484-0.213-0.484-0.477V14.465C16,14,16.208,14,16.484,14h11.553v4.252   c0,0-0.211,1.694,0.953,1.588c0.697,0.011,5.002,0.106,5.002,0.106L34,35.732L33.996,35.73L33.996,35.73z","M30.436,14l3.555,3.651   c0,0-1.67-0.138-2.514-0.075c-1.139,0.075-1.041-0.774-1.041-1.102V14L30.436,14z"],width:50,height:50},b}(zg);He.register("shortcut-page",Gg,"shortcut");var Hg=function(a){function b(){a.call(this),this.node.addClass("shortcut--arrow-right")}return oc(b,a),b.pathData={fills:["M37.73,26.084    c0.254-0.253,0.385-0.584,0.386-0.91c0.002-0.33-0.126-0.664-0.378-0.912l-8.813-8.883c-0.5-0.502-1.317-0.506-1.833-0.006    l-1.229,1.221c-0.504,0.5-0.507,1.318-0.007,1.832l4.536,4.564l-17.086-0.064c-0.713-0.003-1.295,0.579-1.299,1.289L12,25.938    c-0.002,0.713,0.571,1.295,1.289,1.297L30.38,27.3l-4.569,4.533c-0.503,0.5-0.507,1.324-0.007,1.832l1.22,1.229    c0.498,0.504,1.324,0.506,1.832,0.006L37.73,26.084z"],width:50,height:50},b}(zg);He.register("shortcut-right-arrow",Hg,"shortcut");var Ig=function(a){function b(){a.call(this),this.node.addClass("shortcut--share")}return oc(b,a),b.pathData={fills:["M13.298,36.75l22.441,0.004   c1.25,0.027,1.744-0.33,1.727-1.646l0.002-9.047l-2.684,1.641l0.035,6.671l-10.041-0.009l-11.192,0.006L13.49,18.1l5.629-0.004   l3.422-2.348h-9.533c-2.029,0.127-2.005-0.275-1.996,2.291L11,34.482C11.096,36.217,11.096,36.801,13.298,36.75z","M39.001,18.99l-7.482-5.74l0.188,3.018   c-3.57,0.433-4.968,0.854-9.701,2.847c-3.83,1.656-6.713,4.644-6.473,7.448c0.249,2.889,10.128,7.313,10.131,7.801   c-1.69-1.986-6.93-5.275-6.452-7.002c0.941-3.404,7.204-5.079,13.5-4.889l-0.164,3.645L39.001,18.99z"],width:50,height:50},b}(zg);He.register("shortcut-share",Ig,"shortcut");var Jg=function(a){function b(b){a.call(this),this.slide=b;var c=this.slide.node.addClass("slide--controls"+(yf?" slide--touch-controls":"")),d=c.el("div").addClass("control control--prev hi-action").bind("tap",function(a){b.previous()}),e=c.el("div").addClass("control control--next hi-action").bind("tap",function(a){b.next()});this.prev=d,this.next=e,this.node=c,b.watch("width height",this.resize,this)}return oc(b,a),b.prototype.resize=function(){var a=Math.min(this.slide.actualWidth,this.slide.actualHeight),b=1;a>150&&(b+=(a-150)/1050),this.node.select(".control").style({scaleX:b,scaleY:b})},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.slide.node.removeClass("slide--controls"),this.node.remove()},b}(pc),Kg=function(a){function b(){a.call(this),this.readyState=0,this.firstTime=!0,this.paused=!0,this.loadonce=!1,this.imgInfoArray=[],this.node.addClass("leo-comp--slide"),this.watch("visible",function(){this.stage&&this.visible?(this.firstTime?(this.firstTime=!1,this.initSlide(),this.autoplay&&this.play()):this.playOrNot(),this.addEventListener("transitionEnd",this.transitionEndCallback,this)):(this.pauseTiming(),this.transitionEndCallback&&this.removeEventListener("transitionEnd",this.transitionEndCallback,this))},this)}return oc(b,a),b.prototype.transitionEndCallback=function(a){this.stopTiming(),this.page===a.data.page&&this.playOrNot()},b.prototype.playOrNot=function(){this.paused||this._play()},b.prototype._play=function(){this.page.hasClass("leo-loading")?this.addEventListener("pageloaded",this.playonload,this):this.timing()},b.prototype.timing=function(){var a=this,b=this.timingAnimation;if(b&&!b.isEnd)return void b.resume();b=Sc.create(null,this.interval,{onEnd:function(){a.next()}}),Wc.getInstance().add(b),this.timingAnimation=b},b.prototype.pauseTiming=function(){
this.timingAnimation&&this.timingAnimation.pause()},b.prototype.stopTiming=function(){this.timingAnimation&&(this.timingAnimation.destroy(),this.timingAnimation=null)},b.prototype.initSlide=function(){this.node.select(".slide--page").remove();var a=this.newPage(0);this.node.append(a),this.page=a,this.index=0},b.prototype.next=function(){var a=this.index+1;a>=this.length&&(a=0),this.skip(a,!1)},b.prototype.previous=function(){var a=this.index-1;a<0&&(a=this.length-1),this.skip(a,!0)},b.prototype.playpause=function(){this.paused?this.play():this.pause()},b.prototype.skip=function(a,b){if(a!==this.index){var c=this.page,d=this.newPage(a),e=this.transitionAnimation;e&&e.stop(!0,!0),e=this.transitionAnimation=this.transition(b,c,d),e.addEventListener("destroy",function(){c.remove(),this.transitionAnimation=null,this.dispatchSimpleEvent("transitionEnd",{page:d})},this),this.index=a,this.page=d,this.node.prepend(d),this.dispatchSimpleEvent("skip",{index:a})}},b.prototype.transition=function(a,b,c){return null},b.prototype.playonload=function(){this.removeEventListener("pageloaded",this.playonload,this),this._play()},b.prototype.play=function(){!this.paused&&this.length<1||(this.paused=!1,this._play(),this.dispatchSimpleEvent("play"))},b.prototype.pause=function(){this.paused||(this.paused=!0,this.pauseTiming(),this.dispatchSimpleEvent("pause"))},b.prototype.newPage=function(a){var b=this,d=vi("div").addClass("slide--page page-"+a),e=d.el("img").addClass("page--image"),f=e[0];return d.addClass("leo-loading"),f.onload=f.onerror=function(){f.onload=f.onerror=null,f.style.opacity="1",d.removeClass("leo-loading"),b.dispatchSimpleEvent("pageloaded",{index:a,page:d});var e=a+1;e<b.srcs.length&&b.imgInfoArray[e]===c&&b.loadImage(e)},f.src=this.srcs[a],d},b.prototype._onURLStringChange=function(){this._srcs=this.URLString.split(";"),this._length=this.srcs.length,this.imgInfoArray.length=0,this.readyState=0,this.visible&&this.stage&&(this.initSlide(),this.playOrNot())},b.prototype._onControlsChange=function(){this.controls?this._simpleControls||(this._simpleControls=new Jg(this)):this._simpleControls&&(this._simpleControls.destroy(),this._simpleControls=null)},b.prototype.load=function(){var a=this;if(!(this.readyState>1)){var b=0,c=[0,1];this.readyState=1;var d=function(){++b===c.length&&(a.readyState=4,a.loadonce=!0,a.dispatchSimpleEvent("load"))};k(c,function(a){this.loadImage(a,d)},this)}},b.prototype.loadImage=function(a,b){var c=new Image,d=this.imgInfoArray[a]={img:c,width:0,height:0,state:1};c.onload=function(){c.onload=null,d.width=c.width,d.height=c.height,d.state=4,b&&b()},c.onerror=function(){c.onerror=null,d.width=c.width,d.height=c.height,d.state=2,b&&b()},c.src=this.srcs[a]||Ac},b.prototype.destroy=function(){this._simpleControls&&this._simpleControls.destroy(),this.transitionAnimation&&this.transitionAnimation.destroy(),this.timingAnimation&&this.timingAnimation.destroy(),this.imgInfoArray=null,a.prototype.destroy.call(this)},d(b.prototype,"loadable",{get:function(){return!0},enumerable:!0,configurable:!0}),d(b.prototype,"srcs",{get:function(){return this._srcs},enumerable:!0,configurable:!0}),d(b.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),b}(Ie);Ra(Kg.prototype,{interval:2e3,duration:1e3,autoplay:!1,controls:!1,URLString:"",shadow:"",borderWidth:1,borderColor:"",backgroundColor:""}),Ge.register("slide",null,{borderColor:"borderColor",borderWidth:"borderWidth",backgroundColor:"backgroundColor",shadow:"shadow"}),He.register("slide",Kg);var Lg=function(a){function b(){a.call(this),this.node.addClass("fade-slide")}return oc(b,a),b.prototype._onBorderColorChange=function(){this.node.style("borderColor",this.borderColor)},b.prototype._onBorderWidthChange=function(){this.node.style("borderWidth",this.borderWidth)},b.prototype._onBackgroundColorChange=function(){this.node.style("backgroundColor",this.backgroundColor)},b.prototype._onShadowChange=function(){this.node.style("boxShadow",this.shadow)},b.prototype.transition=function(a,b,c){this._transition&&this._transition.stop(!0,!0);var d=Rc.transition(b[0],c[0],"Fade",this.duration||2e3);return this._transition=d,d},b}(Kg);Ge.register("fadeslide","slide"),He.register("fadeslide",Lg);var Mg=function(a){function b(){a.call(this),this.node.addClass("flip-slide"),this.duration=450}return oc(b,a),b.prototype.initSlide=function(){a.prototype.initSlide.call(this),this.transformStage=this.node.el("div").addClass("transform-stage"),this.transformStage.append(this.page)},b.prototype.newPage=function(b){return a.prototype.newPage.call(this,b).style({borderColor:this.borderColor,borderWidth:this.borderWidth,backgroundColor:this.backgroundColor,boxShadow:this.shadow})},b.prototype.skip=function(b,c){a.prototype.skip.call(this,b,c),this.transformStage.append(this.page)},b.prototype.transition=function(a,b,c){c.style("rotationY",a?180:-180);var d=this.flipAnimation,e=this.duration;return d&&d.stop(!0,!0),d=this.flipAnimation=Tc.create(),d.add(Xc.to(this.transformStage[0],e,{rotationY:a?180:-180})),d.add(Xc.to(this.transformStage[0],e/2,{tz:-350},{yoyo:!0,repeat:1})),d.addEventListener("end",function(){this.transformStage.style("rotationY",0),c.style("rotationY",0),d.destroy()},this),Wc.getInstance().add(d),d},b}(Kg);Ge.register("flipslide","slide"),He.register("flipslide",Mg);var Ng=function(a){function c(){a.call(this),this.node.addClass("swipe-slide"),this.swipeEnable()}return oc(c,a),c.prototype.newPage=function(b){return a.prototype.newPage.call(this,b).style({borderColor:this.borderColor,borderWidth:this.borderWidth,backgroundColor:this.backgroundColor,boxShadow:this.shadow})},c.prototype.transition=function(a,b,c){var d,e,f,g;a?(d=this.prevExit,e=this.prevExitOptions,f=this.prevEnter,g=this.prevEnterOptions):(d=this.nextExit,e=this.nextExitOptions,f=this.nextEnter,g=this.nextEnterOptions);var h=Rc.anyTransition({target:b[0],animation:d,options:e},{target:c[0],animation:f,options:g},this.duration);return h.addEventListener("end",function(){h.destroy()},this),Wc.getInstance().add(h),h},c.prototype.swipeEnable=function(){var a,c,d,e,f,g,h,i,j,k,l,m=this,n=!1;this.node.bind("tapstart",function(b){if(!ui(b.target).hasClass("control")&&!n){m.stopTiming();var o=m.transitionAnimation;o&&(o.currentTime=o.totalDuration,o.destroy(),m.transitionAnimation=null),k=m.index-1,l=m.index+1,k<0&&(k=m.length-1),l>=m.length&&(l=0),a=m.newPage(k),c=m.newPage(l),h=m.page,m.node.append(c),m.node.append(a),n=!0,i=m.actualWidth,j=m.actualHeight,d=b.pageX,e=b.pageY,f=m.transition(!0,h,a),f.pause(),g=m.transition(!1,h,c),g.pause()}});var o;fh(b,"tapmove",this.swipeMove=function(a){if(n){o="vertical"===m.swipeDirection?(a.pageY-e)/j:(a.pageX-d)/i;var b=Math.min(Math.abs(o)*m.duration,m.duration-1);f.currentTime=o<=0?0:b,g.currentTime=o>=0?0:b}}),fh(b,"tapend",this.swipeEnd=function(b){if(n){n=!1;var d,e,i,j=50;o<0?(d=c,i=l,e=g,a.remove(),f.destroy()):o>0?(d=a,i=k,e=f,c.remove(),g.destroy()):(e=null,f.destroy(),g.destroy(),a.remove(),c.remove()),e&&(m.transitionAnimation=e,e.currentTime>j?(e.resume(),e.addEventListener("destroy",function(){h.remove(),this.dispatchSimpleEvent("transitionEnd",{page:d}),this.transitionAnimation=null,this.paused||this.timing()},m),m.index=i,m.page=d,m.dispatchSimpleEvent("skip",{index:i})):(e.playReverse(),e.addEventListener("destroy",function(){a.remove(),c.remove(),this.transitionAnimation=null,this.paused||this.timing()},m)))}})},c.prototype.swipeDisable=function(){this.swipeMove&&(fh(b,"tapend",this.swipeEnd),fh(b,"tapmove",this.swipeMove),this.swipeMove=null,this.swipeEnd=null)},c.prototype.destroy=function(){a.prototype.destroy.call(this),this.swipeDisable()},c}(Kg);Ta(Ng.prototype,{prevEnter:"MoveInFromLeft",prevEnterOptions:{},prevExit:"MoveOutToRight",prevExitOptions:{},nextEnter:"MoveInFromRight",nextEnterOptions:{},nextExit:"MoveOutToLeft",nextExitOptions:{},duration:500,swipeDirection:"horizontal"}),Ge.register("swipeslide",null),He.register("swipeslide",Ng);var Og=function(a){function b(){a.call(this),this.prevEnter="moveInFromleft",this.nextEnter="moveInFromright",this.prevExit="zoomOut",this.nextExit="zoomOut",this.watch("swipeDirection",function(){"vertical"===this.swipeDirection&&(this.prevEnter="moveInFromTop",this.nextEnter="moveInFrombottom",this.prevExit="zoomOut",this.nextExit="zoomOut")},this)}return oc(b,a),b}(Ng);Ge.register("dragslide",null),He.register("dragslide",Og);var Pg=function(a){function b(){a.call(this),this.node.addClass("zoom-slide"),this.watch("visible",function(){this.visible&&this.stage&&this.zoom()},this),this.addEventListener("play",this.resumeZoom,this),this.addEventListener("pause",this.pauseZoom,this),this.watch("URLString",this.stopZoom,this),this.addEventListener("skip",this.zoom,this)}return oc(b,a),b.prototype.resumeZoom=function(){this.zoomTween&&!this.zoomTween.isEnd&&this.zoomTween.resume()},b.prototype.pauseZoom=function(){this.zoomTween&&this.zoomTween.pause()},b.prototype.stopZoom=function(){this.zoomTween&&this.zoomTween.destroy(),this.removeEventListener("pageloaded",this.zoomonload,this)},b.prototype.zoomonload=function(){this.removeEventListener("pageloaded",this.zoomonload,this),this.zoom()},b.prototype.zoom=function(){var a=this.page,b=this.interval;if(a.hasClass("leo-loading"))this.addEventListener("pageloaded",this.zoomonload,this);else{var c=~~(2*Math.random()),d=1.1+this.speed/100,e=c?d:1,f=c?1:d,g=(1+~~(3*Math.random()))/4*100+"%",h=(1+~~(3*Math.random()))/4*100+"%";a.style({transformOrigin:g+" "+h,scaleX:e,scaleY:e}),this.zoomTween=Xc.to(a[0],b+2*this.duration,{scaleX:f,scaleY:f},{easing:"linear"}),this.paused&&this.zoomTween.pause()}},b.prototype.transition=function(a,b,c){var d=Rc.anyTransition({target:b[0],animation:"fadeout"},{target:c[0],animation:"fadein"},this.duration,{easing:"linear"});return d.addEventListener("end",function(){d.destroy()},this),Wc.getInstance().add(d),d},b.prototype._onBorderColorChange=function(){this.node.style("borderColor",this.borderColor)},b.prototype._onBorderWidthChange=function(){this.node.style("borderWidth",this.borderWidth)},b.prototype._onBackgroundColorChange=function(){this.node.style("backgroundColor",this.backgroundColor)},b.prototype._onShadowChange=function(){this.node.style("boxShadow",this.shadow)},b.prototype.destroy=function(){this.zoomTween&&this.zoomTween.destroy(),a.prototype.destroy.call(this)},b}(Kg);Ra(Pg.prototype,{speed:5}),Ge.register("zoomslide","slide"),He.register("zoomslide",Pg);var Qg=function(a){function b(){a.call(this),this.length=0,this.images=[],this.duration=500,this.timelength=1e3,this.flowopacity=.7,this.animation=this.initAnimation(),this.watch("visible",this._onAutoplayChange,this),this.swipeEnable()}return oc(b,a),b.prototype.createNode=function(){var a=vi("div").addClass("leo-slide--flow-3D"),b=a.el("div").addClass("flow-3D--image-container");return this.imageContainer=b[0],a},b.prototype._onBorderColorChange=function(){this.images&&k(this.images,function(a,b){a.borderColor=this.borderColor},this)},b.prototype._onBorderWidthChange=function(){this.images&&k(this.images,function(a,b){a.borderWidth=this.borderWidth},this)},b.prototype._onBackgroundColorChange=function(){this.images&&k(this.images,function(a,b){a.backgroundColor=this.backgroundColor},this)},b.prototype.swipeEnable=function(){var a,b,c=this;this.node.bind("tapstart",function(b){ui(b.target).hasClass("hi-action")||(c.skipAnimation.destroy(),c.paused||c._stop(),a=b.pageX)}),this.node.bind("tapmove",function(d){if(a){b=a-d.pageX,a=d.pageX;var e=c.animation.currentTime+8*b;e<0||e>c.timelength*(c.length-1)||(c.animation.currentTime=e)}}),this.node.bind("tapend",function(){a&&(c.skip(Math.round(c.animation.currentTime/1e3)),c.paused||(c.intervalIndex=c._play()),a=null)})},b.prototype._onActualWidthChange=function(){this.resize()},b.prototype._onActualHeightChange=function(){this.resize()},b.prototype.resize=function(){k(this.images,function(a){this.fit(a)},this),this.render(this.currentIndex*this.timelength)},b.prototype.fit=function(a){var b=.5*this.actualWidth,c=.8*this.actualHeight;if(b&&c){var d=a.image.width,e=a.image.height,f=d,g=e;d&&e?(d>b||e>c)&&(d/e>b/c?(f=b,g=e/d*b):(f=d/e*c,g=c)):(f=b,g=c),a.actualWidth=Math.round(f),a.actualHeight=Math.round(g)}},b.prototype._onUrlChange=function(){k(this.images,function(a){a.destroy()},this),this.images.length=0;var a=this.url.split(";"),b=this.length=a.length;this.animation.duration=b*this.timelength,k(a,function(a,b){var c=this,d=new Te,e=d.node;d.src=a,d.reflection=this.reflection,d.borderWidth=this.borderWidth,d.borderColor=this.borderColor,d.backgroundColor=this.backgroundColor,d.opacity=this.flowopacity,d.borderRadius=this.borderRadius,e.addClass("flow-3D--image"),e.bind("mouseover",function(){b!==c.currentIndex&&(d.opacity=1)}),e.bind("mouseout",function(){b!==c.currentIndex&&(d.opacity=c.flowopacity)}),e.bind("tap",function(){c.skip(b)}),eb(d.dom),d.load(),d.addEventListener("load",function(){this.fit(d)},this),this.imageContainer.appendChild(d.dom),this.images.push(d)},this),this.currentIndex=null,this.skip(0),this.render(0)},b.prototype._onControlsChange=function(){this.controls?this.slideControls||(this.slideControls=new Jg(this)):this.slideControls&&(this.slideControls.destroy(),this.slideControls=null)},b.prototype._onAutoplayChange=function(){this.visible?this.autoplay&&this.paused===c?this.play():!1===this.paused&&this._play():this._stop()},b.prototype.play=function(){(this.paused||this.paused===c)&&(this.paused=!1,this.intervalIndex=this._play())},b.prototype.pause=function(){this.paused||(this.paused=!0,this._stop())},b.prototype._play=function(){var a=this;return tc(function(){a.next()},this.interval)},b.prototype._stop=function(){var a=this.intervalIndex;a&&uc(a)},b.prototype.skip=function(a){var b=this,c=this.length;a<0&&(a=c-1),a>=c&&(a=0),this.skipAnimation&&this.skipAnimation.destroy();var d=this.animation.currentTime,e=a*this.timelength;this.paused||this._stop();var f=Sc.create(this,this.duration,{onRender:function(a){b.animation.currentTime=d+(e-d)*a},onEnd:function(){!1===b.paused&&(b.intervalIndex=b._play())}},{easing:"easeOutQuart"});Wc.getInstance().add(f),this.skipAnimation=f,this.currentIndex=a},b.prototype.previous=function(){this.skip(this.currentIndex-1)},b.prototype.next=function(){this.skip(this.currentIndex+1)},b.prototype.initAnimation=function(){var a=this,b=Sc.create(this,0,{onRender:function(b,c){a.render(c)}},{easing:"linear",repeat:1/0});return b.pause(),Wc.getInstance().add(b),b},b.prototype.render=function(a){var b=this.timelength,c=Math.floor(a/b),d=a%b/b,e=this._actualWidth,f=this.formatTransfrom,g=.9*e,h=.3*e,i=-600,j=60;k(this.images,function(a,b){var e={};if(b===c)e.transform=f(-g*d,i*d,j*d),e.opacity=1-(1-this.flowopacity)*d;else if(b===c+1){var k=1-d;e.transform=f(g*k,i*k,-j*k),e.opacity=this.flowopacity+(1-this.flowopacity)*d}else e.transform=b<c?f(-((c-b-1)*h+g)-h*d,i,j):f((b-c-1)*h+g-h*d,i,-j);a.node.style(e)},this)},b.prototype.formatTransfrom=function(){for(var a=[],b=0;b<arguments.length-0;b++)a[b]=arguments[b+0];var c=0;return"translateX(%xpx)translateZ(%zpx)rotateY(%ddeg)".replace(/%[a-z]/gi,function(){return a[c++]})},b.prototype.enter=function(b){a.prototype.enter.call(this,b),k(this.images,function(a){this.stage.context.components.add(a),a._setParent(this)},this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.slideControls&&this.slideControls.destroy(),this.skipAnimation&&this.skipAnimation.destroy(),this.animation.destroy(),k(this.images,function(a){a.destroy()},this)},b}(Ie);Ta(Qg.prototype,{url:null,controls:!1,interval:2e3,autoplay:!1,borderWidth:0,borderColor:"#fff",borderRadius:0,backgroundColor:"transparent",reflection:{offset:0,opacity:.8,depth:.5}}),Ge.register("3dflow",null,{shadow:"shadow",borderColor:"borderColor",borderWidth:"borderWidth",borderRadius:"borderRadius",backgroundColor:"backgroundColor"}),He.register("3dflow",Qg);var Rg=function(a){function b(){a.call(this),this.__zIndex=999999999,this.index=0,this.folding=!1,this.paused=!0,this.state=null,this._urls=[],this._rotate=10,this._stack=4,this._borderWidth=3,this._borderColor="#fff",this._originX="50%",this._originY="50%"}return oc(b,a),b.prototype.init=function(){a.prototype.init.call(this),this.node.addClass("leo-comp--slide--album"),this.watch("visible",function(){var a=this;this._visible&&this._stage?this.foldTimeout=setTimeout(function(){a.unfold(function(){a._autoplay&&a.play()})},1e3):this.fold()},this)},b.prototype.destroySlide=function(){this.node.select(".album--page").remove(),this.node.select(".album--page-out").remove()},b.prototype.createSlide=function(){this.destroySlide(),this.index=0;for(var a=0,b=this._urls.length,c=this._stack,d=Math.min(b,c);a<d;a++)this.newPage(!1)},b.prototype.newPage=function(a){var b=this,c=this.index++;c>=this._urls.length&&(c=0,this.index=1);var d=this.__zIndex--,e=this.node.el("div").addClass("album--page leo-loading").style({boxShadow:this._shadow,borderWidth:this._borderWidth,borderColor:this._borderColor,transformOrigin:this._originX+"% "+this._originY+"%",zIndex:d,rotation:a?(Math.min(this._stack,this._urls.length)-1)*this._rotate:0}),f=e.el("img")[0];return f.onload=f.onerror=function(){f.onload=f.onerror=null,e.removeClass("leo-loading"),Ye(f,"opacity",1),f=null},f.src=this._urls[c],e.bind("tap",function(){var a=b.node.select(".album--page").indexOf(e[0]);b.skip(a||1)}),e[0]},b.prototype.unfold=function(a){this.folding=!0;for(var b,c,d=this.node.select(".album--page"),e=Tc.create(),f=0,g=d.length;f<g;f++)c=d[f],b=Xc.create(c,500,{delay:50*f}),b.to({rotation:f*this._rotate}),e.add(b);e.addEventListener("end",function(){this.folding=!1,a&&a()},this),Wc.getInstance().add(e),this.foldAnimation=e},b.prototype.fold=function(a){this.folding=!0;for(var b,c,d=this.node.select(".album--page"),e=Tc.create(),f=0,g=d.length;f<g;f++)c=d[f],b=Xc.create(c,500,{delay:50*f}),b.to({rotation:0}),e.add(b);e.addEventListener("end",function(){this.folding=!1,a&&a()},this),Wc.getInstance().add(e),this.foldAnimation=e},b.prototype.play=function(){var a=this;this.paused&&(this.paused=!1,this.playTimeout=uc(this.playTimeout),this.playTimeout=setTimeout(function(){a.next()},this._interval))},b.prototype.pause=function(){this.paused||(this.paused=!0,clearTimeout(this.startTimeout),clearTimeout(this.playTimeout))},b.prototype.next=function(){this.skip(1)},b.prototype.skip=function(a){var b=this._urls,c=this._stack,d=b.length,e=Math.min(c,d);a>e&&(a=e);for(var f,g=this.node.select(".album--page"),h=[],i=0,d=b.length;i<a;i++)f=g.shift(),f.className="album--page-out",h.push(f),this.newPage(!0);for(var j,f,k=0,d=h.length;k<d;k++)f=h[k],j=Xc.create(f,this._duration,{delay:200*k}),j.to({opacity:0,tx:1.5*this._actualWidth}),k===d-1&&(this.lastTween&&this.lastTween.removeEventListener("end",this.playback,this),j.addEventListener("end",this.playback=function(){this.node.select(".album--page-out").remove(),this.state||this.play(),this.state=null,this.unfold()},this),this.lastTween=j),Wc.getInstance().add(j);null===this.state&&(this.state=this.paused),this.pause()},b.prototype.enter=function(b){a.prototype.enter.call(this,b),this._stage&&this.createSlide()},b.prototype.leave=function(){this.fold()},b.prototype.updateAlbum=function(){var a=this;this._visible&&this.stage&&(clearTimeout(this.updateAlbumTimeout),this.updateAlbumTimeout=setTimeout(function(){a.fold(function(){a.createSlide(),a.unfold()})},100))},b.prototype.destroy=function(){this.pause(),this.lastTween&&this.lastTween.destroy(),this.foldAnimation&&this.foldAnimation.destroy(),clearTimeout(this.foldTimeout),clearTimeout(this.updateAlbumTimeout),clearTimeout(this.updateTimeout),a.prototype.destroy.call(this)},d(b.prototype,"url",{set:function(a){a&&this.urlstring!==a&&(this.urlstring=a,this._urls=a.split(";"),this.updateAlbum())},enumerable:!0,configurable:!0}),d(b.prototype,"rotate",{set:function(a){a!=c&&this._rotate!=a&&(this._rotate=a,this.updateAlbum())},enumerable:!0,configurable:!0}),d(b.prototype,"stack",{set:function(a){a>0&&parseInt(a,10)==a&&this._stack!=a&&(this._stack=a,this.updateAlbum())},enumerable:!0,configurable:!0}),b.prototype.updateStyle=function(){var a=this;this._visible&&this._stage&&(clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(function(){a.node.select("album--page").style({boxShadow:a._shadow,borderWidth:a._borderWidth,borderColor:a._borderColor,transformOrigin:a._originX+"% "+a._originY+"%"})},100))},d(b.prototype,"borderWidth",{set:function(a){parseInt(a,10)==a&&this._borderWidth!=a&&(this._borderWidth=a,this.updateStyle())},enumerable:!0,configurable:!0}),d(b.prototype,"borderColor",{set:function(a){a&&this._borderColor!=a&&(this._borderColor=a,this.updateStyle())},enumerable:!0,configurable:!0}),d(b.prototype,"shadow",{set:function(a){a&&this._shadow!=a&&(this._shadow=a,this.updateStyle())},enumerable:!0,configurable:!0}),d(b.prototype,"originX",{set:function(a){a&&this._originX!=a&&(this._originX=a,this.updateStyle())},enumerable:!0,configurable:!0}),d(b.prototype,"originY",{set:function(a){a&&this._originY!==a&&(this._originY=a,this.updateStyle())},enumerable:!0,configurable:!0}),d(b.prototype,"duration",{set:function(a){this._duration!==a&&(this._duration=a)},enumerable:!0,configurable:!0}),d(b.prototype,"interval",{set:function(a){this._interval!==a&&(this._interval=a)},enumerable:!0,configurable:!0}),d(b.prototype,"autoplay",{set:function(a){this._autoplay!==a&&(this._autoplay=a)},enumerable:!0,configurable:!0}),b}(Ie);Ge.register("album",null,{shadow:"shadow",transformOrigin:"origin",borderColor:"borderColor",borderWidth:"borderWidth"}),He.register("album",Rg);var Sg=function(a){function e(){a.call(this),this.urlArray=[],this._eventmap={start:"tapstart",move:"tapmove",end:"tapend"},this.mouseup=function(){},this.mousemove=function(){},this._playPause=!0,this._controls=!1,this._interval=2500,this._duration=250,this.watch("visible",function(){this.autoplayAnimation&&(this.stage&&this.visible?(this.autoplayAnimation.currentTime=0,this.autoplayAnimation.resume()):this.autoplayAnimation.pause())},this)}return oc(e,a),e.prototype._onActualWidthChange=function(){var a=this,b=this.actualWidth;this.ul.style("tx",-b),k(this.ul.select(".slide-li").style("width",b),function(b){if(b=ui(b),!b.hasClass("leo-loading")){var c=b.select("img"),d=b.attr("data-index"),e=a.urlArray[d];a.fixImage(c[0],e.width,e.height)}}),this.addSlideEvents()},e.prototype._onActualHeightChange=function(){var a=this;k(this.ul.select(".slide-li"),function(b){if(b=ui(b),!b.hasClass("leo-loading")){var c=b.select("img"),d=b.attr("data-index"),e=a.urlArray[d];a.fixImage(c[0],e.width,e.height)}})},d(e.prototype,"url",{set:function(a){var b=this;if(this._url!==a){this._url=a;var c=this.urlArray=[];k(a.split(";"),function(a,b){c.push({index:b,src:a,width:0,height:0})});var d=this.length=c.length,e=[c[d-1]].concat(c);e.push(c[0]);var f=this.ul;f.html("").style("tx",-this.actualWidth),k(e,function(a,c){var d=f.el("div").addClass("slide-li leo-loading").style("width",b.actualWidth),e=new Image;e.onload=e.onerror=function(){e.onload=e.onerror=null,d.removeClass("leo-loading").attr("data-index",a.index);var c=e.width,f=e.height;b.fixImage(e,c,f),d.append(e),a.width=c,a.height=f},e.src=a.src}),this.addSlideEvents()}},enumerable:!0,configurable:!0}),e.prototype.fixImage=function(a,b,c){var d=this._actualWidth,e=this._actualHeight,f={width:"auto",height:"auto"};b>d||c>e?b/c>d/e?f.width=d:f.height=e:(f.width=b,f.height=c),Ye(a,f)},e.prototype.prevNext=function(a,b){var c,d,e=this,f=this.slideAnimation,g=this.urlArray.length,h=this.ul,i=parseInt(h.style("tx"),10),j=this.actualWidth;f&&(f.destroy(),this.slideAnimation=null),f=Sc.create(null,this._duration,{easing:"linear"}),"boolean"!=typeof a?(d=i%j,c=Math.abs(d)>j/2?Math.floor(i/j)*j:i-d):(d=Math.floor(i/j),c=b?(a?d:d+1)*j:(a?d-1:d+(i%j==0?1:2))*j),f.onRender=function(a){var b=i+(c-i)*a;b<=(g+1)*-j&&(b=-j),b>=0&&(b=-g*j),h.style("tx",b)},f.onEnd=function(){f.destroy(),e.slideAnimation=null};var k=this.autoplayAnimation;k&&!k.paused&&(k.pause(),f.addEventListener("destroy",function(){this.autoplayAnimation.currentTime=0,this.autoplayAnimation.resume()},this));var l=c;l<=(g+1)*-j&&(l=-j),l>=0&&(l=-g*j),this.dispatchSimpleEvent("skip",{index:-l/j}),Wc.getInstance().add(f),this.slideAnimation=f},e.prototype.createNode=function(){var a=vi("div").addClass("leo-comp--base-slide");return xf&&a.style("touchAction","none"),this.ul=a.el("div").addClass("slide-ul"),this.imgCover=a.el("div").addClass("drag-cover"),a},d(e.prototype,"tagName",{get:function(){return"dslide"},enumerable:!0,configurable:!0}),d(e.prototype,"taponly",{set:function(a){this._eventmap=a?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"tapstart",move:"tapmove",end:"tapend"}},enumerable:!0,configurable:!0}),e.prototype.addSlideEvents=function(){function a(a){var b=a.pageX,c=h+b-g;c<=(f+1)*-e&&(c=-e),c>=0&&(c=-f*e),j.style("tx",c)}var d=this,e=this.actualWidth,f=this.urlArray.length;if(0!==e){var g,h,i,j=(this.imgCover,this.ul),k=ui(b);k.unbind(this._eventmap.end,this.mouseup),k.unbind(this._eventmap.move,this.mousemove),this.imgCover.unbindAll(),this.imgCover.bind(this._eventmap.start,function(b){b.preventDefault(),d.slideAnimation&&(d.slideAnimation.destroy(),d.slideAnimation=null),g=b.pageX,i=(new Date).getTime(),h=parseInt(j.style("tx"),10),k.bind(d._eventmap.move,a)});var l=function(b){if(k.unbind(d._eventmap.move,a),g!==c&&null!==g){var f=b.pageX;!f&&b.originalEvent.changedTouches&&(f=b.originalEvent.changedTouches[0].pageX);var h,j=f-g,l=.3*e;(new Date).getTime()-i<150&&Math.abs(j)>20&&(h=!(j>0)),j>l&&(h=!1),j<-l&&(h=!0),d.prevNext(h,!0),g=null}};k.bind(this._eventmap.end,l),this.mouseup=l,this.mousemove=a}},d(e.prototype,"autoplay",{get:function(){return this._autoplay},set:function(a){var b=this;if(this._autoplay!==a)if(this._autoplay=a,a){var c=Sc.create(null,this._interval);c.onEnd=function(){c.currentTime=0,b.prevNext(!0)},c.pause(),this.stage&&this.visible&&c.resume(),Wc.getInstance().add(c),this.autoplayAnimation=c,this.slideAnimation&&this.slideAnimation.removeAllEventListeners("end")}else this.autoplayAnimation&&(this.autoplayAnimation.destroy(),this.autoplayAnimation=null)},enumerable:!0,configurable:!0}),e.prototype.next=function(){this.prevNext(!0)},e.prototype.previous=function(){this.prevNext(!1)},e.prototype.playpause=function(){this.autoplay=!this._autoplay,this.dispatchSimpleEvent(this.autoplay?"play":"pause")},d(e.prototype,"controls",{set:function(a){this._controls!==a&&(this._controls=!!a,a?this._simpleControls||(this._simpleControls=new Jg(this)):this._simpleControls&&(this._simpleControls.destroy(),this._simpleControls=null))},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.imgCover.unbindAll(),ui(b).unbind(this._eventmap.end,this.mouseup),this._simpleControls&&this._simpleControls.destroy(),this.slideAnimation&&this.slideAnimation.destroy(),this.autoplayAnimation&&this.autoplayAnimation.destroy(),a.prototype.destroy.call(this)},d(e.prototype,"borderWidth",{set:function(a){this.node.style("borderWidth",a)},enumerable:!0,configurable:!0}),d(e.prototype,"borderColor",{set:function(a){this.node.style("borderColor",a)},enumerable:!0,configurable:!0}),d(e.prototype,"backgroundColor",{set:function(a){this.node.style("backgroundColor",a)},enumerable:!0,configurable:!0}),d(e.prototype,"boxShadow",{set:function(a){this.node.style("boxShadow",a)},enumerable:!0,configurable:!0}),d(e.prototype,"interval",{set:function(a){this._interval=a,this.autoplayAnimation&&(this.autoplayAnimation.duration=a)},enumerable:!0,configurable:!0}),d(e.prototype,"duration",{set:function(a){this._duration=a},enumerable:!0,configurable:!0}),d(e.prototype,"position",{get:function(){return this._position},set:function(a){this._position=a},enumerable:!0,configurable:!0}),e}(Ie);Ge.register("defaultslide",null,{borderColor:"borderColor",borderWidth:"borderWidth",backgroundColor:"backgroundColor",shadow:"boxShadow"}),He.register("defaultslide",Sg);var Tg=function(a){function b(){a.call(this),this.sumWidth=0,this.sumHeight=0,this.imgDataArray=[],this.changeDirectionTable={left:"right",right:"left",top:"bottom",bottom:"top"};this.node.addClass("leo-comp--moving-slide");this.swipeEnable()}return oc(b,a),b.prototype.swipeEnable=function(){var a,b,c,d,e=this,f=!1,g=null,h=this.animation;fh(this.dom,"tapstart",function(i){if(!ui(i.target).hasClass("control")&&!f){f=!0;var j=e.data;d=j.flag?j.dy:j.dx,null===g&&(g=h.paused),h.pause(),a=e.direction,"left"===a||"right"===a?(c="tx",b=i.pageX):(c="ty",b=i.pageY)}}),fh(Bc,"tapmove",this.swipemove=function(c){if(f){var g=("left"===a||"right"===a?c.pageX:c.pageY)-b,h=e.data,i=e.canvas,j=e.ctx,k=h.size,l=h.dx,m=h.dy,n=d+g;n%=k,n>0?n-=k:n<-k&&(n+=k),h.flag?m=h.dy=n:l=h.dx=n,j.clearRect(0,0,i.width,i.height),j.drawImage(e.icanvas,l,m)}}),fh(Bc,"tapend",this.swipeend=function(){f&&(f=!1,e.data.start=d,e.update(),g||h.play(),g=null)})},b.prototype.unswipe=function(){this.swipemove&&(fh(Bc,"tapmove",this.swipemove),fh(Bc,"tapend",this.swipeend),this.swipemove=null,this.swipeend=null)},b.prototype.next=function(){},b.prototype.previous=function(){},b.prototype.bindEvent=function(a){var b,c,d=this,e=!1,f=null,g=this.animation;a.prev.bind("tapstart",function(){e||(e=!0,b=d.direction,"right"!==b&&"top"!==b||(d.direction="top"===b?"bottom":"left"),null===f&&(f=g.paused),g.resume(),c=d.speed,d.speed*=8)}),a.next.bind("tapstart",function(){e||(e=!0,b=d.direction,"left"!==b&&"bottom"!==b||(d.direction="left"===b?"right":"top"),null===f&&(f=g.paused),g.resume(),c=d.speed,d.speed*=8)});fh(Bc,"tapend",this.controlsDocEvent=function(){e&&(e=!1,f&&g.pause(),f=null,d.direction=b,d.speed=c)})},b.prototype.unbindEvent=function(){this.controlsDocEvent&&(ih(Bc,"tapend",this.controlsDocEvent),this.controlsDocEvent=null)},b.prototype.changeDirection=function(a){return this.changeDirectionTable[a]||"right"},b.prototype.update=function(){if(this.actualWidth&&this.actualHeight){var b=this.direction,c="left"===b||"right"===b;this.resizeCanvas(c),this.drawImagesToCanvas(c),a.prototype.update.call(this)}},b.prototype.resizeCanvas=function(a){var b,c,d,e=this.actualWidth,f=this.actualHeight,g=this.borderWidth,h=this.imgDataArray,i=h.length,j=0,k=0;if(a)for(;i--;)c=h[i],b=c.img,d=c.width=b.width/b.height*f||e,c.height=f,j+=d+g;else for(;i--;)c=h[i],b=c.img,c.width=e,d=c.height=b.height/b.width*e||f,k+=d+g;this.sumWidth=Math.round(j)||e,this.sumHeight=Math.round(k)||f},b.prototype.drawImagesToCanvas=function(a){var b=this.actualWidth,c=this.actualHeight,d=this.img;d||(d=this.img=Ad("canvas"));var e=d.getContext("2d"),f=0,g=0,h=this.borderWidth,i=this.borderColor,j=this.backgroundColor;e.clearRect(0,0,d.width,d.height),a?(d.width=this.sumWidth,d.height=c,k(this.imgDataArray,function(a){var b=a.width,d=a.img;j&&(e.fillStyle=j,e.fillRect(f,g,b,c)),d.width&&e.drawImage(d,f,g,b,c),f+=b,h&&(e.fillStyle=i,e.fillRect(f,g,h,c),f+=h)},this)):(d.width=b,d.height=this.sumHeight,k(this.imgDataArray,function(a){var c=a.height,d=a.img;j&&(e.fillStyle=j,e.fillRect(f,g,b,c)),d.height&&e.drawImage(d,f,g,b,c),g+=c,h&&(e.fillStyle=i,e.fillRect(f,g,b,h),g+=h)},this))},b.prototype.load=function(){var a=this;if(!(this.readyState>0)){this.readyState=1,this.loadonce=!0;for(var b=0,c=this.URLString.split(";"),d=c.length,e=function(){++b===d&&(a.readyState=2,a.update(),a.dispatchSimpleEvent("load"))},f=0;f<d;f++)this.loadImage(c[f],f,e)}},b.prototype.loadImage=function(a,b,c){var d=this,e=new Image;e.onload=e.onerror=function(){e.onload=e.onerror=null,d.imgDataArray[b]={img:e},c()},e.src=a},b.prototype._onURLStringChange=function(){this.animation.pause(),this.readyState=0,this.loadonce&&this.load()},b.prototype._onControlsChange=function(){this.controls?this.simpleControls||(this.simpleControls=new Jg(this),this.bindEvent(this.simpleControls)):this.simpleControls&&(this.simpleControls.destroy(),this.simpleControls=null,
this.unbindEvent())},b.prototype._onBorderWidthChange=function(){this.update()},b.prototype._onBorderColorChange=function(){this.update()},b.prototype._onBackgroundColorChange=function(){this.update()},b.prototype.destroy=function(){a.prototype.destroy.call(this)},b}($e);Ra(Tg.prototype,{URLString:"",controls:!1,autoplay:!0,borderColor:"",borderWidth:0,backgroundColor:""}),Ge.register("scrollingslide",null,{borderColor:"borderColor",borderWidth:"borderWidth",backgroundColor:"backgroundColor"}),He.register("scrollingslide",Tg);var Ug=function(a,b){if(a in b)return a;a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=(rc.join(a+" ")+a).split(" "),d=-1,e=c.length;++d<e;)if((a=c[d])in b)return a;return null},Vg=Ug("requestAnimationFrame",a),Wg=Ug("cancelAnimationFrame",a)||Ug("cancelRequestAnimationFrame",a),Xg=Vg?a[Vg]:null,Yg=Wg?a[Wg]:null,Zg=function(c){function e(){var a=this;c.call(this),this.running=!1,this.paused=!1,this._justActived=!1,this._lastTickTime=0,this._children=[],this.currentTime=0,this.frames=0,this._locked=!1,this._fixTickTime=0,this._nextTickTime=0,this._interval=250,this._originalInterval=1e3/60,this._rafId=null,this._asap=!1,this._usingRaf=!1,this._updateCallback=function(){a.update()}}return oc(e,c),e.prototype.run=function(){this.running?this.resume():(this.running=!0,this.resume(),this._tick())},e.prototype.resume=function(){!this.paused&&this.running?this._lastTickTime=Date.now():this._justActived=!0,this.paused&&(this.paused=!1)},e.prototype.pause=function(){this.paused||(this.paused=!0)},e.prototype.stop=function(){this.pause(),this.running&&(this.running=!1)},e.prototype.add=function(a){var b=this._children;a&&b.indexOf(a)<0&&(b.push(a),this.interval=this._originalInterval)},e.prototype.remove=function(a){var b=this._children,c=b.indexOf(a);c>=0&&(this._locked?b[c]=null:b.splice(c,1))},e.prototype.update=function(){if(!this.paused){++this.frames,this._asap=!1;var a=Date.now(),b=a-this._lastTickTime;this._lastTickTime=this._fixTickTime=a;var c=b>=this._interval?b-this._interval:0;this._nextTickTime=c>=this._interval?4:this._interval-c,this._justActived&&(b=0,this._justActived=!1),a=this.currentTime+=b,this._locked=!0;for(var d=this._children,e=-1,f=d.length;++e<f;){var g=d[e];g?g.update(a):(d.splice(e--,1),--f)}this._locked=!1,d.length||(this._interval=250),this._tick()}},d(e.prototype,"interval",{set:function(a){if(this._originalInterval=a,this._interval!==a){this._interval;if(this._interval=a,!this._locked&&null!=this._rafId&&(this._asap?(this._asap=!1,zc(this._rafId),this._rafId=null):this._usingRaf?Yg&&(Yg(this._rafId),this._rafId=null):(uc(this._rafId),this._rafId=null),null==this._rafId)){Date.now()-this._lastTickTime>=this._interval?(this._asap=!0,this._rafId=yc(this._updateCallback)):(this._fixTime(),this._tick())}}},enumerable:!0,configurable:!0}),e.prototype._fixTime=function(){var a=Date.now(),b=a-this._fixTickTime;this._fixTickTime=a,a=this._interval;var c=b>=a?b-a:b;this._nextTickTime=c>=a?4:a-c},e.prototype._tick=function(){this.running&&(Xg&&this._interval===1e3/60?(this._usingRaf=!0,this._rafId=Xg(this._updateCallback)):(this._usingRaf=!1,this._rafId=tc(this._updateCallback,this._nextTickTime)))},e.getInstance=function(){if(!this.instance){var c=this.instance=new e,d=Ug("hidden",b),f=d?(/H/.test(d)?d.substr(0,d.indexOf("H")):"")+"visibilitychange":null;"onpageshow"in a&&"onpagehide"in a&&a.addEventListener("pageshow",function(){c.stop(),c.run()},!1),d&&f&&b.addEventListener(f,function(){b[d]||(c.stop(),c.run())},!1),c.run()}return this.instance},e.instance=null,e}(nc);lc.Ticker=Zg;var $g=function(a){function c(b,d){a.call(this),this.context=d,this._flags=0,this._accelerate=c.defaultAccelerate,this._deferred=!1,this._x=0,this._y=0,this._tx=0,this._ty=0,this._tz=0,this._sx=1,this._sy=1,this._scaleX=1,this._scaleY=1,this._scaleZ=1,this._rotation=0,this._rotationX=0,this._rotationY=0,this._skewX=0,this._skewY=0,this._p=0,this._originX=.5,this._originY=.5,this._originZ=0,this._dirty=!1,this._originDirty=!1,this._el=b,b[_g]=this}return oc(c,a),d(c.prototype,"el",{get:function(){return this._el},enumerable:!0,configurable:!0}),d(c.prototype,"accelerate",{get:function(){return this._accelerate},set:function(a){this._accelerate!==a&&(this._accelerate=a,this.update())},enumerable:!0,configurable:!0}),d(c.prototype,"deferred",{get:function(){return this._deferred},set:function(a){this._deferred!==a&&(this._deferred=a,a||(this._dirty&&this.update(),this._originDirty&&this.updateOrigin()))},enumerable:!0,configurable:!0}),d(c.prototype,"tx",{get:function(){return this._tx},set:function(a){var b=this._tx;b!==a&&(this._tx=a,this.update(),this.notifyPropertyChange("tx",b))},enumerable:!0,configurable:!0}),d(c.prototype,"ty",{get:function(){return this._ty},set:function(a){var b=this._ty;b!==a&&(this._ty=a,this.update(),this.notifyPropertyChange("ty",b))},enumerable:!0,configurable:!0}),d(c.prototype,"tz",{get:function(){return this._tz},set:function(a){var b=this._tz;b!==a&&(this._tz=a,a?this._flags|=16:this._flags&=-17,this.update(),this.notifyPropertyChange("tz",b))},enumerable:!0,configurable:!0}),d(c.prototype,"scaleX",{get:function(){return this._scaleX},set:function(a){var b=this._scaleX;b!==a&&(this._scaleX=a,this.update(),this.notifyPropertyChange("scaleX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"scaleY",{get:function(){return this._scaleY},set:function(a){var b=this._scaleY;b!==a&&(this._scaleY=a,this.update(),this.notifyPropertyChange("scaleY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"scaleZ",{get:function(){return this._scaleZ},set:function(a){var b=this._scaleZ;b!==a&&(this._scaleZ=a,1!==a?this._flags|=2:this._flags&=-3,this.update(),this.notifyPropertyChange("scaleZ",b))},enumerable:!0,configurable:!0}),d(c.prototype,"rotation",{get:function(){return this._rotation},set:function(a){var b=this._rotation;b!==a&&(this._rotation=a,this.update(),this.notifyPropertyChange("rotation",b))},enumerable:!0,configurable:!0}),d(c.prototype,"rotationX",{get:function(){return this._rotationX},set:function(a){var b=this._rotationX;b!==a&&(this._rotationX=a,1!==a?this._flags|=4:this._flags&=-5,this.update(),this.notifyPropertyChange("rotationX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"rotationY",{get:function(){return this._rotationY},set:function(a){var b=this._rotationY;b!==a&&(this._rotationY=a,1!==a?this._flags|=8:this._flags&=-9,this.update(),this.notifyPropertyChange("rotationY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"skewX",{get:function(){return this._skewX},set:function(a){var b=this._skewX;b!==a&&(this._skewX=a,this.update(),this.notifyPropertyChange("skewX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"skewY",{get:function(){return this._skewY},set:function(a){var b=this._skewY;b!==a&&(this._skewY=a,this.update(),this.notifyPropertyChange("skewY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"p",{get:function(){return this._p},set:function(a){var b=this._p;b!==a&&(this._p=a,a?this._flags|=1:this._flags&=-2,this.update(),this.notifyPropertyChange("p",b))},enumerable:!0,configurable:!0}),d(c.prototype,"originX",{get:function(){return this._originX},set:function(a){var b=this._originX;b!==a&&(this._originX=a,this.updateOrigin(),this.notifyPropertyChange("originX",b))},enumerable:!0,configurable:!0}),d(c.prototype,"originY",{get:function(){return this._originY},set:function(a){var b=this._originY;b!==a&&(this._originY=a,this.updateOrigin(),this.notifyPropertyChange("originY",b))},enumerable:!0,configurable:!0}),d(c.prototype,"originZ",{get:function(){return this._originZ},set:function(a){var b=this._originZ;b!==a&&(this._originZ=a,this.updateOrigin(),this.notifyPropertyChange("originZ",b))},enumerable:!0,configurable:!0}),c.prototype.notifyPropertyChange=function(a,b){},c.prototype.update=function(){this._deferred?this._dirty=!0:(this._dirty=!1,this.context&&this.context.onTransformUpdate(),this._el.style[zf]=this._flags&&Cf?c.resolve3d(this):c.resolve2d(this,this._accelerate))},c.prototype.updateOrigin=function(){this._deferred?this._originDirty=!0:(this._originDirty=!1,this._el.style[Af]=100*this._originX+"% "+100*this._originY+"% "+(this._originZ&&Cf?this._originZ+"px":""))},c.prototype.destroy=function(){this._el=this.context=null},c.prototype.clone=function(a){var b=c.KEYWORDS_LIST,d=this._deferred;this.deferred=!0;for(var e=-1,f=b.length;++e<f;){var g=b[e];this[g]=a[g]}return this.deferred=d,this},c.resolve2d=function(a,b){var c=a._x+a._tx,d=a._y+a._ty,e="translate("+c+"px,"+d+"px)";return b&&Cf&&(e+=" translateZ("+a._tz+"px)"),a._rotation%360&&(e+=" rotate("+a._rotation+"deg)"),(a._skewX%360||a._skewY%360)&&(e+=" skew("+a._skewX+"deg,"+a._skewY+"deg)"),c=a._scaleX*a._sx,d=a._scaleY*a._sy,1===c&&1===d||(e+=" scale("+c+","+d+")"),e},c.resolve3d=function(a){var b=(a._p?"perspective("+a._p+"px)":"")+" translate3d("+(a._x+a._tx)+"px,"+(a._y+a._ty)+"px,"+a._tz+"px)";a._rotationX%360&&(b+=" rotateX("+a._rotationX+"deg)"),a._rotationY%360&&(b+=" rotateY("+a._rotationY+"deg)"),a._rotation%360&&(b+=" rotateZ("+a._rotation+"deg)"),(a._skewX%360||a._skewY%360)&&(b+=" skew("+a._skewX+"deg,"+a._skewY+"deg)");var c=a._scaleX*a._sx,d=a._scaleY*a._sy;return 1===c&&1===d&&1===a._scaleZ||(b+=" scale3d("+c+","+d+","+a._scaleZ+")"),b},c.transform=function(a){var d=a[_g];if(d)return d;d=a[_g]=new c(a);var e=Xe(a,Af);if(e&&"none"!==e)for(var f=e.split(" "),g=-1,h=f.length;++g<h;){var i=f[g];if(g<2){var j=.5;"%"===i.substr(i.length-1)?j=parseFloat(i)/100:0===(j=parseFloat(i)/(g?md(a):jd(a)))||j||(j=.5),g?d._originY=j:d._originX=j}else d._originZ=parseFloat(i)}if(!(e=Xe(a,zf))||"none"===e)return d;if(!bh.test(e)){c._transformEl||(c._transformEl=Ad("div"));var k=c._transformEl;k.style.cssText="position:absolute;left:0;top:0;visibility:hidden;width:0;height:0;overflow:hidden;",k.style[zf]=e,b.body.appendChild(k),e=Xe(k,"transform"),b.body.removeChild(k),k=null}return c.parse(e,d)},c.parse=function(a,b){a&&"none"!==a||(a="");var d=b._deferred;b._deferred=!0;var e=(a.replace("3d","").match(ah)||[]).map(function(a){return+a});16===e.length?Xa(e,b):Wa(e,b);var f=Pc;b.skewY=0;for(var g=c.INNER_KEYWORDS_LIST,h=-1,i=g.length;++h<i;){var j=g[h],k=b[j];b[j]=k<f&&k>-f?0:~~(1e7*k)/1e7}var l=0;return 0!==b._p&&(l=1),1!==b._scaleZ&&(l|=2),0!==b._rotationX&&(l|=4),0!==b._rotationY&&(l|=8),0!==b._tz&&(l|=16),b._flags=l,b._accelerate=!!l||16===e.length,b._deferred=d,b},c.KEYWORDS_LIST="tx ty tz scaleX scaleY scaleZ rotation rotationX rotationY skewX skewY p originX originY originZ".split(" "),c.KEYWORDS=e(c.KEYWORDS_LIST),c.INNER_KEYWORDS_LIST=("_"+c.KEYWORDS_LIST).replace(/ /g," _").split(" "),c.defaultAccelerate=!1,c._transformEl=null,c}(nc),_g="__leo_transform__",ah=/(?:\-|\b)([\d\-\.e]+)/gi,bh=/^matrix(?:3d)?\([^)]+\)$/,ch=b.contains?function(a,b){return a.contains(b)}:function(a,b){return!!(16&a.compareDocumentPosition(b))},dh=/^(?:mouse|contextmenu)|click|tap|touch|pointer/,eh={},fh=function(a,b,c,d){for(var e=b,f=Za(a),g=eh[f]||(eh[f]={}),h=hh,i=gh,j=b;e;){var k=i(a,e,c,d);if(g[k])return;var l=h[e];e=null,l&&(l.bind&&(c=l.bind(a,c)),l.type&&(e=b=l.type)),g[k]=c}var m=c;dh.test(j)&&(m=function(a){var b=a instanceof Yh?a:Yh.delegate(a);c.call(this,b),Yh.recycle(b)},g[k]=m,m[lh]=c[lh]),a.addEventListener(b,m,!1)},gh=function(a,b,c,d){var e,f,g=lh;return(e=a[g])||(e=a[g]=kh++),(f=c[g])||(f=c[g]=kh++),e+"_"+b+"_"+f+(d?"_$":"")},hh={};"onmouseenter"in qc||k({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){hh[b]={type:a,bind:function(a,c){return function(d){var e=d.relatedTarget;e&&(e===a||ch(a,e))||(d._type=b,c.call(a,d))}}}}),"keypress keydown keyup".replace(/\w+/g,function(a){hh[a]={bind:function(a,b){return function(c){var d=c instanceof Xh?c:Xh.delegate(c);b.call(a,d),Xh.recycle(d)}}}}),qc.onmousewheel===c&&(hh.mousewheel={type:"wheel",bind:function(a,b){return function(c){c.wheelDeltaY=c.wheelDelta=c._originalEvent.deltaY>0?-120:120,c._type="mousewheel",b.call(a,c)}}});var ih=function(a,b,c,d){if(a[lh]&&c[lh]){var e,f=Za(a),g=b,h=eh[f],i=hh,j=gh;if(h){for(;g;){if(!(e=j(a,g,c,d)))return;var k=i[g];if(g=null,!h[e])return;k&&(k.unbind&&k.unbind(a,c),k.type&&(g=b=k.type)),c=h[e],delete h[e]}dc(h)&&delete eh[f],a.removeEventListener(b,c,!1)}}},jh=function(a,b){var c=a[lh];if(c&&eh[c]){var d=eh[c],e=function(){},f=lh,g=ih;for(var h in d){var i=h.split("_"),j=i[1];e[f]=i[2],i[3]||b&&b!==j||g(a,j,e)}}},kh=1,lh="__event_guid__",mh=function(a,b,c){var d=function(d){ih(a,b,c),c.call(a,d)},e=lh;c[e]||(c[e]=kh++),d[e]=c[e],fh(a,b,d)};if(yf){var nh={};k({tapstart:["mousedown","touchstart"],tapmove:["mousemove","touchmove"],tapend:["mouseup","touchend"],tapcancel:["mouseleave","touchcancel"]},function(a,b){var c=a[1],d=a[0];hh[c]={bind:function(a,b){return function(c){return b.call(a,$a(a,c))}}},hh[b]={type:d,bind:function(a,d){var e=function(c){c._type=b,d.call(a,c)};return _a(a,c,gh(a,b,d),e),e},unbind:function(a,d){ab(a,c,gh(a,b,d))}}});var oh=-1;hh.tap={type:"tapstart",timeThreshold:500,pixelThreshold:5,bind:function(a,b){function c(a){j&&a.preventDefault(),k&&a.stopPropagation(),j=!1,k=!1}var d,e,f,g=!1,h=hh.tap.timeThreshold,i=hh.tap.pixelThreshold,j=!1,k=!1;nh[gh(a,"tap-click",b)]=c,fh(a,"click",c,!0);var l=gh(a,"tap-tapend",b),m=function(c){ab(a,"tapend",l),c.tapStartTime||(c.tapStartTime=d,c.tapStartX=e,c.tapStartY=f);var j=c.timeStamp-d,k=c.tapStartX-e,m=c.tapStartY-f,j=c.tapStartTime-d,n=Math.sqrt(k*k+m*m);j<=h&&n<=i&&(c._type="tap",b.call(a,c)),c.tapStartTime=null,g=!1};return function(b){if(d=b.timeStamp,e=b.pageX,f=b.pageY,!g){d-oh>=h&&(g=!0,oh=d,fh(a,"tapend",nh[l]=m,!0))}}},unbind:function(a,b){ab(a,"tapend",gh(a,"tap-tapend",b)),ab(a,"click",gh(a,"tap-click",b))}},hh.doubletap={type:"tap",timeThreshold:500,pixelThreshold:10,bind:function(a,b){var c,d,e,f=0,g=hh.doubletap.timeThreshold,h=hh.doubletap.pixelThreshold;return function(i){var j,k,l,m;f>0&&(j=i.tapStartX-d,k=i.tapStartY-e,l=i.tapStartTime-c,m=Math.sqrt(j*j+k*k),(l>g||m>h)&&(f=0)),0===f&&(c=i.tapStartTime,d=i.tapStartX,e=i.tapStartY),2===++f&&(f=0,i._type="doubletap",b.call(a,i))}}}}else{var ph=navigator.msPointerEnabled||navigator.pointerEnabled,qh=navigator.pointerEnabled?"":"MS";k({tapstart:ph?qh+"PointerDown":"mousedown",tapmove:ph?qh+"PointerMove":"mousemove",tapend:ph?qh+"PointerUp":"mouseup",tap:"click",doubletap:"dblclick"},function(a,b){hh[b]={type:a,bind:function(a,c){return function(d){d._type=b,c.call(a,d)}}}})}var rh=function(a,b,c){Ah.test(b)||Ch.test(b)?Va(a).appendChild(Hh(b,c)):a.innerHTML=b};if(function(){var a=Ad("svg");return a.innerHTML="<rect width='1' height='1' />",!(a.firstChild&&"rect"===(a.firstChild.tagName+"").toLocaleLowerCase())}()){var sh=function(a,b){if(a.childNodes)for(var c=a.childNodes,d=0,e=c.length;d<e;++d){var f=c[d];if(f&&f.tagName){for(var g=Ad("svg:"+f.tagName.toLowerCase),h=f.attributes,i=0,j=h.length;i<j;++i){var k=h[d];k&&g.setAttribute(k.name,k.value)}b.appendChild(sh(f,g))}}return b};Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:!0,configurable:!0,get:function(){return(new XMLSerializer).serializeToString(this)},set:function(a){var c=this.tagName.toLowerCase(),d=this.parentNode,e=Hh(a);"svg"===c?d.insertBefore(e,this):d.insertBefore(sh(e,b.createDocumentFragment()),this),d.removeChild(this)}},innerHTML:{enumerable:!0,configurable:!0,get:function(){return this.outerHTML.replace(new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i"),"").replace(new RegExp("</"+this.nodeName+">$","i"),"")},set:function(a){sh(Hh(a),Va(this))}}})}var th=qc.matches||qc[Ug("matchesSelector",qc)],uh=function(a,b){return th.call(b,a)},vh=function(a){var b={left:0,top:0},c=a.ownerDocument;if(!c)return b;var d=c.defaultView||c.parentWindow,e=c.documentElement;if(!ch(e,a))return b;if(a.getBoundingClientRect){var f=a.getBoundingClientRect();b.top=f.top,b.left=f.left}return{top:b.top+d.pageYOffset-e.clientTop,left:b.left+d.pageXOffset-e.clientLeft}},wh=function(a){for(var b=a.offsetParent||qc;b&&"HTML"!==b.tagName&&"static"===Xe(b,"position");)b=b.offsetParent;return b||qc},xh=Ad("script"),yh=b.createRange(),zh=b.createDocumentFragment(),Ah=/<script/i,Bh=/<([\w:]+)/,Ch=/<(?:tb|td|tf|th|tr|col|opt|leg|cap|area)/,Dh=e(["text/javascript"]),Eh={"*":Ad("div"),option:Ad("select"),thead:Ad("table"),td:Ad("tr"),aera:Ad("map"),tr:Ad("tbody"),col:Ad("colgroup"),legend:Ad("fieldset")};Eh.optgroup=Eh.option,Eh.tbody=Eh.tfoot=Eh.colgroup=Eh.caption=Eh.thead,Eh.th=Eh.td;var Fh,Gh,Hh=function(a,c){if(a=(""+a).trim(),yh.createContextualFragment&&!Ch.test(a)&&!Ah.test(a)){var d=b.createRange();return d.selectNodeContents(qc),d.createContextualFragment(a)}var e=zh.cloneNode(!1),f=(Bh.exec(a)||["",""])[1].toLowerCase();Eh[f]||(f="*");var g=Eh[f];g.innerHTML=a;var h=g.getElementsByTagName("script");if(h.length)for(var i=0,j=h.length;i<j;++i){var k=h[i];if(k&&(!k.type||Dh[k.type]))if(c)k.parentNode.removeChild(k);else{var l=xh.cloneNode(!1);Array.prototype.forEach.call(k.attributes,function(a){a&&(l[a.name]=a.value)}),l.text=k.text,k.parentNode.replaceChild(l,k)}}for(var m;m=g.firstChild;)e.appendChild(m);return e},Ih=function(a){var b={left:0,top:0};if("fixed"===Xe(a,"position"))var c=a.getBoundingClientRect();else{var d=wh(a),c=vh(a);"HTML"!==d.tagName&&(b=vh(d)),b.top+=Xe(d,"borderTopWidth",!0),b.left+=Xe(d,"borderLeftWidth",!0)}return{top:c.top-b.top-Xe(a,"marginTop",!0),left:c.left-b.left-Xe(a,"marginLeft",!0)}},Jh={BODY:"block"},Kh={style:!0,script:!0},Lh={br:!0,hr:!0},Mh=/^\s$/,Nh=a.getComputedStyle,Oh=function(a){function b(b,c){a.call(this),this.context=c,this._deferred=!1,this._blur=0,this._brightness=1,this._contrast=1,this._grayscale=0,this._hueRotate=0,this._invert=0,this._saturate=1,this._sepia=0,this._dropShadow="",this._dirty=!1,this._el=b,b[Ph]=this}return oc(b,a),d(b.prototype,"el",{get:function(){return this._el},enumerable:!0,configurable:!0}),d(b.prototype,"deferred",{get:function(){return this._deferred},set:function(a){this._deferred!==a&&(this._deferred=a,a||this._dirty&&this.update())},enumerable:!0,configurable:!0}),d(b.prototype,"blur",{get:function(){return this._blur},set:function(a){var b=this._blur;a<0&&(a=0),b!==a&&(this._blur=a,this.update(),this.notifyPropertyChange("blur",b))},enumerable:!0,configurable:!0}),d(b.prototype,"brightness",{get:function(){return this._brightness},set:function(a){var b=this._brightness;b!==a&&(this._brightness=a,this.update(),this.notifyPropertyChange("brightness",b))},enumerable:!0,configurable:!0}),d(b.prototype,"contrast",{get:function(){return this._contrast},set:function(a){var b=this._contrast;a<0&&(a=0),b!==a&&(this._contrast=a,this.update(),this.notifyPropertyChange("contrast",b))},enumerable:!0,configurable:!0}),d(b.prototype,"grayscale",{get:function(){return this._grayscale},set:function(a){var b=this._grayscale;a=Math.max(0,Math.min(1,a)),b!==a&&(this._grayscale=a,this.update(),this.notifyPropertyChange("grayscale",b))},enumerable:!0,configurable:!0}),d(b.prototype,"hueRotate",{get:function(){return this._hueRotate},set:function(a){var b=this._hueRotate;b!==a&&(this._hueRotate=a,this.update(),this.notifyPropertyChange("hueRotate",b))},enumerable:!0,configurable:!0}),d(b.prototype,"invert",{get:function(){return this._invert},set:function(a){var b=this._invert;a=Math.max(0,Math.min(1,a)),b!==a&&(this._invert=a,this.update(),this.notifyPropertyChange("invert",b))},enumerable:!0,configurable:!0}),d(b.prototype,"saturate",{get:function(){return this._saturate},set:function(a){var b=this._saturate;a<0&&(a=0),b!==a&&(this._saturate=a,this.update(),this.notifyPropertyChange("saturate",b))},enumerable:!0,configurable:!0}),d(b.prototype,"sepia",{get:function(){return this._sepia},set:function(a){var b=this._sepia;a=Math.max(0,Math.min(1,a)),b!==a&&(this._sepia=a,this.update(),this.notifyPropertyChange("sepia",b))},enumerable:!0,configurable:!0}),d(b.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(a){var b=this._dropShadow;a!==b&&(this._dropShadow=a,this.update(),this.notifyPropertyChange("dropShadow",b))},enumerable:!0,configurable:!0}),b.prototype.notifyPropertyChange=function(a,b){},b.prototype.update=function(){this._deferred?this._dirty=!0:(this._el.style.webkitFilter=b.resolve(this),this._dirty=!1)},b.prototype.reset=function(){this.blur=0,this.brightness=1,this.contrast=1,this.grayscale=0,this.hueRotate=0,this.invert=0,this.saturate=1,this.sepia=0,this.dropShadow=""},b.prototype.destroy=function(){this._el=this.context=null},b.resolve=function(a){var b=a._blur?"blur("+a._blur+"px)":"";return 1!==a._brightness&&(b+=" brightness("+a._brightness+")"),1!==a._contrast&&(b+=" contrast("+a._contrast+")"),a._grayscale&&(b+=" grayscale("+a._grayscale+")"),a._hueRotate&&(b+=" hue-rotate("+a._hueRotate+"deg)"),a._invert&&(b+=" invert("+a._invert+")"),1!==a._saturate&&(b+=" saturate("+a._saturate+")"),a._sepia&&(b+=" sepia("+a._sepia+")"),a._dropShadow&&(b+=" drop-shadow("+a._dropShadow+")"),b},b.filter=function(a){var c=a[Ph];return c||b.parse(Xe(a,"webkitFilter"),a[Ph]=new b(a))},b.parse=function(a,b){a&&"none"!==a||(a="");var c=b._deferred;b._deferred=!0;for(var d=fc(a," ",!0),e=-1,f=d.length;++e<f;){var g=d[e],h=g.indexOf("(");if(h>=0){var i=g.substr(0,h);"hue-rotate"===i&&(i="hueRotate");var j=g.substr(h+1,g.length-1);"drop-shadow"===i?b.dropShadow=j:(i="_"+i,"%"===j.charAt(j.length-1)?b[i]=parseFloat(j)/100:b[i]=parseFloat(j))}}return b._deferred=c,b},b.KEYWORDS_LIST="blur brightness contrast grayscale hueRotate invert saturate sepia dropShadow".split(" "),b.KEYWORDS=e(b.KEYWORDS_LIST),b}(nc),Ph="__leo_filters__",Qh=e("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom".split(",")),Rh={opacity:{get:function(a){var b=ob(a,"opacity");return b||"1"}},width:{get:function(a){var b=ob(a,"width")||"";return/px$/.test(b)?b:jd(a)+"px"}},height:{get:function(a){var b=ob(a,"height")||"";return/px$/.test(b)?b:md(a)+"px"}}};"top,left".replace(/\w+/g,function(a){Rh[a]={get:function(b){var c=ob(b,a)||"";return/px$/.test(c)?c:Ih(b)[a]+"px"}}}),$g.KEYWORDS_LIST.forEach(function(a){Rh[a]={get:function(b){return $g.transform(b)[a]},set:function(b,c){var d=$g.transform(b),e=+c;(0===e||e)&&(d[a]=e)}}}),pb(Qh,$g.KEYWORDS);var Sh=function(a){function b(b,c,d){void 0===c&&(c=!1),void 0===d&&(d=!1),a.call(this),this.data=null,this.reinitialize(b,c,d)}return oc(b,a),d(b.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),d(b.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),d(b.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),d(b.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),d(b.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),d(b.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),b.prototype._setCurrentTarget=function(a){this._currentTarget=a},d(b.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),b.prototype.isDefaultPrevented=function(){return this._defaultPrevented},b.prototype.preventDefault=function(){this._cancelable&&(this._defaultPrevented=!0)},b.prototype.isPropagationStopped=function(){return this._isPropagationStopped},b.prototype.stopPropagation=function(){this._bubbles&&(this._isPropagationStopped=!0)},b.prototype.isImmediatePropagationStopped=function(){return this._isImmediatePropagationStopped},b.prototype.stopImmediatePropagation=function(){this._bubbles&&(this._isImmediatePropagationStopped=!0)},b.prototype.reinitialize=function(a,b,c){this._type=a,this._bubbles=b,this._cancelable=c,this._defaultPrevented=!1,this._isPropagationStopped=!1,this._isImmediatePropagationStopped=!1,this._target=null,this._currentTarget=null,this._eventPhase=2,this._timeStamp=Date.now()},b.prototype.destructor=function(){this._target=null,this._currentTarget=null,this.data=null},b.getEventInstance=function(a,b,c,d,e){void 0===c&&(c=!1),void 0===d&&(d=!1),a.getPooled||Ji.addPoolingTo(a,Ji.THREE_ARGUMENTS);var f=a.getPooled(b,c,d);return null!=e&&(f.data=e),f},b.dispatchEvent=function(a,c,d,e){void 0===d&&(d=!1);var f=b.getEventInstance(b,c,d,!1,e),g=a.dispatchEvent(f);return b.recycle(f),g},b}(nc),Th=function(a){function b(b,c,d){a.call(this,b,c,d),this.ctrlKey=!1,this.shiftKey=!1,this.altKey=!1,this.which=null,this.relatedTarget=null,this.srcElement=null,this._originalEvent=null}return oc(b,a),d(b.prototype,"originalEvent",{get:function(){return this._originalEvent},enumerable:!0,configurable:!0}),b.prototype.preventDefault=function(){a.prototype.preventDefault.call(this),this._originalEvent.preventDefault()},b.prototype.stopPropagation=function(){a.prototype.stopPropagation.call(this),this._originalEvent.stopPropagation()},b.prototype.stopImmediatePropagation=function(){a.prototype.stopImmediatePropagation.call(this),this._originalEvent.stopImmediatePropagation&&this._originalEvent.stopImmediatePropagation()},b.prototype.destructor=function(){a.prototype.destructor.call(this),this._originalEvent=null,this.relatedTarget=null,this.srcElement=null},b._injectProperties=function(a,b){return a.ctrlKey=b.ctrlKey,a.shiftKey=b.shiftKey,a.altKey=b.altKey,a._target=b.target,a._setCurrentTarget(b.currentTarget),a.which=b.which,a.relatedTarget=b.relatedTarget,a.srcElement=b.srcElement,a._originalEvent=b,a},b.dispatchDOMEvent=function(a,c,d){var e=b.delegate(c,d),f=a.dispatchEvent(e);return b.recycle(e),f},b.delegate=function(a,b){var c=this.getEventInstance(this,a.type,a.bubbles,a.cancelable,b);return this._injectProperties(c,a)},b}(Sh),Uh=function(){function a(){}return a.TAP="tap",a.TAP_START="tapstart",a.TAP_MOVE="tapmove",a.TAP_END="tapend",a.TAP_CANCEL="mouseleave",a.DOUBLE_TAP="doubletap",a.MOUSE_ENTER="mouseenter",a.MOUSE_LEAVE="mouseleave",a.MOUSE_SCROLL="mousewheel",a.KEY_DOWN="keydown",a.KEY_PRESS="keypress",a.KEY_UP="keyup",a}(),Vh=e("mousemove mousedown mouseup click dblclick contextmenu touchstart touchend touchmove touchcancel");Object.keys(Uh).forEach(function(a){Vh[Uh[a]]=!0});var Wh=function(){function a(){}return a.CHILD_ADDED="childAdd",a.CHILD_REMOVED="childRemove",a.ENTER_STAGE="enterStage",a.LEAVE_STAGE="leaveStage",a}(),Xh=function(a){function b(b,c,d){a.call(this,b,c,d),this.char=null,this.charCode=null,this.key=null,this.keyCode=null,this.keyName=null}return oc(b,a),b.keyName=function(a){return this.keyMap[a]||String.fromCharCode(a)},b._injectProperties=function(a,b){return a=Th._injectProperties(a,b),a.char=b.char,a.charCode=b.charCode,a.key=b.key,a.keyCode=b.keyCode,null==a.which&&(a.which=null!=a.charCode?a.charCode:a.keyCode),a.keyName=this.keyName(a.which),a},b.keyMap={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},b}(Th),Yh=function(a){function b(b,c,d){a.call(this,b,c,d),this.pageX=0,this.pageY=0,this.clientX=0,this.clientY=0,this.wheelDelta=0,this.wheelDeltaY=0,this.button=-1,this.toElement=null}return oc(b,a),b.prototype.destructor=function(){a.prototype.destructor.call(this),this.toElement=null,this.button=-1},b._injectProperties=function(a,b){return a=Th._injectProperties(a,b),a.wheelDelta=b.wheelDelta,a.wheelDeltaY=b.wheelDeltaY,a.pageX=b.pageX,a.pageY=b.pageY,a.clientX=b.clientX,a.clientY=b.clientY,a.button=b.button,a.toElement=b.toElement,a},b}(Th),Zh=function(a){function b(b,c,d){a.call(this,b,c,d),this.oldValue=null}return oc(b,a),b.getInstance=function(a,c){var d=b.getEventInstance(b,a,!1,!1);return d.oldValue=c,d},b.dispatchPropertyChangeEvent=function(a,c,d){if(a.hasEventListener(c+="Change")){var e=b.getInstance(c,d);e._setCurrentTarget(e._target=a),a.dispatchEvent(e),b.recycle(e)}},b}(Sh),$h=function(a){function b(){a.call(this),this._packages=[],this._packageMap={},this.paused=!1,this._currentPackage=null,this._handler=null}return oc(b,a),b.prototype.load=function(a,b,c,d){return d=this._add(a,b,c,d,0),this._load(),d},d(b.prototype,"current",{get:function(){return this._currentPackage&&this._currentPackage.id},enumerable:!0,configurable:!0}),b.prototype.contains=function(a){return null!=this._packageMap[a]||this.current===a},b.prototype.remove=function(a){if(this.current===a)this._currentPackage=null,this._load();else if(this.contains(a)){var b=this._packageMap[a],c=this._packages.indexOf(this._packageMap[a]);return c>=0&&this._packages.splice(c,1),delete this._packageMap[a],b}return null},b.prototype.push=function(a,b,c,d){var d=this._add(a,b,c,d,this._packages.length);return this._currentPackage||this._load(),d},b.prototype.pause=function(){return this.paused||(this.paused=!0,this._handler&&(wc(this._handler),this._handler=null)),this},b.prototype.resume=function(){return this.paused&&(this.paused=!1,this._startLoading()),this},b.prototype._pack=function(a,b,c,d){return{id:d,next:0,loaded:0,error:0,total:a.length,cells:a,oncomplete:b,onprogress:c}},b.prototype._add=function(a,b,c,d,e){d=d||f(),this.contains(d)&&this.remove(d);var g={id:d,next:0,loaded:0,error:0,total:a.length,cells:a,oncomplete:b,onprogress:c};return this._packages.splice(e,0,this._packageMap[g.id]=g),d},b.prototype._load=function(){var a=this._currentPackage;this._currentPackage=this._packages[0],this._currentPackage?(delete this._packageMap[this._currentPackage.id],this._packages.splice(0,1),a&&this._packages.splice(0,0,this._packageMap[a.id]=a)):this._currentPackage=a,this._startLoading()},b.prototype._startLoading=function(){var a=this;this._handler&&(wc(this._handler),this._handler=null),this._currentPackage&&(this.dispatchSimpleEvent("start",this._currentPackage),this._handler=vc(function(){var c=a._currentPackage;c.next<c.total&&c.next-c.loaded<b.THRESHOLD?a._loadCell(c.next++):a._oncomplete()},b.INTERVAL))},b.prototype._loadCell=function(a){},b.prototype._oncomplete=function(){var a=this._currentPackage;this._currentPackage=null,this._load(),a.oncomplete&&a.oncomplete.call(null,a),this.dispatchSimpleEvent("complete",a)},b.INTERVAL=16.667,b.THRESHOLD=60,b}(pc),_h=function(a){function b(){a.call(this)}return oc(b,a),b.prototype._loadCell=function(a){var b=this,c=this._currentPackage,d=c.cells[a],e=d.target,f=function(){e.removeEventListener("load",f,e),++c.loaded,4===e.readyState&&++c.error,c.onprogress&&c.onprogress.call(null,c),b.dispatchSimpleEvent("progress",c)};if(e.addEventListener("load",f,e),d.data.type.indexOf("sound")>=0||d.data.type.indexOf("video")>=0)return void f();e.readyState?e.readyState>=2&&f():e.load(d.data)},b.getInstance=function(){return b.instance||(b.instance=new b),b.instance},b.instance=null,b}($h),ai=function(){function a(b){this._progress=0,this._animations=new Array(2),this._state=0,this._showHideAnimation=null,this.isStarted=!1,this.options=pb({},a.DEFAULT_OPTIONS,b);this.options.container;this._wrapper=vi("div").addClass("leo-progress-wrapper"),this._bar=wi("<div class='leo-progress-bar'><div class='leo-progress-bar--inner'></div></div>").appendTo(this._wrapper)[0],this._spin=wi("<div class='leo-progress-spin'><div class='leo-progress-spin--inner'></div></div>").appendTo(this._wrapper)[0],1===this.options.type?fb(this._spin):2===this.options.type&&fb(this._bar)}return a.prototype.setContainer=function(a){ui(a).append(this._bar).append(this._spin)},d(a.prototype,"progress",{get:function(){return this._progress},set:function(a){this._progress=a,this.render(a)},enumerable:!0,configurable:!0}),a.prototype.render=function(a){this._bar.style.width=100*a+"%"},a.prototype.destroy=function(){this._animations.forEach(function(a){a&&a.destroy()}),this._animations=null,this._showHideAnimation&&(this._showHideAnimation.destroy(),this._showHideAnimation=null),this._wrapper.remove(),this._wrapper=null,this._bar=null,this._spin=null,this.options=null},a.prototype._showHide=function(a){var b=this,c=this._state;(a&&c<2||!a&&c>1)&&(this._showHideAnimation&&this._showHideAnimation.stop(!1,!0),
a&&!c&&this._wrapper.appendTo(this.options.container).style({display:"none",opacity:0}),this._state=a?2:1,this._showHideAnimation=Xc.to(this._wrapper[0],400,{display:a?"":"none",opacity:a?1:0}),this._showHideAnimation.addEventListener("end",function(){b._showHideAnimation=null,b._state=a?3:0,a||(b._stopSpin(),b.isStarted=!1,b._progress=0,b._wrapper.remove())},null))},a.prototype.start=function(){return this.isStarted||(this.isStarted=!0,this._showHide(!0),2&this.options.type&&this._startSpin(),this.trikle()),this},a.prototype.restart=function(){return this.start(),this.set(0,!0)},a.prototype._animateBarTo=function(a){var b=this,c=this._animations;c[0]&&c[0].stop(!1,!0),c[0]=Xc.to(this,this.options.speed,{progress:_b(a,0,1)},{easing:"swing"}),c[0].addEventListener("end",function(){b._animations[0]=null,1===b._progress?b.options.autoDone&&b.done():b.isStarted&&b.trikle()},null)},a.prototype._startSpin=function(){this._animations[1]||(this._animations[1]=Xc.to(this._spin,400,{rotation:"+=360"},{repeat:-1,easing:"linear"}))},a.prototype._stopSpin=function(){this._animations[1]&&(this._animations[1].destroy(),this._animations[1]=null)},a.prototype.set=function(a,b){return this._progress!==a&&(this._showHide(!0),2&this.options.type&&this._startSpin(),(b||!this.options.onlyForward||this._progress<a)&&this._animateBarTo(a)),this},a.prototype.inc=function(a){return this.set(_b(this._progress+this._getAmount(a),0,.994))},a.prototype._getAmount=function(a){var b=this._progress;if(null==a)var a=(1-b)*_b(Math.random(),.1,.95);return a},a.prototype.trikle=function(){return this.options.trikleRatio?this.inc(Math.random()*this.options.trikleRatio):this},a.prototype.done=function(){var a=this;if(this._state){if(1!==this._progress){this._animateBarTo(1);var b=this._animations;if(b[0])return void b[0].addEventListener("end",function(){a._showHide(!1)},null,-1/0)}this._showHide(!1)}},a.DEFAULT_OPTIONS={speed:200,trikleRatio:.02,autoDone:!0,onlyForward:!0,container:"body",type:3},a}(),bi=function(a){function b(b,c,d,e,f,g){void 0===b&&(b=1),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=1),void 0===f&&(f=0),void 0===g&&(g=0),a.call(this),this.a=b,this.b=c,this.c=d,this.d=e,this.tx=f,this.ty=g}return oc(b,a),b.prototype.append=function(a,b,c,d,e,f){var g=this.a,h=this.b,i=this.c,j=this.d;return 1===a&&0===b&&0===c&&1===d||(this.a=g*a+i*b,this.b=h*a+j*b,this.c=g*c+i*d,this.d=h*c+j*d),this.tx+=g*e+i*f,this.ty+=h*e+j*f,this},b.prototype.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty)},b.prototype._multiplyTransform=function(a,b,c,d,e,f,g,h,i,j){var k=1,l=0;if(e%360){var m=e*Nc;k=Math.cos(m),l=Math.sin(m)}(h||i)&&(this.tx+=h,this.ty+=i);var n=k*c,o=l*c,p=-l*d,q=k*d;if(f||g){f*=Nc,g*=Nc;var r=Math.tan(f),s=Math.tan(g);n-=l*s*c,o+=k*s*c,p+=k*r*d,q+=l*r*d}a+=-n*h-p*i,b+=-o*h-q*i,this.append(n,o,p,q,a,b)},b.prototype.appendTransform=function(a,b,c,d,e,f,g,h,i){return this._multiplyTransform(a,b,c,d,e,f,g,h,i,!1),this},b.prototype.transformPoint=function(a){var b=a.x,c=a.y;return a.x=this.a*b+this.c*c+this.tx,a.y=this.b*b+this.d*c+this.ty,a},b.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},b.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-e*d)/f,this.ty=-(a*this.ty-e*b)/f,this},b.identity=new b(1,0,0,1,0,0),b}(nc),ci=function(a){function b(b,c,d,e){void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0),a.call(this),this.x=b,this.y=c,this.width=d,this.height=e}return oc(b,a),d(b.prototype,"right",{get:function(){return this.x+this.width},set:function(a){this.width=a-this.x},enumerable:!0,configurable:!0}),d(b.prototype,"left",{get:function(){return this.x},set:function(a){this.x=a},enumerable:!0,configurable:!0}),d(b.prototype,"bottom",{get:function(){return this.y+this.height},set:function(a){this.height=a-this.y},enumerable:!0,configurable:!0}),d(b.prototype,"top",{get:function(){return this.y},set:function(a){this.y=a},enumerable:!0,configurable:!0}),b.prototype.set=function(a,b,c,d){return this.x=a,this.y=b,this.width=c,this.height=d,this},b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height)},b.identity=new b(0,0,0,0),b}(nc),di=function(a){function b(b,c){a.call(this),this._canceler=null,this.loaded=0,this.onload=null,this._node=this._createNode(),this._node.setAttribute("preload","metadata"),this.controlable=!0,c&&c.appendChild(this._node),b&&(this.src=b)}return oc(b,a),b.prototype._createNode=function(){return null},d(b.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),d(b.prototype,"controlable",{get:function(){return null!=this._node.getAttribute("controls")},set:function(a){a?this._node.setAttribute("controls","true"):this._node.removeAttribute("controls")},enumerable:!0,configurable:!0}),b.prototype.resume=function(){this._node.play&&this._node.play()},b.prototype.pause=function(){this._node.pause&&this._node.pause()},d(b.prototype,"support",{get:function(){return!1},enumerable:!0,configurable:!0}),b.prototype.getType=function(a){return a},b.prototype.stop=function(){this.pause()},b.prototype.replay=function(){this.currentTime=0,this.resume()},d(b.prototype,"src",{get:function(){return this._src},set:function(a){if(this._src!==a){this._src=a,this.loaded=0,this.support||this._addEvents();var b=this.getType(a);b?(this._node.setAttribute("type",b),this._addEvents()):this._addEvents(0),this._node.src=a}},enumerable:!0,configurable:!0}),b.prototype._addEvents=function(a){var c=this;void 0===a&&(a=b.TIMEOUT),this._removeEvents();var d=this._node,e=function(){c._onload(!1)},f=function(){c._onload(!0)},g=this.support;g&&(d.addEventListener("canplaythrough",e,!1),d.addEventListener("stalled",e,!1),d.addEventListener("error",f,!1)),g||(a=0);var h=tc(f,a);this._canceler=function(){g&&(d.removeEventListener("canplaythrough",e,!1),d.removeEventListener("stalled",e,!1),d.removeEventListener("error",f,!1)),uc(h),d=f=e=null}},b.prototype._removeEvents=function(){this._canceler&&(this._canceler(),this._canceler=null)},b.prototype._onload=function(a){this._removeEvents(),this.loaded=a?-1:1,this.onload&&this.onload()},d(b.prototype,"paused",{get:function(){return!!this._node.paused},enumerable:!0,configurable:!0}),d(b.prototype,"muted",{get:function(){return!!this._node.muted},set:function(a){this.muted!==a&&(this._node.muted=a)},enumerable:!0,configurable:!0}),d(b.prototype,"volume",{get:function(){return this._node.volume||0},set:function(a){this.volume!==a&&(this._node.volume=a)},enumerable:!0,configurable:!0}),d(b.prototype,"currentTime",{get:function(){return this._node.currentTime||0},set:function(a){if(this.currentTime!==a)try{this._node.currentTime=a}catch(b){}},enumerable:!0,configurable:!0}),d(b.prototype,"duration",{get:function(){try{return this._node.duration||0}catch(a){return 0}},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this._node.pause(),db(this._node),this._node=null,this._removeEvents()},b.TIMEOUT=12345,b}(nc),ei={_cache:[],_counter:0,get:function(){return this._cache.length?this._cache.pop():Hc+this._counter++},add:function(a){this._cache.push(a)}},fi=function(a){function b(){a.call(this),this.medialist=[]}return oc(b,a),b.prototype.add=function(a){this.remove(a);this.medialist.push(a),1===this.medialist.length&&this.load()},b.prototype.remove=function(a){var b=this.medialist.indexOf(a);return b>0?this.medialist.splice(b,1):0===b&&(a.removeEventListener("medialoaded",this.onload,this),this.medialist.shift(),this.load()),b},b.prototype.load=function(){var a,b=this.medialist;b.length&&(a=b[0],a.addEventListener("medialoaded",this.onload,this),a.loadSource())},b.prototype.onload=function(){this.medialist.shift().removeEventListener("medialoaded",this.onload,this),this.load()},b}(nc),gi=new fi,hi=function(a){function b(){a.call(this),this.readyState=0,this.onceload=!1,this.paused=!0,this._volume=1;var b=Ad("audio");b.volume=0,b.preload="metadata",this.originalAudio=b,this.delegate(),this.addEventListener("ended",function(){this.paused=!0,this.dispatchSimpleEvent("pause")},this),this.addEventListener("error",this.onerror,this),this.addEventListener(wf&&!xf?"canplaythrough":"canplay",this.onload,this)}return oc(b,a),b.prototype.load=function(){if(this.onceload=!0,0===this.readyState){if(this.readyState=1,""===this._src||"http://"===this._src)return this.readyState=4,void this.dispatchSimpleEvent("error",{message:"Audio require a url."});wf&&!xf?gi.add(this):this.loadSource()}},b.prototype.loadSource=function(){this.originalAudio.load(),this.originalAudio.play(),this.originalAudio.pause()},b.prototype.compatibleMp3AndOggFile=function(a){for(var c,d,e=a.lastIndexOf("."),f=a.substr(e+1).toLowerCase(),g=a.substr(0,e),h=["mp3","ogg"],i=0;i<h.length-1;i++)if(d=h[i],b.supportTypes[d]){c=g+"."+f;break}this.originalAudio.src=c||a},b.prototype.onerror=function(){this._onload(2)},b.prototype.onload=function(){this._onload(4),this.playOnLoad&&this.play()},b.prototype._onload=function(a){this.readyState=a,this.dispatchSimpleEvent("medialoaded")},b.prototype.replay=function(){2!==this.readyState&&(4===this.readyState&&(this.currentTime=0,this.originalAudio.volume=0),this.originalAudio.pause(),this.paused=!0,this.play())},b.prototype.play=function(){var a=this.readyState;if(0===a)return this.load(),void(this.playOnLoad=!0);if(4===a){if(!this.paused)return;this.paused=!1,this.dispatchSimpleEvent("play");var c=this.originalAudio;if(c.ended)return void this.replay();b.volumeChangeable?this.fadeInSound():c.play()}},b.prototype.pause=function(){if(this.playOnLoad=!1,!this.paused){this.paused=!0,this.dispatchSimpleEvent("pause");var a=this.originalAudio;b.volumeChangeable?this.fadeOutSound():a.pause()}},b.prototype.fadeInSound=function(){this.fadeSound(!1)},b.prototype.fadeOutSound=function(){this.fadeSound(!0)},b.prototype.fadeSound=function(a){uc(this.timeoutId);var b=Li(),c=2e3;a||this.originalAudio.play();var d=this._volume,e=this.originalAudio,f=e.volume,g=this;!function h(){var i=Li()-b,j=0;i>=c?(j=1,a&&e.pause()):(j=i/c,g.timeoutId=tc(h,1)),e.volume=a?f*(1-j):f+(d-f)*j}()},b.prototype.playPause=function(){this.paused?this.play():this.pause()},d(b,"volumeChangeable",{get:function(){if(b._volumeChangeable!==c)return b._volumeChangeable;var a=Ad("audio"),d=a.volume;return 0===d?d=1:d/=2,a.volume=d,a.volume===d?b._volumeChangeable=!0:b._volumeChangeable=!1},enumerable:!0,configurable:!0}),b.prototype.delegate=function(){for(var a=this,c=b.events,d=0,e="",f=this.originalAudio;e=c[d++];)fh(f,e,function(b){a.dispatchSimpleEvent(b.type)})},b.prototype.undelegate=function(){for(var a=b.events,c=0,d="",e=this.originalAudio;d=a[c++];)jh(e,d)},b.prototype.destroy=function(){this.destroyed||(wf&&!xf&&gi.remove(this),a.prototype.destroy.call(this),this.undelegate(),this.destroyed=!0,this.pause())},d(b.prototype,"muted",{get:function(){return this.originalAudio.muted},set:function(a){this.originalAudio.muted=a},enumerable:!0,configurable:!0}),d(b.prototype,"currentTime",{get:function(){return this.originalAudio.currentTime},set:function(a){this.originalAudio.currentTime=a},enumerable:!0,configurable:!0}),d(b.prototype,"src",{get:function(){return this._src},set:function(a){this._src!==a&&(this._src=a,this.readyState=0,a||(a=""),a=a.replace(/s+$/g,""),this.compatibleMp3AndOggFile(a),this.onceload&&(this.playOnLoad=!0,this.paused=!0,this.load()))},enumerable:!0,configurable:!0}),d(b.prototype,"loop",{get:function(){return this.originalAudio.loop},set:function(a){this.originalAudio.loop=!!a},enumerable:!0,configurable:!0}),d(b.prototype,"controls",{get:function(){return this.originalAudio.controls},set:function(a){this.originalAudio.controls=!!a},enumerable:!0,configurable:!0}),d(b.prototype,"duration",{get:function(){return this.originalAudio.duration},enumerable:!0,configurable:!0}),d(b.prototype,"buffered",{get:function(){return this.originalAudio.buffered},enumerable:!0,configurable:!0}),d(b.prototype,"volume",{get:function(){return this._volume},set:function(a){b.volumeChangeable&&this._volume!==a&&(this.originalAudio.volume=this._volume=a)},enumerable:!0,configurable:!0}),d(b.prototype,"autoplay",{get:function(){return this._autoplay},set:function(a){this._autoplay=this.playOnLoad=!!a},enumerable:!0,configurable:!0}),b.events=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],b.supportTypes={},b}(pc);!function(){var a={mp3:"audio/mpeg;",ogg:"audio/ogg; codecs='vorbis'",wav:"audio/wav; codecs='1'",m4a:"audio/x-m4a;",acc:"audio/aac;"},b=Ad("audio"),c=hi.supportTypes;try{b.canPlayType&&(c.ogg=!!b.canPlayType(a.ogg).replace(/^no$/,""),c.mp3=!!b.canPlayType(a.mp3).replace(/^no$/,""),c.wav=!!b.canPlayType(a.wav).replace(/^no$/,""),c.m4a=!!(b.canPlayType(a.m4a)||b.canPlayType(a.acc)).replace(/^no$/,""))}catch(d){}}();var ii=function(a){function b(){a.apply(this,arguments)}return oc(b,a),b.prototype._createNode=function(){var a=Ad("video");return a.textContent="Your browser does not support the HTML5 video.",a},d(b.prototype,"support",{get:function(){return b.support},enumerable:!0,configurable:!0}),b.prototype.getType=function(a){var c=a.substr(a.lastIndexOf(".")+1);return b.typeTable[c]},b.typeTable={mp4:"video/mp4; codecs='avc1.42E01E'",ogg:"video/ogg; codecs='theora'",ogv:"video/ogg; codecs='theora'",webm:"video/webm; codecs='vp8, vorbis'"},b.supportTypes={},b.support=!1,b}(di);!function(){var a=Ad("video"),b=ii.supportTypes;ii.support=!!a.canPlayType;try{ii.support&&(b.ogg=!!a.canPlayType("video/ogg; codecs='theora'").replace(/^no$/,""),b.h264=!!a.canPlayType("video/mp4; codecs='avc1.42E01E'").replace(/^no$/,""),b.webm=!!a.canPlayType("video/webm; codecs='vp8, vorbis'").replace(/^no$/,""))}catch(c){}}();var ji=function(b){function c(a,c){b.call(this),this._url="",this._eventAdds=!1,this._timer=null,this.loaded=0,this.onload=null,this._canceler=null,this._paused=!0,this._muted=!1,this._originalVolume=1,this._volume=1,this._currentTime=0,this._duration=0;var d=this._node=Ad("iframe");d.setAttribute("webkitallowfullscreen",""),d.setAttribute("mozallowfullscreen",""),d.setAttribute("allowfullscreen",""),d.setAttribute("frameborder","0"),d.id=this.playerId=Hc+f(),c&&c.appendChild(this._node),a&&(this.src=a)}return oc(c,b),d(c.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),d(c.prototype,"src",{get:function(){return this._src},set:function(a){this.src!==a&&(this._src=a,this.loaded=0,this._paused=!0,ki?(this._countDown(c.TIMEOUT,!0),this._eventAdds||this._listenMessages(),this._node.src=this._url=hc(c.pattern,this),this._url=this._url.split("?")[0]):this._countDown(0,!0))},enumerable:!0,configurable:!0}),c.prototype._clearTimer=function(){this._timer&&(uc(this._timer),this._timer=null)},c.prototype._countDown=function(a,b){var c=this;this._clearTimer(),this._timer=tc(function(){c._onload(b)},a)},c.prototype._onload=function(a){this._clearTimer(),this.loaded=a?-1:1,a?this._post("unload"):(this._addEvents(),this._post("getDuration")),this.onload&&this.onload()},c.prototype._listenMessages=function(){var b=this;this._eventAdds=!0;var c=function(a){return b._onmessage(a)};a.addEventListener("message",c,!1),this._canceler=function(){a.removeEventListener("message",c,!1),c=null}},c.prototype._addEvents=function(){this._removeEvents(),this._post("addEventListener","pause"),this._post("addEventListener","play"),this._post("addEventListener","playProgress"),this._post("addEventListener","seek")},c.prototype._removeEvents=function(){this._post("removeEventListener","pause"),this._post("removeEventListener","play"),this._post("removeEventListener","playProgress"),this._post("removeEventListener","seek")},c.prototype._onmessage=function(a){var b=a.data;if(b){var c=JSON.parse(b);if(this.playerId===c.player_id)if(c.event)switch(c.event){case"ready":this.loaded||this._onload(!1);break;case"pause":this._paused=!0;break;case"play":this._paused=!1;break;case"seek":case"playProgress":this._currentTime=+c.seconds}else if(c.method)switch(c.method){case"getDuration":this._duration=+c.value}}},c.prototype._post=function(a,b){if(ki&&1===this.loaded){var c={method:a};null!=b&&(c.value=b);var d=this._node.contentWindow;d&&d.postMessage(JSON.stringify(c),this._url)}},c.prototype.resume=function(){this.paused&&this._post("play")},c.prototype.pause=function(){this.paused||this._post("pause")},c.prototype.stop=function(){this.pause()},c.prototype.replay=function(){this.currentTime=0,this.resume()},d(c.prototype,"paused",{get:function(){return this._paused},enumerable:!0,configurable:!0}),d(c.prototype,"muted",{get:function(){return this._muted},set:function(a){this.muted!==a&&(this._muted=a,a?(this._originalVolume=this.volume,this._post("setVolume",0)):this.volume=this._originalVolume)},enumerable:!0,configurable:!0}),d(c.prototype,"volume",{get:function(){return this._muted?this._originalVolume:this._volume},set:function(a){this._originalVolume=a,this.volume!==a&&this._post("setVolume",a)},enumerable:!0,configurable:!0}),d(c.prototype,"currentTime",{get:function(){return this._currentTime},set:function(a){this.currentTime!==a&&this._post("seekTo",a)},enumerable:!0,configurable:!0}),d(c.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),c.prototype.destroy=function(){this.loaded&&(this._post("unload"),this._removeEvents()),this._canceler&&(this._canceler(),this._canceler=null),db(this._node),this._clearTimer(),this._node=null},c.TIMEOUT=12345,c.pattern="//player.vimeo.com/video/{src}?wmode=opaque&api=1&player_id={playerId}&portrait=0",c}(nc),ki=!!a.postMessage,li=function(b){function c(a,c){b.call(this),this._timer=null,this._playerReady=0,this._handlers={onReady:"",onError:"",onStateChange:""},this.loaded=0,this.onload=null;var d=this._node=Ad("iframe");d.setAttribute("webkitallowfullscreen","true"),d.setAttribute("mozallowfullscreen","true"),d.setAttribute("allowfullscreen","true"),d.setAttribute("frameborder","0"),this.player=null,c&&c.appendChild(this._node),a&&(this.src=a)}return oc(c,b),d(c.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),d(c.prototype,"src",{get:function(){return this._src},set:function(a){if(this.src!==a){this._src=a,this.loaded=0;var b=mi.getInstance();this.player||this._playerReady||b.contains(this)||b.add(this),b=null,1===this._playerReady?this._load():-1===this._playerReady&&this._countDown(0,!0)}},enumerable:!0,configurable:!0}),c.prototype._clearTimer=function(){this._timer&&(uc(this._timer),this._timer=null)},c.prototype._countDown=function(a,b){var c=this;this._clearTimer(),this._timer=tc(function(){c._onload(b)},a)},c.prototype.onApiReady=function(){var b=this;this._node.src=hc(c.pattern,this);var d=this.player=new a.YT.Player(this._node,{});this._timer=tc(function(){b.onPlayerError()},12345),a[this._handlers.onReady=ei.get()]=function(){b.onPlayerReady()},d.addEventListener("onReady",this._handlers.onReady)},c.prototype.onApiError=function(){this._playerReady=-1,this._countDown(0,!0)},c.prototype.onPlayerReady=function(){this._clearEvents(),this._playerReady=1,this._load()},c.prototype.onPlayerError=function(){this._clearEvents(),this._playerReady=-1;try{this.player.destroy()}catch(a){}this.player=null,this._onload(!0)},c.prototype._load=function(){var b=this;this._clearEvents(),a[this._handlers.onError=ei.get()]=function(a){a&&a.data&&b._onload(!0)},a[this._handlers.onStateChange=ei.get()]=function(a){!a||1!==a.data&&5!==a.data||b._onload(!1)},this.player.addEventListener("onStateChange",this._handlers.onStateChange),this.player.addEventListener("onError",this._handlers.onError),this._countDown(c.TIMEOUT,!0),this.player.cueVideoById(this.src,this._startTime)},c.prototype._onload=function(a){this._clearEvents(),1===this._playerReady&&(this.loaded=a?-1:1,this.loop=this._loop,a&&this.player.stopVideo()),this.onload&&this.onload()},c.prototype._removeEvents=function(){var b=this._handlers,c=this.player;for(var d in b){var e=b[d];e&&(a[e]=Ec,c&&c.removeEventListener&&c.removeEventListener(d,e),ei.add(e),b[d]="")}},c.prototype._clearEvents=function(){this._clearTimer(),this._removeEvents()},c.prototype.resume=function(){1===this._playerReady&&this.player.playVideo()},c.prototype.pause=function(){1===this._playerReady&&this.player.pauseVideo()},c.prototype.stop=function(){1===this._playerReady&&this.player.stopVideo()},c.prototype.replay=function(){this.currentTime=this._startTime,this.resume()},d(c.prototype,"paused",{get:function(){if(1===this._playerReady){var a=this.player.getPlayerState();return 1!==a&&3!==a}return!1},enumerable:!0,configurable:!0}),d(c.prototype,"muted",{get:function(){return!(1!==this._playerReady||!this.player.isMuted())},set:function(a){this.muted!==a&&1===this._playerReady&&(a?this.player.mute():this.player.unMute())},enumerable:!0,configurable:!0}),d(c.prototype,"volume",{get:function(){return 1===this._playerReady?this.player.getVolume()/100:1},set:function(a){this.volume!==a&&1===this._playerReady&&this.player.setVolume(~~(100*a))},enumerable:!0,configurable:!0}),d(c.prototype,"currentTime",{get:function(){return 1===this._playerReady?this.player.getCurrentTime():0},set:function(a){this.currentTime!==a&&1===this._playerReady&&this.player.seekTo(a,!0)},enumerable:!0,configurable:!0}),d(c.prototype,"duration",{get:function(){return 1===this._playerReady?this.player.getDuration():0},enumerable:!0,configurable:!0}),d(c.prototype,"loop",{get:function(){return!!this._loop},set:function(b){var c=this;this._loop=b,0!==this.loaded&&this.__loop!==b&&(this.__loop,this.player.removeEventListener("onStateChange",this._handlers.onStateChange),b&&(a[this._handlers.onStateChange=ei.get()]=function(a){a&&0===a.data&&c.replay()},this.player.addEventListener("onStateChange",this._handlers.onStateChange)))},enumerable:!0,configurable:!0}),d(c.prototype,"startTime",{set:function(a){this._startTime=a},enumerable:!0,configurable:!0}),c.prototype.destroy=function(){if(mi.instance&&mi.getInstance().remove(this),this._clearEvents(),this.player){1===this._playerReady&&this.player.stopVideo();try{this.player.destroy()}catch(a){}this.player=null}this._playerReady=-1,db(this._node),this._node=null},c.pattern=function(){var a="https://www.youtube.com/embed/{src}?wmode=opaque&enablejsapi=1&portrait=0&loop={_loop}";return/^http/.exec(location.protocol)?a+"&origin="+location.protocol+"//"+location.host:a}(),c.TIMEOUT=12345,c}(nc),mi=function(){function c(){this.ready=0,this.loading=!1,this._queue=[]}return c.prototype.load=function(){var c=this;if(!this.ready&&!this.loading){this.loading=!0;var d,e=a.onYouTubeIframeAPIReady,f=null,g=function(b){return function(){null!=f&&uc(f),a.onYouTubeIframeAPIReady=null,d.onerror=null,d=null,c.onready(b),e&&(e.call(a),e=null)}};a.onYouTubeIframeAPIReady=g(!0);var h=g(!1);d=Ad("script"),d.onerror=h,d.src="https://www.youtube.com/iframe_api";var i=function(){var a=b.body;a?(a.appendChild(d),f=tc(h,12345e3)):tc(i,500),a=null};i()}},c.prototype.onready=function(a){this.ready=a?1:-1,this.loading=!1;for(var b=this._queue;b.length;){var c=b.shift();c&&(a?c.onApiReady():c.onApiError())}},c.prototype.contains=function(a){return this._queue.indexOf(a)>=0},c.prototype.add=function(a){return this.ready?this.ready>0?a.onApiReady():a.onApiError():(this.load(),this._queue.push(a)),this},c.prototype.remove=function(a){var b=this._queue.indexOf(a);return b>=0&&this._queue.splice(b,1),this},c.getInstance=function(){var a=c;return a.instance||(a.instance=new a),a.instance},c}(),ni={_classes:{},register:function(a,b){b.pluginType=a,ni._classes[a]=b},create:function(a,b,c){try{return new ni._classes[a](c,b)}catch(d){return null}}},oi=function(a){function b(b,c){a.call(this),this.app=b,this.options=c,this._timer=null,this._init()}return oc(b,a),b.prototype._init=function(){this._progressBar=new ai(pb({container:this.app.container,trikleRatio:.01},this.options)),this._setLoadEvents(!0)},b.prototype._setLoadEvents=function(a){var b=this.app,c=a?"addEventListener":"removeEventListener";b[c]("preloadStart",this._start,this),b[c]("preloadProgress",this._onPreloadProgress,this),b[c]("preloadEnd",this._done,this),b[c]("loadStart",this._start,this),b[c]("loadProgress",this._onLoadProgress,this),b[c]("loadEnd",this._done,this)},b.prototype._clearTimer=function(){null!=this._timer&&(uc(this._timer),this._timer=null)},b.prototype._start=function(){var a=this;this._clearTimer(),this._timer=tc(function(){a._clearTimer(),a._progressBar.start()},150)},b.prototype._done=function(){this._clearTimer(),this._progressBar.done()},b.prototype._onPreloadProgress=function(a){var b=a.data,c=~~(b.loadedNumScenes*(1/b.targetNumScenes)),d=b.loaded/b.total/b.targetNumScenes;this._timer&&(this._clearTimer(),this._start()),this._progressBar.set(c+d)},b.prototype._onLoadProgress=function(a){var b=a.data;b.sceneIndex===this.app.current&&this._progressBar.set(b.loaded/b.total)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this._setLoadEvents(!1),this._clearTimer(),this._progressBar.destroy(),this._progressBar=null},b}(pc);ni.register("progressBar",oi);var pi=function(a){function c(){a.call(this),this.once=!1}return oc(c,a),c.prototype.alert=function(){for(var a=[],c=0;c<arguments.length-0;c++)a[c]=arguments[c+0];var d=this.panel;if(!d){var e=Ad("div");Ye(e,{color:"white",border:"15px solid transparent",fontSize:"15px",position:"fixed",backgroundColor:"rgba(34, 94, 116, 0.6)",zIndex:"9999999999",right:20,top:50,bottom:50,left:20,borderRadius:"4px",fontFamily:"Verdana",fontWeight:"bold",wordBreak:"break-word",whiteSpace:"pre-wrap",lineHeight:1.3,overflow:"hidden",boxShadow:"0 0 10px rgba(0, 0, 0, 1)",pointerEvents:"none"}),d=this.panel=Ad("div");d.style;Ye(d,{position:"absolute",bottom:0,right:0}),e.appendChild(d),b.body.appendChild(e)}var f=Array.prototype.slice.call(arguments);d.innerHTML+=(this.once?"\n":"")+f.join(" "),this.once=!0},c}(nc),qi=((new pi).alert,function(a){function b(b){a.call(this),this.mcanvas=Ad("canvas"),Sa(this,b);var c=this.canvas=Ad("canvas");this.pcanvas=c.cloneNode(!1),this.icanvas=c.cloneNode(!1),c.className="leo_reflection",this.ctx=c.getContext("2d"),this.pctx=this.pcanvas.getContext("2d"),this.ictx=this.icanvas.getContext("2d"),this._onImageChange(),this.watch("image",this._onImageChange,this),this.watch("width height",this.resize,this),this.watch("borderRadius borderWidth backgroundColor",this.drawImage,this),this.watch("borderColor",function(){this.borderWidth&&this.drawImage()},this),this.watch("opacity depth",this.render,this)}return oc(b,a),b.prototype.drawImage=function(){var a=this.height,b=this.width,c=this.borderWidth,d=this.ictx;if(b&&a){if(d.clearRect(0,0,b,a),this.image){d.globalCompositeOperation="source-over",this.roundRect(d,c,c,b-2*c,a-2*c,this.borderRadius),d.fillStyle="#fff",d.fill(),d.globalCompositeOperation="source-in";var e=(this.mcanvas,jd(this.image)),f=md(this.image);d.drawImage(this.mcanvas,(b-e)/2,(a-f)/2,e,f)}d.globalCompositeOperation="destination-over",d.fillStyle=this.backgroundColor,d.fill(),this.render()}},b.prototype._onImageChange=function(){var a=this.mcanvas,b=this.image;if(b){var c=b.naturalWidth||b.width,d=b.naturalHeight||b.height,e=a.getContext("2d");a.width=c,a.height=d,e.clearRect(0,0,c,d);try{e.drawImage(b,0,0,c,d)}catch(f){}this.drawImage()}},b.prototype.resize=function(){var a=this.width,b=this.height;if(a&&b){var c=this.canvas;c.width=a,c.height=b,jd(c,a),md(c,b);var d=this.pcanvas;d.width=a,d.height=b,jd(d,a),md(d,b);var e=this.icanvas;e.width=a,e.height=b,jd(e,a),md(e,b),this.drawImage()}},b.prototype.render=function(){this.renderTimeout&&zc(this.renderTimeout),this.renderTimeout=yc(this._render,this)},b.prototype._render=function(){var a=this.width,b=this.height,c=this.ctx;c.clearRect(0,0,a,b);var d=this.borderRadius,e=this.roundRect,f=1-this.depth,g=this.opacity,h=b*f,i=c.createLinearGradient(0,h,0,b);i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,"+g+")"),c.globalCompositeOperation="source-over",c.fillStyle=i,c.fillRect(0,0,a,b);var j=this.pctx,k=this.borderWidth,l=this.borderColor;if(k&&!Ee.isTransparent(l)){var m=k/2;j.clearRect(0,0,a,b),e(j,m,m,a-k,b-k,d),j.strokeStyle=l,j.lineWidth=k,j.stroke()}j.drawImage(this.ictx.canvas,0,0,a,b),c.globalCompositeOperation="source-in",c.drawImage(j.canvas,0,0,a,b)},b.prototype.roundRect=function(a,b,c,d,e,f){if(0===f)return a.beginPath(),a.rect(b,c,d,e),void a.closePath();f>50&&(f=50);var g,h,i,j,k,l,m,n,o=Math.max(d,e),p=Math.min(d,e),q=o*f/100;q>p/2?(g=h=k=l=d*f/100,i=j=m=n=e*f/100):g=h=i=j=k=l=m=n=q;var r=.5522848;a.beginPath(),a.moveTo(b,n+c),a.bezierCurveTo(b,n*(1-r)+c,g-g*r+b,c,g+b,c),a.lineTo(d-h+b,c),a.bezierCurveTo(d-h*(1-r)+b,c,d+b,i-i*r+c,d+b,i+c),a.lineTo(d+b,e-j+c),a.bezierCurveTo(d+b,e-j*(1-r)+c,d-k*(1-r)+b,e+c,d-k+b,e+c),a.lineTo(l+b,e+c),a.bezierCurveTo(l*(1-r)+b,e+c,b,e-m*(1-r)+c,b,e-m+c),a.lineTo(b,n+c),a.closePath()},b.prototype.destroy=function(){a.prototype.destroy.call(this),zc(this.renderTimeout)},b}(pc));Ta(qi.prototype,{width:0,height:0,opacity:0,depth:0,backgroundColor:"transparent",image:null,borderWidth:0,borderColor:"#fff",borderRadius:0});var ri=function(){},si=ri.prototype=[];si.__leoS__=1;var ti=function(a){return Mi(a,si)},ui=function(a){return ti(a.nodeType?[a]:Dc("string"==typeof a?b.querySelectorAll(a):a))};si.addClass=function(a){return this.classed(a,1)},si.append=function(a){if(a.nodeType)return ui(this[0].appendChild(a));if("function"==typeof a)return this.select(function(b){return this.appendChild(a.call(this,b))});for(var b=ui(a),c=this[0],d=-1,e=b.length;++d<e;)c.appendChild(b[d]);return b},si.appendTo=function(a){if("function"==typeof a)return this.each(function(b){a.call(this,b).appendChild(this)});var b=ui(a)[0];return b?this.each(function(a){b.appendChild(this)}):this},si.at=function(a){return ti([this[a]])},si.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this[0],d=zd(a);return d.space?c.getAttributeNS(d.space,d.local):c.getAttribute(a)}for(var e in a)this.each(Db(e,a[e]));return this}return this.each(Db(a,b))},si.bind=function(a,b){var c=fh;return arguments.length<2?this.each(function(){for(var b in a)c(this,b,a[b])}):this.each(function(){c(this,a,b)})},si.children=function(a){for(var b="function"==typeof a?a:a?function(){return uh(a,this)}:function(){return!0},c=[],d=-1,e=this.length;++d<e;){var f=this[d];if(f&&(1===f.nodeType||9===f.nodeType))for(var g=f.children,h=-1,i=g.length;++h<i;)(f=g[h])&&1===f.nodeType&&b.call(f,h,d)&&c.push(f)}return ti(c)},si.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this[0],d=a.split(/^|\s+/),e=d.length,f=-1,g=c.classList;if(g){for(;++f<e;)if(!g.contains(d[f]))return!1}else for(var h=" "+c.className+" ";++f<e;)if(h.indexOf(" "+d[f])<0)return!1;return!0}for(var i in a)this.each(Eb(i,a[i]));return this}return this.each(Eb(a,b))},si.clone=function(a){var b=this;return a&&(b=this.filter(a)),b.select(function(){return Ya(this)})},si.each=function(a){for(var b=-1,c=this.length;++b<c;)a.call(this[b],b);return this},si.el=function(a){var b=Gb(a);return this.select(function(a){return this.appendChild(b.call(this,a))})};var vi=ui.el=function(a){return ui(Ad(a))};si.filter=function(a){for(var b="function"==typeof a?a:function(){return uh(a,this)},c=[],d=-1,e=this.length;++d<e;){var f=this[d];f&&b.call(f,d)&&c.push(f)}return ti(c)},si.hasClass=function(a){return this.classed(a)},si.html=function(a,b){return 0===arguments.length?this[0].innerHTML:(b=!!b,this.each("function"==typeof a?function(c){rh(this,a.call(this,c),b)}:function(){rh(this,a,b)}))},si.insert=function(a,b){var c=b;if("function"!=typeof b){var d=ui(b)[0];c=function(){return d}}if(a.nodeType)return ui(this[0].insertBefore(a,c.call(this[0],0)))
;if("function"==typeof a)return this.select(function(b){return this.insertBefore(a.call(this,b),c.call(this,b))});for(var e=ui(a),f=this[0],g=-1,h=e.length;++g<h;)f.insertBefore(e[g],c.call(f,g));return e},si.parent=function(){return this.select(function(){var a=this.parentNode;return a&&11!==a.nodeType?a:null})};var wi=function(a,b){return ui(Hh(a,b).childNodes)};ui.parse=wi,si.prepend=function(a){return this.insert(a,function(){return this.firstChild})},si.prependTo=function(a){if("function"==typeof a)return this.each(function(b){var c=a.call(this,b);c.insertBefore(this,c.firstChild||null)});var b=ui(a)[0];return b?this.each(function(a){b.insertBefore(this,b.firstChild||null)}):this},si.prop=function(a,b){if(arguments.length<2){if("string"==typeof a)return"value"===a?this.val():this[0][a];var c="value"in a;c&&this.val(a.value);for(var d in a)c&&"value"===d||this.each(Hb(d,a[d]));return this}return"value"===a?this.val(b):this.each(Hb(a,b))},si.range=function(a,b){return ti(this.slice(a,b))},si.remove=function(){return this.each(function(){db(this)})},si.removeClass=function(a){return this.classed(a,0)},si.select=function(a){for(var b="function"==typeof a?a:function(){return this.querySelectorAll(a)},c=[],d=-1,e=this.length;++d<e;){var f=this[d],g=b.call(f,d);if(g)if(g.nodeType&&!g.length)c.push(g);else for(var h=Dc(g),i=-1,j=h.length;++i<j;)(f=h[i])&&c.push(f)}return ti(c)},si.style=function(a,b){if(arguments.length<2){if("string"==typeof a)return Xe(this[0],a);for(var c in a)this.each(Ib(c,a[c]));return this}return this.each(Ib(a,b))},si.text=function(a){if(0===arguments.length)return this[0].innerHTML;var b;return"function"==typeof a?b=function(b){this.textContent=a.call(this,b)}:(a=""+a,b=function(){this.textContent=a}),this.each(b)},si.toggleClass=function(a){return this.classed(a,2)},si.traverse=function(a,b){var c="function"==typeof b?b:b?function(){return uh(b,this)}:function(){return!0};return this.each(function(){for(var b=[this];b.length;){var d=b.pop();if(1===d.nodeType){c.call(d)&&a.call(d);for(var e=d.children,f=-1,g=e.length;++f<g;)b.push(e[f])}}})},si.unbind=function(a,b){var c=ih;return arguments.length<2?this.each(function(){for(var b in a)c(this,b,a[b])}):this.each(function(){c(this,a,b)})},si.unbindAll=function(a){var b=jh;if(arguments.length<1)return this.each(function(){b(this)});var c=a.split(" ");return this.each(function(){for(var a=-1,d=c.length;++a<d;){var e=c[a];e&&b(this,e)}})},si.val=function(a){if(0===arguments.length){var b=this[0];if(1===b.nodeType)return(b.value||"").replace(/\r/g,"")}var c="function"==typeof a;return this.each(function(b,d){if(1===this.nodeType){var e;e=c?a.call(this,b,d):a,this.value=e}})},si.wrap=function(a,b){b=!!b;var c=typeof a;if("function"===c)return this.each(function(b){sb(this,a.call(this,b))});var d="string"===c?Hh(a,b):a;return this.each(function(){sb(this,d.cloneNode(!0))})};var xi,yi=function(a){function b(b,c,d,e){a.call(this),this._currentActionName="",this._currentActionIndex=0,this._currentFrame=0,this._currentSrc="",this.element=Ad("div"),this.loaded=0,this._imgs=null,this.onload=null,b&&b.appendChild(this.element),this._init(c,d,e)}return oc(b,a),b.prototype._init=function(a,b,c){this._srcset=a||[],this._frames=b||[],this._actions=c||{},this._load()},d(b.prototype,"srcset",{get:function(){return this._srcset},set:function(a){this._srcset=a||[],this._load()},enumerable:!0,configurable:!0}),d(b.prototype,"frames",{get:function(){return this._frames},set:function(a){this._frames=a||[],this._currentActionName?this._setCurrentActionIndex(this._currentActionIndex,!0):this._setCurrentFrame(0,!0)},enumerable:!0,configurable:!0}),b.prototype.getAction=function(a){return this._actions[a]},b.prototype.containsAction=function(a){return this._actions.hasOwnProperty(a)},d(b.prototype,"actions",{set:function(a){this._actions=a||{},this._currentActionName&&this.containsAction(this._currentActionName)?this._setCurrentActionIndex(this._currentActionIndex,!1):this.currentActionName=""},enumerable:!0,configurable:!0}),b.prototype.addAction=function(a,b){this._actions[a]=b},b.prototype.removeAction=function(a){this.containsAction(a)&&delete this._actions[a]},d(b.prototype,"currentActionName",{get:function(){return this._currentActionName},set:function(a){this._currentActionName!==a&&(this._currentActionName=this.containsAction(a)?a:"",this.currentActionIndex=0)},enumerable:!0,configurable:!0}),d(b.prototype,"currentActionIndex",{get:function(){return this._currentActionIndex},set:function(a){this._setCurrentActionIndex(a,!1)},enumerable:!0,configurable:!0}),d(b.prototype,"numFramesOfCurrentAction",{get:function(){return this.getNumFramesOfAction(this._currentActionName)},enumerable:!0,configurable:!0}),b.prototype.getNumFramesOfAction=function(a){return a&&this.containsAction(a)?this._actions[a].length:0},b.prototype._setCurrentActionIndex=function(a,b){var c=this.numFramesOfCurrentAction;if(!c)return this._currentActionIndex=0,void this._setCurrentFrame(0,b);a>=c?a=c-1:a<0&&(a=0),this._currentActionIndex=a,this._setCurrentFrame(this._actions[this._currentActionName][a],b)},d(b.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(a){this._setCurrentFrame(a,!1)},enumerable:!0,configurable:!0}),b.prototype._setCurrentFrame=function(a,b){var c=this._frames.length;a>=c&&(a=c-1),a<0&&(a=0),(b||this._currentFrame!==a)&&this.update(a,b)},d(b.prototype,"currentSrc",{get:function(){return this._currentSrc},enumerable:!0,configurable:!0}),b.prototype._setCurrentSrc=function(a,b,c,d){if(d||this._currentSrc!==a){this._currentSrc=a;var e=this.element.style;e.backgroundImage=a?"url("+a+")":"none",e.width=b+"px",e.height=c+"px",this._onSizeChange(b,c)}},b.prototype.update=function(a,b){var c=this._currentFrame;if(this._currentFrame=a,this.loaded){var d=this._frames,e=this.element.style;if(!d.length)return void this._setCurrentSrc("",0,0,b);var f=d[a];if(this._setCurrentSrc(this._srcset[f[0]],f[3],f[4],b),c!==a){var g=d[c];g[3]===f[3]&&g[4]===f[4]||(e.width=f[3]+"px",e.height=f[4]+"px",this._onSizeChange(f[3],f[4])),g[1]===f[1]&&g[2]===f[2]||(e.backgroundPosition=-f[1]+"px "+-f[2]+"px")}else e.backgroundPosition=-f[1]+"px "+-f[2]+"px"}},b.prototype._load=function(){function a(){this.onload=this.onerror=null,--d||f._onload(!!e)}function b(){this.onload=this.onerror=null,++e,--d||f._onload(!0)}if(this._clearLoad(),this._currentFrame=0,this._srcset.length){var c=this._srcset;this._imgs||(this._imgs=[]);for(var d=c.length,e=0,f=this,g=(this.element,this._imgs),h=-1,i=c.length;++h<i;){var j=g[h]=Ad("img");j.onload=a,j.onerror=b,j.src=c[h]}}else this._onload(!0)},b.prototype._clearLoad=function(){this._imgs&&(this._imgs.forEach(function(a){a.onload=a.onerror=null,a.src=Ac}),this._imgs.length=0),this.loaded=0},b.prototype._onload=function(a){this.loaded=a?-1:1,this.update(this._currentFrame,!0),this.onload&&this.onload()},b.prototype._onSizeChange=function(a,b){this.onSizeChange&&this.onSizeChange(a,b)},b.prototype.destroy=function(){this._clearLoad(),this._imgs=null,this._actions=null,this._srcset=null,this._frames=null,this.element&&db(this.element),this.element=null},b}(nc),zi=function(a){function b(b,c){void 0===c&&(c={}),a.call(this),this.options=c,jQuery&&jQuery.flash&&(this.container=jQuery(b),this.container.flash(c))}return oc(b,a),b.prototype.stop=function(){this.pause(),this.container.flash(function(){this.GotoFrame&&this.GotoFrame(0)})},b.prototype.pause=function(){this.container.flash(function(){this.StopPlay&&this.StopPlay()})},b.prototype.play=function(){this.container.flash(function(){this.Play&&this.Play()})},b.prototype.replay=function(){this.stop(),this.play()},b.prototype.destroy=function(){this.container&&(this.pause(),this.container.flash().remove(),this.container=null)},d(b.prototype,"src",{set:function(a){this.container.flash(function(){this.setAttribute("data",a)})},enumerable:!0,configurable:!0}),d(b.prototype,"width",{set:function(a){this.container.flash(function(){this.setAttribute("width",a)})},enumerable:!0,configurable:!0}),d(b.prototype,"height",{set:function(a){this.container.flash(function(){this.setAttribute("height",a)})},enumerable:!0,configurable:!0}),d(b.prototype,"offsetX",{set:function(a){this.container.flash(function(){Ye(this,"tx",a)})},enumerable:!0,configurable:!0}),d(b.prototype,"offsetY",{set:function(a){this.container.flash(function(){Ye(this,"ty",a)})},enumerable:!0,configurable:!0}),b}(nc),Ai=function(a){function b(b,c){a.call(this),this.context=c,this.deep=!1,this._family="",this._size=16,this._color="#000",this._bold=!1,this._el=b}return oc(b,a),d(b.prototype,"el",{get:function(){return this._el},enumerable:!0,configurable:!0}),d(b.prototype,"family",{get:function(){return this._family},set:function(a){if(this._family!==a){var b=this._family;this._family=a,this._set(function(){this.style.fontFamily=a}),this.notifyPropertyChange("family",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"size",{get:function(){return this._size},set:function(a){if(this._size!==a){var b=this._size;this._size=a;var c=a+"px";this._set(function(){this.style.fontSize=c}),this._onSizeChange(b),this.notifyPropertyChange("size",b)}},enumerable:!0,configurable:!0}),b.prototype._onSizeChange=function(a){},d(b.prototype,"color",{get:function(){return this._color},set:function(a){if(this._color!==a){var b=this._color;this._color=a,this._set(function(){this.style.color=a}),this.notifyPropertyChange("color",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"bold",{get:function(){return this._bold},set:function(a){if(this._bold!==a){this._bold=a;var b=a?"400":"100";this._set(function(){this.style.fontWeight=b}),this.notifyPropertyChange("bold",!a)}},enumerable:!0,configurable:!0}),b.prototype._set=function(a,b){this.deep?this._el.traverse(a,b):a.call(this._el[0])},b.prototype.notifyPropertyChange=function(a,b){this.context&&this.context.notifyPropertyChange("textFormat."+a,b)},b.prototype.destroy=function(){this._el=this.context=null},b.compatProperty=function(a){return b._compatTable[a]},b._compatTable={color:"textFormat.color",family:"textFormat.family",bold:"textFormat.bold",size:"textFormat.size"},b}(nc),Bi=function(a){function b(b,c){a.call(this,b,c),this.context=c,this._align="left",this._letterSpacing=0,this._leading=0}return oc(b,a),d(b.prototype,"align",{get:function(){return this._align},set:function(a){if(this._align!==a){var b=this._align;this._align=a,this._set(function(){this.style.textAlign=a},function(){return"p"===this.nodeName.toLowerCase()}),this.notifyPropertyChange("align",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(a){if(this._letterSpacing!==a){var b=this._letterSpacing;this._letterSpacing=a;var c=a+"px";this._set(function(){this.style.letterSpacing=c}),this.notifyPropertyChange("letterSpacing",b)}},enumerable:!0,configurable:!0}),d(b.prototype,"leading",{get:function(){return this._leading},set:function(a){if(this._leading!==a){var b=this._leading;this._leading=a;var c=this.size+a+"px";this._set(function(){this.style.lineHeight=c},function(){return"p"===this.nodeName.toLowerCase()}),this.notifyPropertyChange("leading",b)}},enumerable:!0,configurable:!0}),b.prototype._onSizeChange=function(){this._el[0].style.lineHeight=this.size+this._leading+"px"},b.compatProperty=function(a){return Ai._compatTable[a]||b._compatTable[a]},b._compatTable={align:"textFormat.align",letterSpacing:"textFormat.letterSpacing",leading:"textFormat.leading"},b}(Ai),Ci=Nb(Lb,"fatal"),Di=Nb(Kb,"warn"),Ei=Nb(Jb,"log"),Fi=Mb(Ci),Gi=Mb(Di),Hi=Mb(Ei),Ii=function(){function a(){}return a.timeStampEnabled=!0,a.fatal=Pb(Ob(Qb(Fi,Ci,Rb))),a.warning=Pb(Ob(Qb(Gi,Di,Rb))),a.log=Pb(Ob(Qb(Hi,Ei,Rb))),a}(),Ji=function(){function a(){}return a.addPoolingTo=function(b,c){void 0===c&&(c=a.DEFAULT),b.instancePool=[],b.getPooled=c,b.poolSize||(b.poolSize=a.DEFAULT_SIZE),b.recycle=a.DEFAULT_RECYCLER},a.DEFAULT_RECYCLER=function(a){var b=this;a.destructor&&a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},a.DEFAULT=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return c.reinitialize&&c.reinitialize(a),c}return new b(a)},a.TWO_ARGUMENTS=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return d.reinitialize&&d.reinitialize(a,b),d}return new c(a,b)},a.THREE_ARGUMENTS=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return e.reinitialize&&e.reinitialize(a,b,c),e}return new d(a,b,c)},a.FOUR_ARGUMENTS=function(a,b,c,d){var e=this;if(e.instancePool.length){var f=e.instancePool.pop();return f.reinitialize&&f.reinitialize(a,b,c,d),f}return new e(a,b,c,d)},a.FIVE_ARGUMENTS=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return g.reinitialize&&g.reinitialize(a,b,c,d,e),g}return new f(a,b,c,d,e)},a.DEFAULT_SIZE=10,a}(),Ki={"<":"lt",">":"gt","&":"amp"},Li=function(){return(new Date).getTime()},Mi=Object.setPrototypeOf||{}.__proto__===Object.prototype?function(a,b){return a.__proto__=b,a}:function(a,b){for(var c in b)a[c]=b[c];return a},Ni=((Math.random()+"").substr(3,5),/\{([^\}]+)\}/g),Oi=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,Pi=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g)},Qi=function(a){return Pi.call(a)},Ri=function(a){function b(b){a.call(this,b),this._initialWidth=this.options.initialWidth,this._initialHeight=this.options.initialHeight}return oc(b,a),b.prototype._afterInit=function(){this.resize(this._initialWidth,this._initialHeight)},b.prototype.play=function(){return this.start(),this.current=0,this.resume()},b.prototype.reset=function(){return this.pause(),this.resetTimer(),this},b.prototype.replay=function(){return this.reset(),this.play()},b.prototype.initLayout=function(){this._app=this._container},b.prototype.initStage=function(){a.prototype.initStage.call(this)},b.prototype.destroyLayout=function(){},b.prototype.resize=function(b,c){this._initialized?a.prototype.resize.call(this,b,c):(this._initialWidth=b,this._initialHeight=c)},b}(Ld)}a.hiSliderFactory=jc,pb(lc,{RootTimeline:Wc,Tween:Xc,Animation:Rc,Timeline:Tc})}(this,document);